<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>解决scanf读取回车</title>
    <link href="/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/"/>
    <url>/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="解决scanf读取回车"><a href="#解决scanf读取回车" class="headerlink" title="解决scanf读取回车"></a>解决scanf读取回车</h1><h3 id="一、问题"><a href="#一、问题" class="headerlink" title="一、问题"></a>一、问题</h3><p>对于<strong>两个连续的scanf</strong>中，下一个scanf读取了上一个scanf输入的回车键</p><p>导致程序无法正常进行</p><p>eg:这是一个计算年利率的程序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>会得到</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Enter money:<br>1000<br>Enter year:<br></code></pre></td></tr></table></figure><hr><h3 id="二、解决方法"><a href="#二、解决方法" class="headerlink" title="二、解决方法"></a>二、解决方法</h3><h4 id="1-添加一个空格"><a href="#1-添加一个空格" class="headerlink" title="1.添加一个空格"></a>1.添加一个空格</h4><p>利用空格创造一个缓冲区，将上一个的scanf的回车输入缓存区中，使下一个scanf不读取这个回车</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %d&quot;</span>,&amp;year);          <span class="hljs-comment">//注意%d前面的空格</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %lf&quot;</span>,&amp;rate);         <span class="hljs-comment">//注意%d前面的空格</span><br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);   <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-利用-fflush-stdin"><a href="#2-利用-fflush-stdin" class="headerlink" title="2.利用//fflush(stdin)"></a>2.利用<code>//fflush(stdin)</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-使用-1s"><a href="#3-使用-1s" class="headerlink" title="3.使用%1s"></a>3.使用%1s</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%1s&quot;</span>,&amp;year);       <span class="hljs-comment">//不知道是不是这样的，以后有空问老师</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>宏定义</title>
    <link href="/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/"/>
    <url>/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h1><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><blockquote><p>用更有意义的名称代替数字，<strong>便于统一修改和维护</strong><br>提高代码可读性，避免重复代码，没有函数调用的开销</p></blockquote><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br>&gt;<span class="hljs-comment">// 定义宏常量</span><br>&gt;<span class="hljs-meta">#<span class="hljs-keyword">define</span> TAX_RATE 0.1  <span class="hljs-comment">// 税率10%</span></span><br><br>&gt;<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>   <span class="hljs-type">int</span> money;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入金额: &quot;</span>);<br>   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;money);<br>   <br>   <span class="hljs-comment">// 使用宏计算税费</span><br>   <span class="hljs-type">int</span> tax = money * TAX_RATE;<br>   <span class="hljs-type">int</span> total = money + tax;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;金额: %d元\n&quot;</span>, money);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;税费: %d元\n&quot;</span>, tax);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;总计: %d元\n&quot;</span>, total);<br>   <br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&gt;&#125;<br><br>&gt;<span class="hljs-comment">/*输出</span><br><span class="hljs-comment">&gt;请输入金额: 100</span><br><span class="hljs-comment">&gt;金额: 100元</span><br><span class="hljs-comment">&gt;税费: 10元</span><br><span class="hljs-comment">&gt;总计: 110元</span><br><span class="hljs-comment">&gt;*/</span><br></code></pre></td></tr></table></figure></blockquote><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p><code>#define</code> 是编译预处理命令，不是C语句，结尾无分号</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>math.h中的函数</title>
    <link href="/2025/10/24/math.h/"/>
    <url>/2025/10/24/math.h/</url>
    
    <content type="html"><![CDATA[<h1 id="include-中的函数"><a href="#include-中的函数" class="headerlink" title="#include &lt;math.h&gt;中的函数"></a>#include &lt;math.h&gt;中的函数</h1><h2 id="一、幂函数"><a href="#一、幂函数" class="headerlink" title="一、幂函数"></a>一、幂函数</h2><blockquote><p>m^n^  及m的n次方，利用pow函数<br>即<code>pow(m,n)</code></p><p>eg：计算圆的面积</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">double</span> r,are;<br>    <span class="hljs-type">double</span> pi = <span class="hljs-number">3.1415926</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入圆的半径: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;r);<br>    are = pi * <span class="hljs-built_in">pow</span>(r,<span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;半径为 %.2f 的圆的面积是: %.2f\n&quot;</span>,r,are);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></blockquote><h2 id="二、浮点数绝对值"><a href="#二、浮点数绝对值" class="headerlink" title="二、浮点数绝对值"></a>二、浮点数绝对值</h2><blockquote><p>对一个负数取绝对值 |-123|&#x3D;123<br>即 <code>fabs(n)</code></p><p>eg 1:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> num1 = <span class="hljs-number">-5.7</span>;<br>    <span class="hljs-type">double</span> num2 = <span class="hljs-number">3.2</span>;<br>    <span class="hljs-type">double</span> num3 = <span class="hljs-number">-0.0</span>;<br>    <br>    <span class="hljs-comment">// 使用fabs计算绝对值</span><br>    <span class="hljs-type">double</span> result1 = <span class="hljs-built_in">fabs</span>(num1);<br>    <span class="hljs-type">double</span> result2 = <span class="hljs-built_in">fabs</span>(num2);<br>    <span class="hljs-type">double</span> result3 = <span class="hljs-built_in">fabs</span>(num3);<br>    <br>    <span class="hljs-comment">// 输出结果</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num1, result1);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num2, result2);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num3, result3);<br>    <br>    <span class="hljs-comment">// 实际应用示例</span><br>    <span class="hljs-type">double</span> user_input;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n请输入一个数字: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>, &amp;user_input);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您输入的数字的绝对值是: %.2f\n&quot;</span>, <span class="hljs-built_in">fabs</span>(user_input));<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">运行结果:</span><br><span class="hljs-comment">fabs(-5.7) = 5.7</span><br><span class="hljs-comment">fabs(3.2) = 3.2</span><br><span class="hljs-comment">fabs(-0.0) = 0.0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">请输入一个数字: -8.5</span><br><span class="hljs-comment">您输入的数字的绝对值是: 8.50</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>eg 2:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> g,s,b;<br>    <span class="hljs-type">int</span> x,y;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input x:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    x=<span class="hljs-built_in">fabs</span>(x);<br>    g=x%<span class="hljs-number">10</span>;<br>    s=x/<span class="hljs-number">10</span>%<span class="hljs-number">10</span>;<br>    b=x/<span class="hljs-number">100</span>%<span class="hljs-number">10</span>;<br>    y=g*<span class="hljs-number">100</span>+s*<span class="hljs-number">10</span>+b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;y=%d\n&quot;</span>,y);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*输出</span><br><span class="hljs-comment">Input x:-123</span><br><span class="hljs-comment">y=321</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></blockquote><p>​</p>]]></content>
    
    
    
    <tags>
      
      <tag>123</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
