<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>运算符优先级判断技巧</title>
    <link href="/2025/12/23/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7%E5%88%A4%E6%96%AD%E6%8A%80%E5%B7%A7/"/>
    <url>/2025/12/23/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7%E5%88%A4%E6%96%AD%E6%8A%80%E5%B7%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="运算符优先级判断技巧"><a href="#运算符优先级判断技巧" class="headerlink" title="运算符优先级判断技巧"></a>运算符优先级判断技巧</h1><p>在C语言的逻辑里，**数学运算（算术）*<em>的优先级高于*<em>比较运算（关系）</em></em></p><h4 id="第一层：非-Unary-单目-——-霸道总裁"><a href="#第一层：非-Unary-单目-——-霸道总裁" class="headerlink" title="第一层：非 (Unary &#x2F; 单目) —— 霸道总裁"></a>第一层：非 (Unary &#x2F; 单目) —— 霸道总裁</h4><ul><li><strong>运算符：</strong> <code>!</code> (逻辑非), <code>++</code>, <code>--</code>, <code>sizeof</code>, <code>~</code>, <code>*</code> (指针取值)</li><li><strong>特点：</strong> 它们紧紧贴着变量，最先执行。比如 <code>!a</code> 或 <code>i++</code>。</li></ul><h4 id="第二层：算-Arithmetic-算术-——-先算账"><a href="#第二层：算-Arithmetic-算术-——-先算账" class="headerlink" title="第二层：算 (Arithmetic &#x2F; 算术) —— 先算账"></a>第二层：算 (Arithmetic &#x2F; 算术) —— 先算账</h4><ul><li><strong>运算符：</strong> <code>*</code>, <code>/</code>, <code>%</code> <strong>&gt;</strong> <code>+</code>, <code>-</code></li><li><strong>特点：</strong> 这里遵循小学数学，“先乘除模，后加减”。</li></ul><h4 id="第三层：关-Relational-关系-——-后比较"><a href="#第三层：关-Relational-关系-——-后比较" class="headerlink" title="第三层：关 (Relational &#x2F; 关系) —— 后比较"></a>第三层：关 (Relational &#x2F; 关系) —— 后比较</h4><ul><li><strong>运算符：</strong> <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code> <strong>&gt;</strong> <code>==</code>, <code>!=</code></li><li><strong>注意（这也是考点）：</strong> <strong>“比较大小”的优先级 高于 “判断相等”。</strong><ul><li>例子：<code>a &lt; b == c</code> 实际上是先算 <code>(a &lt; b)</code> 的结果（0或1），再看这个结果等不等于 <code>c</code>。</li></ul></li></ul><h4 id="第四层：逻-Logical-逻辑-——-判真假"><a href="#第四层：逻-Logical-逻辑-——-判真假" class="headerlink" title="第四层：逻 (Logical &#x2F; 逻辑) —— 判真假"></a>第四层：逻 (Logical &#x2F; 逻辑) —— 判真假</h4><ul><li><strong>运算符：</strong> <code>&amp;&amp;</code> (与) <strong>&gt;</strong> <code>||</code> (或)</li><li><strong>特点：</strong> 只有两边的算术和比较都做完了，才能最后进行逻辑判断。<ul><li><strong>注意：</strong> <code>&amp;&amp;</code> 比 <code>||</code> 优先级高（类似于乘法比加法高）。</li></ul></li></ul><h4 id="第五层：赋-Assignment-赋值-——-尘埃落定"><a href="#第五层：赋-Assignment-赋值-——-尘埃落定" class="headerlink" title="第五层：赋 (Assignment &#x2F; 赋值) —— 尘埃落定"></a>第五层：赋 (Assignment &#x2F; 赋值) —— 尘埃落定</h4><ul><li><strong>运算符：</strong> <code>=</code>, <code>+=</code>, <code>-=</code>, etc.</li><li><strong>特点：</strong> 所有的架都打完了，最后把结果给别人，所以优先级极低。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>二维内存分配做函数参数</title>
    <link href="/2025/12/23/%E4%BA%8C%E7%BB%B4%E5%86%85%E5%AD%98%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0/"/>
    <url>/2025/12/23/%E4%BA%8C%E7%BB%B4%E5%86%85%E5%AD%98%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="二维内存做函数参数"><a href="#二维内存做函数参数" class="headerlink" title="二维内存做函数参数"></a>二维内存做函数参数</h1><h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs tex">(语言: C)输入n×n阶矩阵(n最大为10)，按如下函数原型<br>/*  函数功能： 计算n×n矩阵中两条对角线上的元素之和 */<br>int AddDiagonal(int a[N][N], int n);<br>用函数编程计算并输出其两条对角线上的各元素之和。<br>**输入提示信息：&quot;Input n:&quot;  &quot;Input <span class="hljs-comment">%d*%d matrix:\n&quot;</span><br>**输入格式要求：&quot;<span class="hljs-comment">%d&quot;  </span><br>**输出格式要求：&quot;sum = <span class="hljs-comment">%d\n&quot;  </span><br>程序运行示例如下：<br>Input n:5<br>Input 5*5 matrix:<br>1  2  3  4  5 <br>2  3  4  5  6 <br>3  4  5  6  7<br>4  5  6  7  8 <br>5  6  7  8  9<br>sum = 45<br>注：不允许使用goto语句<br></code></pre></td></tr></table></figure><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><p>函数声明和定义中的函数参数改成<code>int **a</code> 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SUCCESS 0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> FAIL 1</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">AddDiagonal</span><span class="hljs-params">(<span class="hljs-type">int</span>** a, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span>** a;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n:&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>a = (<span class="hljs-type">int</span>**)<span class="hljs-built_in">malloc</span>(n * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>*));<br><span class="hljs-keyword">if</span> (a == <span class="hljs-literal">NULL</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Memory allocation failed!\n&quot;</span>);<br><span class="hljs-keyword">return</span> FAIL;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++) &#123;<br>a[i] = (<span class="hljs-type">int</span>*)<span class="hljs-built_in">malloc</span>(n * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br><span class="hljs-keyword">if</span> (a[i] == <span class="hljs-literal">NULL</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Memory allocation failed!\n&quot;</span>);<br><span class="hljs-keyword">return</span> FAIL;<br>&#125;<br>&#125;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input %d*%d matrix:\n&quot;</span>, n, n);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = <span class="hljs-number">0</span>;r &lt; n;r++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; n;c++) &#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[r][c]);<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %d\n&quot;</span>, AddDiagonal(a, n));<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++) &#123;<br><span class="hljs-built_in">free</span>(a[i]);<br>&#125;<br><span class="hljs-built_in">free</span>(a);<br><br><span class="hljs-keyword">return</span> SUCCESS;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">AddDiagonal</span><span class="hljs-params">(<span class="hljs-type">int</span>** a, <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j = n - <span class="hljs-number">1</span>;i &lt; n;i++, j--) &#123;<br>sum += a[i][i] + a[i][j];<br>&#125;<br><span class="hljs-keyword">return</span> !(n % <span class="hljs-number">2</span>) ? sum : sum - a[n / <span class="hljs-number">2</span>][n / <span class="hljs-number">2</span>];<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs tex">Input n:5<br>Input 5*5 matrix:<br>1  2  3  4  5<br>2  3  4  5  6<br>3  4  5  6  7<br>4  5  6  7  8<br>5  6  7  8  9<br>sum = 45<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数组地址</title>
    <link href="/2025/12/23/%E6%95%B0%E7%BB%84%E5%9C%B0%E5%9D%80/"/>
    <url>/2025/12/23/%E6%95%B0%E7%BB%84%E5%9C%B0%E5%9D%80/</url>
    
    <content type="html"><![CDATA[<h1 id="数组地址"><a href="#数组地址" class="headerlink" title="数组地址"></a>数组地址</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">假设有int a[5]，请问表示数组a中首元素的地址是什么？<br>A: a<br>B: <span class="hljs-built_in">&amp;</span>a<br></code></pre></td></tr></table></figure><p><strong>答案：</strong> a </p><h2 id="深究数组地址："><a href="#深究数组地址：" class="headerlink" title="深究数组地址："></a>深究数组地址：</h2><h3 id="一、取地址运算符"><a href="#一、取地址运算符" class="headerlink" title="一、取地址运算符 &amp;"></a>一、取地址运算符 &amp;</h3><p>如果 <code>a</code> 是一个 <code>int</code> 类型的变量，那么 <code>&amp;a</code> 的结果类型是 **<code>int \*</code>**（读作：指向 int 的指针）</p><h4 id="怎么理解-符号？"><a href="#怎么理解-符号？" class="headerlink" title="怎么理解 &amp; 符号？"></a>怎么理解 <code>&amp;</code> 符号？</h4><p>你可以把它当成一个<strong>动作</strong>。</p><ul><li><strong><code>a</code><strong>：代表“</strong>变量里的值</strong>”（在这个房间里住着谁？）。</li><li><strong><code>&amp;a</code><strong>：代表“</strong>变量的地址</strong>”（这个房间的门牌号是多少？）。</li></ul><h4 id="a是一个地址，是什么类型的？"><a href="#a是一个地址，是什么类型的？" class="headerlink" title="&amp;a是一个地址，是什么类型的？"></a>&amp;a是一个地址，是什么类型的？</h4><p>是 <code>int *</code> 而不是 <code>int</code></p><p>虽然“地址”看起来像是一串数字（比如 <code>6422300</code>），在物理上它确实是个整数，但在 C 语言的规则里，它属于<strong>指针类型</strong>。</p><h3 id="二、怎么打印地址？"><a href="#二、怎么打印地址？" class="headerlink" title="二、怎么打印地址？"></a>二、怎么打印地址？</h3><h4 id="用什么符号打印？"><a href="#用什么符号打印？" class="headerlink" title="用什么符号打印？"></a>用什么符号打印？</h4><p><strong>新知识：</strong>%p</p><p>就像用 <code>%d</code> 来打印整数（<strong>d</strong>ecimal），用 <code>%f</code> 来打印小数（<strong>f</strong>loat）一样：</p><ul><li><strong><code>%p</code></strong> 是专门用来打印<strong>指针（Pointer）&#x2F;地址</strong>的占位符。</li></ul><p><strong>它有什么特别的？</strong> 如果你用 <code>%d</code> 打印地址，它会显示成一个很长很乱的负数或整数。而 <code>%p</code> 会自动把地址显示成<strong>十六进制</strong>（比如 <code>000000000061FE14</code>），这是计算机里表示内存地址的标准方式。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs te">a 的地址:   504363848<br>a 的地址:   0000009B1E0FFB48<br></code></pre></td></tr></table></figure><h4 id="怎么用printf打印格式？"><a href="#怎么用printf打印格式？" class="headerlink" title="怎么用printf打印格式？"></a>怎么用printf打印格式？</h4><p><code>printf</code> 函数有点“洁癖”。对于 <code>%p</code> 这个占位符，C 语言的标准规定：<strong>你必须给我喂一个 <code>void \*</code> 类型的指针。</strong></p><p>所以要使用<strong>强制类型转换</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a 的地址:       %p\n&quot;</span>, (<span class="hljs-type">void</span>*)&amp;a);<br></code></pre></td></tr></table></figure><p>虽然直接传 <code>&amp;a</code>（它是 <code>int *</code> 类型）在很多电脑上也能运行，也能打印出结果，但严格来说，<strong>类型不匹配</strong>。严谨的编译器（或者开启了严格警告模式）会报错或报警告。</p><p>所以，<code>(void*)&amp;a</code> 的意思就是：</p><p>​“编译器大哥，我知道 <code>&amp;a</code> 是个 <code>int</code> 指针，但在打印这一刻，请把它<strong>当做</strong>一个通用指针（<code>void*</code>）传进去，别报错了。”</p><p>当你想要打印任何变量的地址时，标准写法就是“<strong>三件套</strong>”：</p><ol><li>用 <strong><code>%p</code></strong> 做占位符。</li><li>用 <strong><code>&amp;</code></strong> 取出变量的地址。</li><li>用 <strong><code>(void\*)</code></strong> 把地址转换成通用格式（为了不报错）。</li></ol><h3 id="三、a和-a分别代表什么？"><a href="#三、a和-a分别代表什么？" class="headerlink" title="三、a和&amp;a分别代表什么？"></a>三、a和&amp;a分别代表什么？</h3><p><strong>数值上，它们是同一个地址；但类型（Type）上，它们完全不同。</strong></p><ul><li><strong><code>a</code><strong>：在大多数表达式中，它“退化”为</strong>数组首元素（第0个元素）的地址</strong>。</li><li><strong><code>&amp;a</code><strong>：它是</strong>整个数组的地址</strong>。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a 的地址:   %p\n&quot;</span>, (<span class="hljs-type">void</span>*)a);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a 的地址:   %p\n&quot;</span>, (<span class="hljs-type">void</span>*)&amp;a);<br>    <span class="hljs-comment">// 你会发现上面打印的值完全一样</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>虽然它俩打印出来的十六进制数字一模一样，但在 C 语言的法律（语法规则）里，它们的身份有着云泥之别。</p><p>想象你在网上买了一箱苹果（共 5 个），快递送到你家门口了。</p><ul><li><strong>内存地址（那个数值）</strong>：就是你家门口的地板坐标。</li><li><strong><code>a</code> (即 <code>&amp;a[0]</code>)<strong>：指的是</strong>“这箱子里的第一个苹果”</strong>。</li><li><strong><code>&amp;a</code><strong>：指的是</strong>“这整个箱子”</strong>。</li></ul><p><strong>问：</strong> 为什么坐标一样？ <strong>答：</strong> 因为<strong>箱子的起始位置</strong>，和<strong>箱子里第一个苹果的位置</strong>，物理上是在同一个点重合的！如果你把箱子拆了，第一个苹果就在箱子底部的最左边。</p><h4 id="那首元素的地址到底是啥？"><a href="#那首元素的地址到底是啥？" class="headerlink" title="那首元素的地址到底是啥？"></a>那首元素的地址到底是啥？</h4><p>标准答案是 <code>a</code> （或者 <code>&amp;a[0]</code>）。</p><h3 id="四、C语言数组退化（Array-Decay）"><a href="#四、C语言数组退化（Array-Decay）" class="headerlink" title="四、C语言数组退化（Array Decay）"></a>四、C语言数组退化<strong>（Array Decay）</strong></h3><p>我们弄清a和&amp;a的区别后，会惊奇的发现a指的<strong>不是</strong>整个数组的地址，而是“退化”为<strong>数组首元素（第0个元素）的地址</strong>。</p><p>那我们在函数调用的时候，按照惯性思维，在主函数中传入的不应该是整个数组的地址&amp;a吗？</p><p>大家只传 <code>a</code>（首地址）而不传 <code>&amp;a</code>（整个数组指针），是因为 C 语言在处理函数传参时，有一个非常“抠门”且“赖皮”的规则，即<strong>数组退化</strong></p><p>怎么解释呢，我的说法是C语言在被创造出来的时候，压根就没想让函数接受一整个数组</p><p>不管你在函数定义里写得多像数组：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">(<span class="hljs-type">int</span> b[<span class="hljs-number">5</span>])</span> &#123; ... &#125; <span class="hljs-comment">// 看着像数组</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">(<span class="hljs-type">int</span> b[])</span>  &#123; ... &#125; <span class="hljs-comment">// 看着也像数组</span><br></code></pre></td></tr></table></figure><p>编译器在编译时，都会冷酷无情地把它们统统改成：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">(<span class="hljs-type">int</span> *b)</span> &#123; ... &#125;   <span class="hljs-comment">// 实质：就是一个普通的整数指针</span><br></code></pre></td></tr></table></figure><p>说白了，数组退化指的就是<strong>数组退化成指针</strong>，在函数中通过地址进行对数组的操作</p><p><strong>这意味着什么？</strong> 这意味着当你调用函数时，<strong>“箱子”的概念消失了</strong>。函数根本不知道这是一个由 5 个元素组成的整体。它只收到了一个<strong>起始坐标</strong>。</p><p>打个比方，就像让工人（函数）削苹果</p><ul><li><p>惯性思维：把封装好的“苹果箱”递给工人。</p></li><li><p><strong>C 语言的做法</strong>：你把工人带到仓库门口，指着地上的<strong>第一个苹果</strong>说：“从这开始削！”（传入 <code>a</code>）。</p><ul><li>如果你不告诉工人要削几个（传入长度），工人可能会顺着地址一直削下去，削完这 5 个，继续削后面的烂泥巴（内存越界），直到被保安（操作系统）抓走（程序崩溃）。</li></ul></li></ul><p>看看这个代码，更深层次地理解数组在函数中退化成指针：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 这里的 arr[] 看起来像个数组吧？</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test_size</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[])</span> &#123;<br>    <span class="hljs-comment">// 试图在函数内部计算数组大小</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;函数里的 sizeof: %zu\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(arr));<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;main里的 sizeof: %zu\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a));<br>    <br>    test_size(a); <span class="hljs-comment">// 把数组传进去</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tex">main里的 sizeof: 20<br>函数里的 sizeof: 8(缩水了！)<br></code></pre></td></tr></table></figure><h4 id="为什么会“缩水”？"><a href="#为什么会“缩水”？" class="headerlink" title="为什么会“缩水”？"></a>为什么会“缩水”？</h4><p>这再次印证了我们刚才说的原理：<strong>数组退化</strong>。</p><ol><li><p><strong>在 <code>main</code> 函数里</strong>： 编译器非常清楚 <code>a</code> 是一个 <code>int[5]</code>。它手里握着图纸，知道这块地盘占了 20 个字节。所以 <code>sizeof(a)</code> 返回 <strong>20</strong>。</p></li><li><p><strong>在 <code>test_size</code> 函数里</strong>： 虽然你写的是 <code>int arr[]</code>，但编译器在编译那一瞬间，就已经把它偷梁换柱改成了 <code>int *arr</code>。</p><p>这时候，<code>sizeof(arr)</code> 测量的<strong>不再是那一整箱苹果</strong>，而是<strong>“存放地址的那张小纸条”（指针变量）</strong>的大小！</p><ul><li>在 64 位系统里，一个地址（指针）占 <strong>8</strong> 字节。</li><li>在 32 位系统（如大多物联网芯片）里，一个地址（指针）占 <strong>4</strong> 字节。</li></ul></li></ol><h3 id="五、指针运算"><a href="#五、指针运算" class="headerlink" title="五、指针运算"></a>五、指针运算</h3><p>看看这两行代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a;<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a + 1 的地址:   %p\n&quot;</span>, (<span class="hljs-type">void</span>*)(a + <span class="hljs-number">1</span>));  <span class="hljs-comment">// 前进 4 字节 (一个int)</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&amp;a + 1 的地址:  %p\n&quot;</span>, (<span class="hljs-type">void</span>*)(&amp;a + <span class="hljs-number">1</span>)); <span class="hljs-comment">// 前进 20 字节 (整个数组)</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行得到：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tex">a + 1 的地址:   0000009EE75EF76C<br><span class="hljs-built_in">&amp;</span>a + 1 的地址:  0000009EE75EF77C<br></code></pre></td></tr></table></figure><p>很明显，指针运算的+1并不是数学里，<code>1 + 1 = 2</code></p><p>在 C 语言的指针世界里，<code>1 + 1</code> 的结果取决于<strong>你是谁</strong>。</p><h4 id="指针的“一步”有多大？"><a href="#指针的“一步”有多大？" class="headerlink" title="指针的“一步”有多大？"></a>指针的“一步”有多大？</h4><p>在指针的世界里，<code>+1</code> 不代表“加 1 个字节”，而是代表<strong>“加 1 个单位（Item）”</strong>。或者更通俗地说：<strong>“下一个”</strong>。</p><p>这就好比：</p><ul><li><strong>对于蚂蚁（char）来说</strong>：走一步（+1）就是挪动 <strong>1</strong> 厘米。</li><li><strong>对于人类（int）来说</strong>：走一步（+1）就是挪动 <strong>4</strong> 厘米。</li><li><strong>对于巨人（array）来说</strong>：走一步（+1）就是挪动 <strong>20</strong> 厘米。</li></ul><p><strong>计算机怎么知道“步长”是多少？</strong> 就是靠<strong>类型</strong>！</p><ul><li><code>a</code> 的类型是 <code>int *</code>（指向一个整数）。电脑知道一个整数占 <strong>4</strong> 字节。所以 <code>a+1</code> 意味着：<strong>地址往后跳 4 个字节</strong>。</li><li><code>&amp;a</code> 的类型是 <code>int (*)[5]</code>（指向一个包含5个整数的数组）。电脑知道这个大数组总共占 <code>5 * 4 = 20</code> 字节。所以 <code>&amp;a+1</code> 意味着：<strong>地址往后跳 20 个字节</strong>。</li></ul><p>如果把数组改成 <code>char a[5]</code>（char占1个字节），a+1<code>和</code>&amp;a+1&#96; 分别会增加多少字节？</p><ul><li>答：1个和5个</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>二级指针动态内存分配</title>
    <link href="/2025/12/17/%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"/>
    <url>/2025/12/17/%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="二级指针动态内存分配"><a href="#二级指针动态内存分配" class="headerlink" title="二级指针动态内存分配"></a>二级指针动态内存分配</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs tex">用动态数组编程输入任意m个班学生（每班n个学生）的某门课的成绩，计算最高分，并指出具有该最高分成绩的学生是第几个班的第几个学生。其中，m和n的值由用户从键盘任意输入（不限定m和n的上限值）。<br>输入提示信息：<br>&quot;Input array size m,n:&quot;<br>&quot;Input <span class="hljs-comment">%d*%d array:\n&quot;</span><br>输入m,n的格式：&quot;<span class="hljs-comment">%d,%d&quot;</span><br>输入成绩的格式：&quot;<span class="hljs-comment">%d&quot;</span><br>输出提示信息和格式：&quot;maxScore = <span class="hljs-comment">%d, class = %d, number = %d\n&quot;</span><br><br><br>输入：<br>Input array size m,n:2,3<br>Input 2*3 array:↙<br>90 69 88<br>97 95 95<br>maxScore = 97, class = 2, number = 1↙<br></code></pre></td></tr></table></figure><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<span class="hljs-type">int</span> m,n;<br><span class="hljs-type">int</span> **score;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input array size m,n:&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d,%d&quot;</span>,&amp;m,&amp;n);<br><br>score=(<span class="hljs-type">int</span>**)<span class="hljs-built_in">malloc</span>(m*<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>*));<br><span class="hljs-keyword">if</span>(score==<span class="hljs-literal">NULL</span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>score[i]=(<span class="hljs-type">int</span>*)<span class="hljs-built_in">malloc</span>(n*<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br><span class="hljs-keyword">if</span>(score[i]==<span class="hljs-literal">NULL</span>)&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-type">int</span> script[]=&#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;,max_score=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input %d*%d array:\n&quot;</span>,m,n);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;score[i][j]);<br><span class="hljs-keyword">if</span>(score[i][j]&gt;max_score)&#123;<br>max_score=score[i][j];<br>script[<span class="hljs-number">0</span>]=i;<br>script[<span class="hljs-number">1</span>]=j;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;maxScore = %d, class = %d,number = %d\n&quot;</span>,max_score,script[<span class="hljs-number">0</span>]+<span class="hljs-number">1</span>,script[<span class="hljs-number">1</span>]+<span class="hljs-number">1</span>);<br> <br> <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-built_in">free</span>(score[i]);<br>    &#125;<br>    <span class="hljs-built_in">free</span>(score);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>二维动态数组的内存分配</strong>在C语言中通常使用“<strong>二级指针</strong>”来实现。</p><p>简单来说，需要先申请一个用来存放“行指针”的数组，然后再为每一行申请存放“具体数值”的空间。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>动态内存分配</title>
    <link href="/2025/12/17/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/"/>
    <url>/2025/12/17/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="动态内存分配"><a href="#动态内存分配" class="headerlink" title="动态内存分配"></a>动态内存分配</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>以前如果需要从键盘输入数组的范围并定义是行不通的。</p><p>只能定义一个较大的值作为数组的大小，此时数组长度必须在<strong>编译的时候</strong>确定</p><p>而<strong>动态数组</strong>允许你在程序<strong>运行过程中</strong>（Runtime）才决定数组的大小。</p><p>有：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs tex">语言: C)产生动态数组，编写程序，输入数组大小后，通过动态分配内存函数malloc产生数组。<br>**输入格式要求：&quot;<span class="hljs-comment">%d&quot; 提示信息：&quot;Enter array size:&quot;</span><br>**输出格式要求：&quot;array[<span class="hljs-comment">%d]=%d\n&quot;</span><br>程序运行示例如下：<br>Enter array size:8<br>array[0]=0<br>array[1]=10<br>array[2]=20<br>array[3]=30<br>array[4]=40<br>array[5]=50<br>array[6]=60<br>array[7]=70<br></code></pre></td></tr></table></figure><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 必须包含这个头文件才能使用 malloc 和 free</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> size;<br>    <span class="hljs-type">int</span> *<span class="hljs-built_in">array</span>; <span class="hljs-comment">// 定义一个指针，用于指向动态分配的内存地址</span><br>    <span class="hljs-type">int</span> i;<br><br>    <span class="hljs-comment">// 1. 提示并输入数组大小</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter array size:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;size);<br><br>    <span class="hljs-comment">// 2. 动态分配内存</span><br>    <span class="hljs-comment">// malloc 返回的是 void*，通常建议显式转换为 int*</span><br>    <span class="hljs-comment">// 分配的大小是：元素个数 * 每个元素占用的字节数</span><br>    <span class="hljs-built_in">array</span> = (<span class="hljs-type">int</span>*)<span class="hljs-built_in">malloc</span>(size * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br><br>    <span class="hljs-comment">// 检查内存是否分配成功（虽然小程序通常不会失败，但在工程中这是必须的）</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">array</span> == <span class="hljs-literal">NULL</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Memory allocation failed!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 3. 赋值并按照格式输出</span><br>    <span class="hljs-comment">// 根据你的示例，规律是：数值 = 下标 * 10</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>        <span class="hljs-built_in">array</span>[i] = i * <span class="hljs-number">10</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;array[%d]=%d\n&quot;</span>, i, <span class="hljs-built_in">array</span>[i]);<br>    &#125;<br><br>    <span class="hljs-comment">// 4. 释放内存</span><br>    <span class="hljs-comment">// 动态分配的内存必须手动释放，否则会导致内存泄漏</span><br>    <span class="hljs-built_in">free</span>(<span class="hljs-built_in">array</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="int-malloc-size-sizeof-int-这一句话中的占用的字节数可不可以输入数字来替代？"><a href="#int-malloc-size-sizeof-int-这一句话中的占用的字节数可不可以输入数字来替代？" class="headerlink" title="(int*)malloc(size * sizeof(int))这一句话中的占用的字节数可不可以输入数字来替代？"></a>(int*)malloc(size * sizeof(int))这一句话中的占用的字节数可不可以输入数字来替代？</h4><p>可以，但不推荐。</p><p><code>sizeof(int)</code> 的作用是获取 <code>int</code> 类型在当前计算机上占用的字节数。</p><ul><li>在现代常见的电脑上，<code>int</code> 通常是 <strong>4</strong> 字节。</li><li>所以写 <code>malloc(size * 4)</code> 和 <code>malloc(size * sizeof(int))</code> 效果是一样的。</li></ul><p><strong>为什么不推荐写死数字？</strong> 因为<strong>可移植性（Portability）</strong>。</p><ul><li>有些老式嵌入式系统或特殊的单片机，<code>int</code> 可能是 <strong>2</strong> 字节。</li><li>如果你写死了 <code>4</code>，放到那台机器上，你的数组就会变得比预期大，或者出现内存对齐错误。</li><li>使用 <code>sizeof(int)</code>，编译器会自动帮你判断当前机器是几字节，代码更健壮。</li></ul><p>可不可以换成char，即给char类型的数组分配内存的时候？</p><p>完全可以</p><h4 id="NULL这个到底是啥？"><a href="#NULL这个到底是啥？" class="headerlink" title="NULL这个到底是啥？"></a>NULL这个到底是啥？</h4><p>在 C 语言的定义里，它长这样：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> NULL ((void *)0)</span><br></code></pre></td></tr></table></figure><p>你可以把它理解为一个<strong>“无效地址”</strong>或者<strong>“空地址”</strong>。</p><ul><li>在内存里，地址 <code>0</code> 是受操作系统严格保护的，任何程序都不允许读写这个地址。</li><li>所以，当我们把一个指针指向 <code>NULL</code>，就是明确表示：<strong>这个指针目前不指向任何有效的东西</strong>。</li></ul><h4 id="array-NULL是怎么实现检查内存是否分配成功的？"><a href="#array-NULL是怎么实现检查内存是否分配成功的？" class="headerlink" title="array &#x3D;&#x3D; NULL是怎么实现检查内存是否分配成功的？"></a>array &#x3D;&#x3D; NULL是怎么实现检查内存是否分配成功的？</h4><p>​<code>malloc</code> 的内部逻辑大致如下（简化版）：</p><ol><li>你去告诉操作系统：“我要 100 字节内存”。</li><li>操作系统去堆（Heap）里找，看有没有连续的 100 字节空地。</li><li><strong>情况一（成功）：</strong> 找到了。操作系统把这块地的<strong>首地址</strong>（比如 <code>0x12345678</code>）返回给你。<ul><li>这时 <code>array</code> 等于 <code>0x12345678</code>，不等于 <code>NULL</code>。</li></ul></li><li><strong>情况二（失败）：</strong> 内存满了，或者你要的太大了（比如你要 1000GB），实在找不到了。操作系统就会返回 **<code>NULL</code>**。<ul><li>这时 <code>array</code> 等于 <code>NULL</code>。</li></ul></li></ol><p>所以，<code>if (array == NULL)</code> 这行代码就是在问：<strong>“操作系统，你刚才给我分配内存的时候，是拒绝我了吗？”</strong></p><h4 id="free-array-中为什么动态分配的内存必须要释放？"><a href="#free-array-中为什么动态分配的内存必须要释放？" class="headerlink" title="free(array);中为什么动态分配的内存必须要释放？"></a>free(array);中为什么动态分配的内存必须要释放？</h4><p>​打个比方：酒店 vs. 家</p><ul><li><strong>栈内存（Stack - 也就是普通的变量）：</strong> 像是你的<strong>家</strong>。<ul><li>你回家（函数开始），住进去，出门（函数结束），灯自动关，房间自动空出来。系统自动管理，不需要你操心。</li></ul></li><li><strong>堆内存（Heap - 也就是 malloc 的内存）：</strong> 像是<strong>住酒店</strong>。<ul><li><code>malloc</code> 就是你去前台<strong>办理入住（申请房卡）</strong>。</li><li>你在房间里睡觉、放东西（存数组数据），这叫“使用”。</li><li><strong>关键点来了：</strong> 当你离开酒店（程序跑去执行别的函数了），如果你不去前台<strong>退房（free）</strong>，酒店系统会认为<strong>你还住在里面</strong>。</li></ul></li></ul><h5 id="什么是内存泄漏（Memory-Leak）？"><a href="#什么是内存泄漏（Memory-Leak）？" class="headerlink" title="什么是内存泄漏（Memory Leak）？"></a>什么是内存泄漏（Memory Leak）？</h5><p>你走了，但没退房。</p><ol><li><strong>对于你（程序）来说：</strong> 你的指针变量 <code>array</code> 可能在函数结束时销毁了（你把房卡丢了）。你再也找不到那个房间了，你也无法再使用它。</li><li><strong>对于酒店（操作系统）来说：</strong> 电脑显示那个房间“占用中”。如果有新客人来，酒店不能把这个房间给别人。</li></ol><p><strong>后果：</strong> 如果你写了一个死循环或者服务器程序（长期运行），不断地 <code>malloc</code> 却不 <code>free</code>（不断开房不退房），酒店的房间很快就会全部爆满。 最终，<strong>物理内存被耗尽</strong>，操作系统会强制杀掉你的程序，甚至导致电脑死机。这就是<strong>内存泄漏</strong>。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>函数指针</title>
    <link href="/2025/12/14/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/"/>
    <url>/2025/12/14/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/</url>
    
    <content type="html"><![CDATA[<h1 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tex">编写一个函数，输入n为偶数时，调用函数求1/2+1/4+...+1/n,当输入n为奇数时，调用函数 求1/1+1/3+...+1/n(要求利用函数指针编程)<br><br>输入格式：&quot;<span class="hljs-comment">%d&quot;</span><br>程序运行示例1如下：<br>10<br>Even=1.141666<br>程序运行示例2如下：<br>9<br>Odd=1.787302<br></code></pre></td></tr></table></figure><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">even_sum</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">double</span> <span class="hljs-title function_">odd_sum</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<span class="hljs-type">int</span> n;<br><span class="hljs-type">double</span> (*current)(<span class="hljs-type">int</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br><span class="hljs-keyword">if</span>(n%<span class="hljs-number">2</span>==<span class="hljs-number">0</span>)&#123;<br>current=even_sum;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>current=odd_sum;<br>&#125;<br><span class="hljs-type">double</span> result=current(n);<br><span class="hljs-keyword">if</span>(n%<span class="hljs-number">2</span>==<span class="hljs-number">0</span>)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Even=%f&quot;</span>,result);<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Odd=%f&quot;</span>,result);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">even_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span>&#123;<br><span class="hljs-type">double</span> result=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i&lt;=n;i+=<span class="hljs-number">2</span>)&#123;<br>result+=<span class="hljs-number">1.0</span>/i;<br>&#125;<br><span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">odd_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span>&#123;<br><span class="hljs-type">double</span> result=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i+=<span class="hljs-number">2</span>)&#123;<br>result+=<span class="hljs-number">1.0</span>/i;<br>&#125;<br><span class="hljs-keyword">return</span> result;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>定义函数指针，current不仅是一个函数名，还是一个专门用来存地址的指针变量</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>辗转相除法的最简形态</title>
    <link href="/2025/12/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95%E7%9A%84%E6%9C%80%E7%AE%80%E5%BD%A2%E6%80%81/"/>
    <url>/2025/12/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95%E7%9A%84%E6%9C%80%E7%AE%80%E5%BD%A2%E6%80%81/</url>
    
    <content type="html"><![CDATA[<h1 id="辗转相除法的最简形态"><a href="#辗转相除法的最简形态" class="headerlink" title="辗转相除法的最简形态"></a>辗转相除法的最简形态</h1><p>用最简单的代码求<strong>最大公约数</strong></p><p>直入主题：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-keyword">return</span> b == <span class="hljs-number">0</span> ? a : gcd(b, a % b);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="a一定要比b大吗？"><a href="#a一定要比b大吗？" class="headerlink" title="a一定要比b大吗？"></a>a一定要比b大吗？</h2><h3 id="完全不需要"><a href="#完全不需要" class="headerlink" title="完全不需要"></a><strong>完全不需要</strong></h3><p>这也是欧几里得算法（辗转相除法）最神奇、最“智能”的地方：它自带<strong>自动纠正（Auto-Swap）</strong>功能。</p><p>不管你传进去的是 <code>gcd(大, 小)</code> 还是 <code>gcd(小, 大)</code>，结果完全一样，代码不需要做任何修改。</p><h3 id="为什么不需要？"><a href="#为什么不需要？" class="headerlink" title="为什么不需要？"></a>为什么不需要？</h3><p>如果在第一次调用时，<code>a</code> 比 <code>b</code> 小（比如 <code>a=10</code>, <code>b=25</code>），<code>%</code> 运算会产生一个神奇的效果：</p><p><strong>因为在数学中，如果被除数比除数小，余数就是被除数本身。</strong> 即：<code>10 % 25 = 10</code>。</p><p>让我们来看看如果把小的数放前面，程序会怎么跑：</p><h4 id="场景演示：gcd-10-25"><a href="#场景演示：gcd-10-25" class="headerlink" title="场景演示：gcd(10, 25)"></a>场景演示：<code>gcd(10, 25)</code></h4><ul><li><p><strong>第 1 轮：</strong> 调用 <code>gcd(10, 25)</code></p><ul><li><code>a</code> &#x3D; 10, <code>b</code> &#x3D; 25</li><li>计算 <code>a % b</code> -&gt; <code>10 % 25</code> &#x3D; <strong>10</strong></li><li>执行递归：<code>gcd(25, 10)</code></li><li><strong>看！</strong> 仅仅经过一步，两个数字的位置就<strong>自动互换</strong>了，变成“大数在前，小数在后”了。</li></ul></li><li><p>后面就一样了</p></li></ul><h2 id="用途："><a href="#用途：" class="headerlink" title="用途："></a>用途：</h2><ul><li>化简分式，6&#x2F;9—&gt;2&#x2F;3（最大公约数为3）</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>二维矩阵字符串排序</title>
    <link href="/2025/12/14/%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/"/>
    <url>/2025/12/14/%E4%BA%8C%E7%BB%B4%E7%9F%A9%E9%98%B5%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="二维矩阵字符串排序"><a href="#二维矩阵字符串排序" class="headerlink" title="二维矩阵字符串排序"></a>二维矩阵字符串排序</h1><h2 id="遇到个很难的题目："><a href="#遇到个很难的题目：" class="headerlink" title="遇到个很难的题目："></a>遇到个很难的题目：</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">字符串排序。调用<span class="hljs-keyword">Input</span>函数输入<span class="hljs-number">10</span>个字符串，调用Sort函数对这<span class="hljs-number">10</span>个字符串按字典顺序排序，调用Print函数打印输出排序后的字符串。<br><span class="hljs-keyword">Input</span>函数原型：<br>  <span class="hljs-type">void</span> <span class="hljs-keyword">Input</span>(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>],<span class="hljs-type">int</span> n);<br>Sort函数原型：<br>  <span class="hljs-type">void</span> Sort(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>],<span class="hljs-type">int</span> n);<br>Print函数原型：<br>  <span class="hljs-type">void</span> Print(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>],<span class="hljs-type">int</span> n);<br>***输入数据格式：读入可包含有空格的字符串（字符串最大长度<span class="hljs-number">80</span>）<br>***输出数据格式: 一行输出一个字符串<br>程序运行示例：<br>hello↙<br>my↙<br><span class="hljs-type">name</span>↙<br><span class="hljs-keyword">is</span>↙<br>zyk↙<br>how↙<br>are↙<br>you↙<br>he↙<br><span class="hljs-keyword">and</span>↙<br><span class="hljs-keyword">and</span><br>are<br>he<br>hello<br>how<br><span class="hljs-keyword">is</span><br>my<br><span class="hljs-type">name</span><br>you<br>zyk<br></code></pre></td></tr></table></figure><h2 id="我写的代码："><a href="#我写的代码：" class="headerlink" title="我写的代码："></a>我写的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Input</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Sort</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br><span class="hljs-type">char</span> str[<span class="hljs-number">10</span>][<span class="hljs-number">80</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>Input(str, <span class="hljs-number">10</span>);<br>Sort(str, <span class="hljs-number">10</span>);<br>Print(str, <span class="hljs-number">10</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Input</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = <span class="hljs-number">0</span>;r &lt; n;r++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; <span class="hljs-number">80</span>;c++) &#123;<br>str[r][c] = getchar();<br><span class="hljs-keyword">if</span> (str[r][c] == <span class="hljs-string">&#x27;\n&#x27;</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Sort</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt; n;i++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = <span class="hljs-number">0</span>;r &lt; n - i;r++) &#123;<br><span class="hljs-type">int</span> exchange = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; <span class="hljs-number">80</span>;c++) &#123;<br><span class="hljs-keyword">if</span> (str[r][c] &gt; str[r + <span class="hljs-number">1</span>][c]) &#123;<br>exchange = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str[r][c] &lt; str[r + <span class="hljs-number">1</span>][c]) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span> (exchange) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; <span class="hljs-number">80</span>;c++) &#123;<br><span class="hljs-type">int</span> temp = str[r][c];<br>str[r][c] = str[r + <span class="hljs-number">1</span>][c];<br>str[r + <span class="hljs-number">1</span>][c] = temp;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> r = <span class="hljs-number">0</span>;r &lt; n;r++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> c = <span class="hljs-number">0</span>;c &lt; <span class="hljs-number">80</span>;c++) &#123;<br><span class="hljs-keyword">if</span> (str[r][c] == <span class="hljs-string">&#x27;\n&#x27;</span>) &#123;<span class="hljs-comment">//一旦检测到字符结束，开始打印下一串字符</span><br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, str[r][c]);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>我感觉这题还是比较难的</p><h2 id="看看AI写的："><a href="#看看AI写的：" class="headerlink" title="看看AI写的："></a>看看AI写的：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Input</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Sort</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">10</span>][<span class="hljs-number">80</span>]; <span class="hljs-comment">// 定义一个二维数组，存放10个字符串，每个最大长度80</span><br>    <span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br><br>    <span class="hljs-comment">// 1. 输入</span><br>    Input(str, n);<br><br>    <span class="hljs-comment">// 2. 排序</span><br>    Sort(str, n);<br><br>    <span class="hljs-comment">// 3. 输出</span><br>    Print(str, n);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 输入函数</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Input</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-comment">// 使用 fgets 读取一行，它可以读取包含空格的字符串</span><br>        <span class="hljs-comment">// stdin 表示从标准输入（键盘）读取</span><br>        fgets(str[i], <span class="hljs-number">80</span>, <span class="hljs-built_in">stdin</span>);<br><br>        <span class="hljs-comment">// 注意：fgets 会把换行符 &#x27;\n&#x27; 也读进去，我们需要把它去掉</span><br>        <span class="hljs-comment">// 否则排序和打印时会多出一个换行</span><br>        <span class="hljs-type">size_t</span> len = <span class="hljs-built_in">strlen</span>(str[i]);<br>        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">0</span> &amp;&amp; str[i][len - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;\n&#x27;</span>) &#123;<br>            str[i][len - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 排序函数（冒泡排序法）</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Sort</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-type">char</span> temp[<span class="hljs-number">80</span>]; <span class="hljs-comment">// 用于交换的临时变量</span><br>    <span class="hljs-type">int</span> i, j;<br>    <br>    <span class="hljs-comment">// 外层循环控制比较轮数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-comment">// 内层循环控制每轮比较的次数</span><br>        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; n - <span class="hljs-number">1</span> - i; j++) &#123;<br>            <span class="hljs-comment">// strcmp比较两个字符串</span><br>            <span class="hljs-comment">// 如果 str[j] &gt; str[j+1] (返回正数)，则交换位置</span><br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(str[j], str[j+<span class="hljs-number">1</span>]) &gt; <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// 字符串赋值不能用等号，必须用 strcpy</span><br>                <span class="hljs-built_in">strcpy</span>(temp, str[j]);<br>                <span class="hljs-built_in">strcpy</span>(str[j], str[j+<span class="hljs-number">1</span>]);<br>                <span class="hljs-built_in">strcpy</span>(str[j+<span class="hljs-number">1</span>], temp);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 打印函数</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Print</span><span class="hljs-params">(<span class="hljs-type">char</span> str[][<span class="hljs-number">80</span>], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, str[i]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>strcmp函数可以直接按照字典顺序比较字符串！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>神奇的递归、return、和主函数的定义</title>
    <link href="/2025/12/13/%E7%A5%9E%E5%A5%87%E7%9A%84%E9%80%92%E5%BD%92%E4%B8%8Ereturn/"/>
    <url>/2025/12/13/%E7%A5%9E%E5%A5%87%E7%9A%84%E9%80%92%E5%BD%92%E4%B8%8Ereturn/</url>
    
    <content type="html"><![CDATA[<h1 id="C语言学习笔记：利用递归实现字符串倒序输出"><a href="#C语言学习笔记：利用递归实现字符串倒序输出" class="headerlink" title="C语言学习笔记：利用递归实现字符串倒序输出"></a>C语言学习笔记：利用递归实现字符串倒序输出</h1><blockquote><p> 作者：王星皓</p></blockquote><h2 id="1-题目要求"><a href="#1-题目要求" class="headerlink" title="1. 题目要求"></a>1. 题目要求</h2><p>编写一个C语言程序，利用递归函数将输入的字符串倒序输出。</p><ul><li><p><strong>输入提示：input your string:\n</strong></p></li><li><p><strong>输入格式：%s</strong></p></li><li><p><strong>输出格式：%c</strong></p></li></ul><h2 id="2-方法一：使用指针实现-Pointer-Approach"><a href="#2-方法一：使用指针实现-Pointer-Approach" class="headerlink" title="2. 方法一：使用指针实现 (Pointer Approach)"></a>2. 方法一：使用指针实现 (Pointer Approach)</h2><p>这是C语言中最常用的递归处理字符串的方法。利用指针算术运算 s+1 逐步向后移动，直到遇到结束符 \0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">reverse_print</span><span class="hljs-params">(<span class="hljs-type">char</span> *s)</span> &#123;<br>    <span class="hljs-keyword">if</span> (*s == <span class="hljs-string">&#x27;\0&#x27;</span>) &#123;<br>        <span class="hljs-keyword">return</span>; <span class="hljs-comment">// 基准情况：遇到结束符停止</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        reverse_print(s + <span class="hljs-number">1</span>); <span class="hljs-comment">// 递：移动指针到下一个字符</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, *s);     <span class="hljs-comment">// 归：打印当前字符</span><br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> s[<span class="hljs-number">1024</span>];<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;input your string:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    reverse_print(s);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-方法二：使用数组下标实现-Index-Approach"><a href="#3-方法二：使用数组下标实现-Index-Approach" class="headerlink" title="3. 方法二：使用数组下标实现 (Index Approach)"></a>3. 方法二：使用数组下标实现 (Index Approach)</h2><p>如果不熟悉指针或被要求不使用指针运算，可以通过传递一个额外的整型参数 i 作为数组下标来访问字符。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 增加参数 i 表示当前访问的下标</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">reverse_print</span><span class="hljs-params">(<span class="hljs-type">char</span> s[], <span class="hljs-type">int</span> i)</span> &#123;<br>    <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;\0&#x27;</span>) &#123;<br>        <span class="hljs-keyword">return</span>; <span class="hljs-comment">// 基准情况</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        reverse_print(s, i + <span class="hljs-number">1</span>); <span class="hljs-comment">// 递：下标 + 1</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, s[i]);      <span class="hljs-comment">// 归：打印 s[i]</span><br>    &#125;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> s[<span class="hljs-number">1024</span>];<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;input your string:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    reverse_print(s, <span class="hljs-number">0</span>); <span class="hljs-comment">// 初始下标为 0</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-深入理解：为什么会倒序？（递归的“归”）"><a href="#4-深入理解：为什么会倒序？（递归的“归”）" class="headerlink" title="4. 深入理解：为什么会倒序？（递归的“归”）"></a>4. 深入理解：为什么会倒序？（递归的“归”）</h2><p>在编写递归时，初学者常有的疑问是：<strong>“当程序执行到末尾返回时，为什么会回到上一层（例如 i&#x3D;2）继续执行？”</strong></p><p><strong>核心原理：函数调用栈 (Call Stack)</strong></p><p>递归并不是单向的“一去不复返”，而是包含<strong>“递（压栈）”和“归（出栈）”</strong>两个过程。</p><p><strong>暂停与等待：</strong>当代码执行到 <code>reverse_print(s, i + 1);</code> 时，当前层的函数并没有结束，而是被“暂停”了，它必须等待下一层函数执行完毕。</p><p><strong>压栈（Stacking）：</strong> 每一次调用都会将当前状态压入系统栈中。就像叠盘子一样，<code>i=0</code> 在最底下，<code>i=1</code> 在上面……直到遇到 <code>\0</code>。</p><p><strong>出栈（Unwinding）：</strong> 当遇到 <code>\0</code> 触发 <code>return</code> 时，最上面的函数结束，控制权回到下一层（即刚才暂停的地方）。</p><p><strong>后进先出 (LIFO)：</strong> 因为栈是“后进先出”的，所以最后进入的字符（字符串末尾）最先被打印，最先进入的字符（字符串开头）最后被打印。</p><p>执行流可视化 (以输入 “abc” 为例)</p><pre><code class="hljs">main 调用 f(0) -&gt; 暂停，等 f(1)    f(1) 调用 f(2) -&gt; 暂停，等 f(2)        f(2) (&#39;c&#39;) 调用 f(3) -&gt; 暂停，等 f(3)            f(3) (&#39;\0&#39;) -&gt; 遇到基准情况，返回        回到 f(2) -&gt; 执行 printf(&#39;c&#39;) -&gt; 结束返回    回到 f(1) -&gt; 执行 printf(&#39;b&#39;) -&gt; 结束返回回到 f(0) -&gt; 执行 printf(&#39;a&#39;) -&gt; 结束返回</code></pre><p>这就是为什么代码看起来是顺序写的，结果却是倒序输出的原因。</p><hr><p><em><strong>希望能帮到正在学习C语言递归的朋友！</strong></em></p><hr><hr><h1 id="我的补充："><a href="#我的补充：" class="headerlink" title="我的补充："></a>我的补充：</h1><h2 id="这里return的含义"><a href="#这里return的含义" class="headerlink" title="这里return的含义"></a>这里return的含义</h2><ul><li><strong>回答：</strong> 不是在耍它，这是最标准的“无参返回”。</li><li><strong>到底是什么意思：</strong> 它的意思就是纯粹的 **“End Execution” (结束执行)**。</li><li><strong>场景：</strong> 在递归中，这叫 **Base Case (基准情况)**。它的潜台词是：“到了这一步（遇到 <code>\0</code>），不需要再往下递推了，到此为止，回头吧！”</li></ul><p>提前终止函数，终止当前函数的执行，像是一个“紧急停止按钮”或者“提前离场通道”</p><p>虽然函数声明了不需要返回值，但你依然有权力决定什么时候<strong>结束</strong>这个函数。</p><p>当编译器看到 <code>void</code> 函数里的 <code>return;</code> 时，它生成的汇编指令只是简单的 <code>RET</code> (Return)，意味着“清理栈帧，回到上一层去”，它<strong>并没有</strong>往寄存器里塞任何值</p><p><strong>比喻：</strong></p><ul><li><code>int</code> 函数的 <code>return 1;</code> 像是你帮表舅买烟，回来后说：“舅，烟买到了（把烟给他）”。</li><li><code>void</code> 函数的 <code>return;</code> 像是你表舅让你去关门，你关好后回来只说一句：“好了（没有东西给他，只是告诉他任务结束，流程回到他那里）”。</li></ul><h2 id="主函数的return返回问题："><a href="#主函数的return返回问题：" class="headerlink" title="主函数的return返回问题："></a>主函数的return返回问题：</h2><h3 id="返回非0值"><a href="#返回非0值" class="headerlink" title="返回非0值"></a>返回非0值</h3><p><code>int</code> 的范围通常是 -21亿 到 +21亿。只要在这个范围内，编译器都能接受。</p><p><strong>区别：</strong> 这是一个<strong>约定俗成</strong>的规则：</p><ul><li><code>return 0;</code> 代表 <strong>“程序正常结束，没有错误”</strong>。</li><li><code>return 任何非0值;</code> (比如 1, -1) 代表 <strong>“程序异常结束”</strong>。</li></ul><p>eg: </p><ul><li><p>main 函数写 return 1;<br>（程序关闭，并悄悄给操作系统塞了一张纸条，上面写着“1”）</p></li><li><p><strong>对你（用户）来说：</strong> 毫无影响，你看到了想看的结果。</p></li><li><p><strong>对操作系统来说：</strong> 它认为你的程序“出错了”或者“报警了”。虽然程序跑完了，但系统会在后台记录这个程序是“非正常退出”的。如果你是在 VS 里按 <code>Ctrl + F5</code> 运行，你会看到控制台最后显示：“程序已退出，代码为 1 (0x1)”。（平时是代码为 0）。</p></li></ul><p><strong>给谁看？</strong> 这里的返回值是<strong>给操作系统（OS）看的</strong>。如果你用脚本（比如 Windows 的 <code>.bat</code> 或 Linux 的 Shell）来运行你的程序，脚本可以通过这个返回值判断你的程序是跑通了还是挂了。</p><h3 id="返回大于21亿-30亿-的值"><a href="#返回大于21亿-30亿-的值" class="headerlink" title="返回大于21亿(30亿)的值"></a>返回大于21亿(30亿)的值</h3><ul><li><p><strong>会不会报错（编译失败）？</strong> 在 Visual Studio 中，<strong>不会报错（Error），但会报警告（Warning）</strong>。 编译器会提示你：“兄弟，<code>int</code> 装不下这个数啊，我要给你截断了哦”。</p></li><li><p><strong>会不会运行？能不能倒序输出？</strong> <strong>会运行！能输出！</strong> 程序<strong>不会崩溃</strong>，也不会还没打印就直接挂掉。它依然会老老实实把字符串倒序打印出来。</p></li><li><p><strong>到底发生了什么？（数据溢出）</strong> <code>int</code> 类型（通常是32位）最大能表示 <code>2,147,483,647</code>。 当你非要返回 <code>3,000,000,000</code> 时，这叫<strong>整数溢出（Overflow）</strong>。</p></li></ul><p>​计算机内部是二进制的，装不下溢出的部分会被直接“切掉”（截断）。 <code>30亿</code> 的二进制大概是这样，前面的位被切掉后，剩下的二进制会被解释成一个<strong>负数</strong>。</p><ul><li><code>3000000000</code> (十进制)</li><li><code>10110010110100000101111000000000</code> (二进制)</li><li>在 <code>int</code> 看来，这一串二进制代表的是 <strong>-1294967296</strong>。</li></ul><p><strong>后果是什么？</strong> 程序正常运行，正常打印，但在退出的一瞬间，给操作系统塞的纸条上写着 <strong>-1294967296</strong>。 操作系统看着这个负数一脸懵逼，但它也不管，只是记录下这个奇怪的退出代码，然后释放内存。</p><h4 id="详细解释计算机是如何通过二进制计算溢出值"><a href="#详细解释计算机是如何通过二进制计算溢出值" class="headerlink" title="详细解释计算机是如何通过二进制计算溢出值"></a>详细解释计算机是如何通过二进制计算溢出值</h4><h4 id="1-这种现象叫什么？"><a href="#1-这种现象叫什么？" class="headerlink" title="1. 这种现象叫什么？"></a>1. 这种现象叫什么？</h4><p>这在计算机里叫 Integer Overflow (整型溢出)。就像汽车的里程表，以前的老车到了 999999 公里，再跑 1 公里就会变成 000000。</p><p>但因为 C 语言的 int 是带符号的（Signed），所以它不是归零，而是从最大的正数一下子跳到了最小的负数。</p><h4 id="2-这里的“32个坑位”"><a href="#2-这里的“32个坑位”" class="headerlink" title="2. 这里的“32个坑位”"></a>2. 这里的“32个坑位”</h4><p>现代计算机（Visual Studio 环境下）的 int 通常占用 4个字节，也就是 32个比特位（bit）。</p><p>这 32 个坑位，每一位只能填 0 或 1。</p><ul><li><strong>第 1 位（最左边）：</strong> 它是大佬，叫**符号位 (Sign Bit)**。<ul><li>如果它是 <code>0</code>，代表正数。</li><li>如果它是 <code>1</code>，代表负数。</li></ul></li><li><strong>后 31 位：</strong> 用来存数值。</li></ul><h4 id="3-案发现场还原"><a href="#3-案发现场还原" class="headerlink" title="3. 案发现场还原"></a>3. 案发现场还原</h4><p>让我们看看 <strong>30亿</strong> 这个数字。</p><p>第一步：把 30亿 变成二进制</p><p>3,000,000,000 的二进制写法是这样的：</p><p>1011 0010 1101 0000 0101 1110 0000 0000</p><p>第二步：把这串二进制硬塞进 int 的 32 个坑位里</p><p>编译器把这串数字放进去，突然发现出事了！</p><p>你看最左边那一位（高亮）：</p><p>1011 0010 1101 0000 0101 1110 0000 0000</p><ul><li><strong>对于无符号数（Unsigned int）：</strong> 这一位只是一个普通的数字，这串代码完美代表 30亿。</li><li><strong>对于有符号数（int）：</strong> 计算机看到第一位是 <strong><code>1</code><strong>，它立刻判定：</strong>“这是一个负数！”</strong></li></ul><p>第三步：计算机开始计算这个负数是谁</p><p>计算机使用的是补码（Two’s Complement）规则。</p><p>当符号位是 1 时，计算它代表的负数值，规则是：（这串二进制代表的无符号数值）减去 （2的32次方）。</p><p>我们来算一下：</p><ol><li><strong>这串二进制代表的无符号数值</strong> &#x3D; 3,000,000,000 (就是我们要存的30亿)</li><li><strong>2的32次方 (模)</strong> &#x3D; 4,294,967,296 (这是32位能容纳的总数量)</li></ol><p>数学公式：</p><p>$$3,000,000,000 - 4,294,967,296 &#x3D; -1,294,967,296$$</p><p>真相大白！</p><p>这就是为什么你明明给的是 30亿，计算机却给你吐出来一个 -12亿多的负数。</p><h4 id="4-可视化理解（圆环图）"><a href="#4-可视化理解（圆环图）" class="headerlink" title="4. 可视化理解（圆环图）"></a>4. 可视化理解（圆环图）</h4><p>你可以想象 <code>int</code> 的数字排成了一个<strong>圆环</strong>：</p><ul><li>圆环的顶点是 <code>0</code>。</li><li>顺时针走是正数：<code>0, 1, 2 ...</code> 一直走到 <code>21亿</code> (最大正数)。</li><li>逆时针走是负数：<code>0, -1, -2 ...</code> 一直走到 <code>-21亿</code> (最小负数)。</li><li><strong>21亿和-21亿在圆环的底部相连。</strong></li></ul><p>当你给了一个 <strong>30亿</strong> 时，你实际上是在顺时针狂奔。你跑过了 21亿 的界限（最大正数），继续往前跑，就<strong>跨过了边界</strong>，跑到了负数的领地里去了！</p><h4 id="5-无符号同理吗？"><a href="#5-无符号同理吗？" class="headerlink" title="5. 无符号同理吗？"></a>5. 无符号同理吗？</h4><p><code>unsigned int</code> 的最大值是 <code>4,294,967,295</code>，那我再加个1，会成负数吗？</p><p>不会，而会变成0</p><p>想象一个汽车的里程表，或者一个普通的挂钟。</p><ol><li><strong>里程表归零：</strong> <code>unsigned int</code> 的最大值是 <code>4,294,967,295</code>。 这就像里程表跑到了 <code>999999</code>。</li><li><strong>加 1 操作：</strong> 当你给最大值 <code>+1</code> 时，它装不下了。 里程表从 <code>999999</code> 变成了 <code>000000</code>。 所以：<code>4,294,967,295 + 1 = 0</code>。</li><li><strong>加 1 再加 1：</strong> <code>4,294,967,296 + 1</code>。 其实这等于 <code>(4,294,967,295 + 1) + 1</code>。 也就是 <code>0 + 1</code>。 <strong>结果是：1</strong>。</li></ol><p>写个代码验证一下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// 定义无符号最大值</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> max = <span class="hljs-number">4294967295</span>; <br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大值: %u\n&quot;</span>, max);<br>    <br>    <span class="hljs-comment">// 最大值 + 1</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> overflow1 = max + <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大值+1 (归零): %u\n&quot;</span>, overflow1); <span class="hljs-comment">// 输出 0</span><br>    <br>    <span class="hljs-comment">// 你问的情况：相当于最大值 + 2，或者说 4294967296 + 1</span><br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> overflow2 = max + <span class="hljs-number">2</span>; <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大值+2 (你的问题): %u\n&quot;</span>, overflow2); <span class="hljs-comment">// 输出 1</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="返回其他值"><a href="#返回其他值" class="headerlink" title="返回其他值"></a>返回其他值</h3><h4 id="情况一：你写的是-return-A-（加了单引号）"><a href="#情况一：你写的是-return-A-（加了单引号）" class="headerlink" title="情况一：你写的是 return &#39;A&#39;;（加了单引号）"></a>情况一：你写的是 <code>return &#39;A&#39;;</code>（加了单引号）</h4><ul><li><strong>会怎么样？</strong> <strong>程序正常运行，能倒序输出！</strong></li><li><strong>为什么？</strong><ul><li>在 C 语言中，字符（Char）的本质就是一个整数（ASCII 码）。</li><li>字符 <code>&#39;A&#39;</code> 在计算机眼里等于整数 <strong>65</strong>。</li><li>所以这行代码等同于 <code>return 65;</code>。</li></ul></li><li><strong>纸条上写什么？</strong> 纸条上写着 <code>65</code>。操作系统觉得没问题，收下了。</li></ul><h4 id="情况二：你写的是-return-A-（没加单引号）"><a href="#情况二：你写的是-return-A-（没加单引号）" class="headerlink" title="情况二：你写的是 return A;（没加单引号）"></a>情况二：你写的是 <code>return A;</code>（没加单引号）</h4><ul><li><p><strong>会怎么样？</strong> <strong>直接报错！程序根本无法运行！</strong></p><ul><li>你甚至连黑框框（控制台）都看不到，因为还没有生成 <code>.exe</code> 文件。</li></ul></li><li><p><strong>为什么？</strong></p><ul><li>编译器会一脸懵逼地问你：“大哥，<code>A</code> 是个啥？”</li><li>它会认为 <code>A</code> 是一个<strong>变量名</strong>。如果你之前没有定义过 <code>int A = 0;</code>，编译器就不认识它。</li><li><strong>结果：</strong> 编译器拒绝工作，抛出错误：<code>&#39;A&#39;: undeclared identifier</code>（未声明的标识符）。</li><li><strong>那个“纸条”呢？</strong> 根本没有纸条。因为程序还没生出来这就已经“胎死腹中”了。</li></ul></li><li><p><strong>我将A提前定义</strong></p><p>不管是提前进行宏定义或者定义全局&#x2F;局部变量，程序都能正常出生</p><p>比如：当你写 <code>#define A 0</code> 时，这叫<strong>宏定义</strong>。 <strong>关键点来了：</strong> 在编译器真正开始检查语法错误之前，有一个叫<strong>预处理器（Preprocessor）</strong>的小助手会先跑一遍你的代码。</p><p>它的工作原理就像 Word 文档里的 <strong>“查找与替换”</strong>：</p><ol><li>它发现你定义了 <code>A</code> 代表 <code>0</code>。</li><li>它会扫视你的全文，把你代码里所有的 <code>A</code> 统统擦掉，换成 <code>0</code>。</li><li><strong>等你真正的编译器（Compiler）来看代码时，代码已经变成了这样：</strong></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 预处理器处理后的样子（编译器看到的真实模样）</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span> </span><br><br><span class="hljs-comment">// A 已经被替换没了，这里不需要了</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">reverse_print</span><span class="hljs-params">(<span class="hljs-type">char</span> s[], <span class="hljs-type">int</span> i)</span> &#123;<br>    <span class="hljs-comment">// ...省略...</span><br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// ...省略...</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 编译器看到的是这个！它根本不知道世界上有个A存在过！</span><br>&#125;<br></code></pre></td></tr></table></figure><p>编译器看到的是 <code>return 0;</code>，它当然非常开心：语法正确，类型匹配，通过！</p></li></ul><p>这就是 C 语言宏定义的魅力。很多大神的 C 语言代码里，为了能让人看懂（比如用 <code>SUCCESS</code> 代替 <code>0</code>，用 <code>ERROR</code> 代替 <code>1</code>），都会大量使用你刚才想到的这一招：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> SUCCESS 0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> ERROR 1</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// ...</span><br>    <span class="hljs-keyword">return</span> SUCCESS; <span class="hljs-comment">// 这样写，别人读代码时更清楚这是代表“成功”</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="主函数的定义问题"><a href="#主函数的定义问题" class="headerlink" title="主函数的定义问题"></a>主函数的定义问题</h2><p>能定义mian为float类型吗？</p><p>绝对不行， 标准 C 语言规定 <code>main</code> 必须是 <code>int</code> 类型。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>代码日常（1）</title>
    <link href="/2025/12/13/%E4%BB%A3%E7%A0%81%E6%97%A5%E5%B8%B8%EF%BC%881%EF%BC%89/"/>
    <url>/2025/12/13/%E4%BB%A3%E7%A0%81%E6%97%A5%E5%B8%B8%EF%BC%881%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="代码日常（1）"><a href="#代码日常（1）" class="headerlink" title="代码日常（1）"></a>代码日常（1）</h1><h2 id="1-2"><a href="#1-2" class="headerlink" title="1&#x2F;2"></a>1&#x2F;2</h2><p>将数据按照奇偶排<br>输入10个数，将10个整数按升序排列输出，并且奇数在前，偶数在后。如果输入的10个数是:10 9 8 7 6 5 4 3 2 1 ，则输出：1,3,5,7,9,2,4,6,8,10。（提示：可定义2个数组，一个用来存放输入的整数，并对这个数组进行排序，然后将数据按先奇数后偶数的顺序分别复制到另一个数组中，再输出第二个数组，注意最后一个数据的格式与前面9个不同）。<br>程序运行结果如下：<br>Input 10 numbers:<br>3 12 7 65 8 4 17 25 36 50↙<br>Output: 3,7,17,25,65,4,8,12,36,50<br>输入格式: “%d”<br>输入数据提示信息：”Input 10 numbers:\n”<br>输出格式：<br>输出数据提示信息：”Output: “ （注：冒号“：”的后面有一个空格）<br>前9个数据的输出格式：”%d,”<br>最后一个数据的输出格式：”%d\n”</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">bubble</span><span class="hljs-params">(<span class="hljs-type">int</span>* a, <span class="hljs-type">int</span> n)</span>; <span class="hljs-comment">// 建议传入数组长度，更通用</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">10</span>];      <span class="hljs-comment">// 原始数组</span><br>    <span class="hljs-type">int</span> b[<span class="hljs-number">10</span>];      <span class="hljs-comment">// 目标数组</span><br>    <span class="hljs-type">int</span> i, k = <span class="hljs-number">0</span>;   <span class="hljs-comment">// k 用来记录 b 数组当前填到了第几位</span><br><br>    <span class="hljs-comment">// 1. 输入</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input 10 numbers:\n&quot;</span>);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    &#125;<br><br>    <span class="hljs-comment">// 2. 排序 (对 a 进行升序排序)</span><br>    bubble(a, <span class="hljs-number">10</span>);<br><br>    <span class="hljs-comment">// 3. 复制数据到 b 数组</span><br>    <span class="hljs-comment">// 第一步：先挑出所有奇数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (a[i] % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) &#123;<br>            b[k] = a[i];<br>            k++; <span class="hljs-comment">// 每存一个，b 的下标后移一位</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// 第二步：再挑出所有偶数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (a[i] % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>            b[k] = a[i];<br>            k++;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 4. 统一输出</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Output: &quot;</span>);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++) &#123;<br>        <span class="hljs-comment">// 前9个数字带逗号</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d,&quot;</span>, b[i]);<br>    &#125;<br>    <span class="hljs-comment">// 最后一个数字带换行 (b[9])</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, b[<span class="hljs-number">9</span>]);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 冒泡排序标准写法</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">bubble</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-type">int</span> i, j, temp;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; n - <span class="hljs-number">1</span> - i; j++) &#123;<br>            <span class="hljs-keyword">if</span> (a[j] &gt; a[j + <span class="hljs-number">1</span>]) &#123;<br>                temp = a[j];<br>                a[j] = a[j + <span class="hljs-number">1</span>];<br>                a[j + <span class="hljs-number">1</span>] = temp;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>&#x3D;&#x3D;只用了两个数组，逻辑清晰（先排好序，再按顺序“捡”进新数组）。&#x3D;&#x3D;</p><hr><h2 id="2-2"><a href="#2-2" class="headerlink" title="2&#x2F;2"></a>2&#x2F;2</h2><p>*将1到9这九个数字分成三个3位数，要求第一个3位数，正好是第二个3位数的二倍，是第三个3位数的三倍，问应当怎样分。</p><p>**输出格式要求：”No.%d: %d %d %d\n”</p><p>思路提示：对第一个3位数进行穷举，然后<em>2，</em>3分别得到另外两个数。再判断3个数的9个位是否有重复数据（建议把这9个数位分别求出后存入一维数组，再编写一个函数判断一维数组中是否有重复数据。重复数据的判断就是两两比较，只要有一个相等的，就return 0,循环结束后return 1））</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> count = <span class="hljs-number">1</span>, num1, num2, num3;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= <span class="hljs-number">9</span>;j++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= <span class="hljs-number">9</span>;k++) &#123;<br>num1 = k + j * <span class="hljs-number">10</span> + i * <span class="hljs-number">100</span>;<br>num2 = num1 * <span class="hljs-number">2</span>;<br>num3 = num1 * <span class="hljs-number">3</span>;<br><span class="hljs-keyword">if</span> (num3 &gt;= <span class="hljs-number">1000</span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (!judge(num1, num2, num3)) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No.%d: %d %d %d\n&quot;</span>, count, num1, num2, num3);<br>count++;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">continue</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">int</span> num1, <span class="hljs-type">int</span> num2, <span class="hljs-type">int</span> num3)</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">9</span>];<br><span class="hljs-type">int</span> digit = num1 + num2 * <span class="hljs-number">1000</span> + num3 * <span class="hljs-number">1000000</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">9</span>;i++) &#123;<br>a[i] = digit % <span class="hljs-number">10</span>;<br>digit = digit / <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">9</span>;i++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt; <span class="hljs-number">9</span>;j++) &#123;<br><span class="hljs-keyword">if</span> ((i != j &amp;&amp; a[i] == a[j]) || a[i] == <span class="hljs-number">0</span> || a[j] == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdbool.h&gt;</span> <span class="hljs-comment">// 使用 bool 类型让代码可读性更强</span></span><br><br><span class="hljs-comment">// 函数声明：检查三个数是否正好由1-9组成且无重复</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">check</span><span class="hljs-params">(<span class="hljs-type">int</span> n1, <span class="hljs-type">int</span> n2, <span class="hljs-type">int</span> n3)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num1, num2, num3;<br>    <span class="hljs-type">int</span> count = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-comment">// 优化：直接遍历 num1。</span><br>    <span class="hljs-comment">// 最小是123 (最小的3位数)，最大是329 (因为 330*3 &gt; 987 且包含0，实际上严格界限到 329 即可)</span><br>    <span class="hljs-keyword">for</span> (num1 = <span class="hljs-number">123</span>; num1 &lt;= <span class="hljs-number">329</span>; num1++) &#123;<br>        num2 = num1 * <span class="hljs-number">2</span>;<br>        num3 = num1 * <span class="hljs-number">3</span>;<br><br>        <span class="hljs-comment">// 这里的判断其实通过循环范围已经大概率避免了，但为了严谨可以保留</span><br>        <span class="hljs-keyword">if</span> (num3 &gt;= <span class="hljs-number">1000</span>) <span class="hljs-keyword">break</span>; <br><br>        <span class="hljs-keyword">if</span> (check(num1, num2, num3)) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No.%d: %d %d %d\n&quot;</span>, count++, num1, num2, num3);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">check</span><span class="hljs-params">(<span class="hljs-type">int</span> n1, <span class="hljs-type">int</span> n2, <span class="hljs-type">int</span> n3)</span> &#123;<br>    <span class="hljs-comment">// 定义一个标记数组，用来记录 1-9 出现的次数</span><br>    <span class="hljs-comment">// 下标 0 不用，下标 1-9 对应数字 1-9</span><br>    <span class="hljs-type">int</span> used[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>&#125;; <br>    <br>    <span class="hljs-comment">// 把三个数放入一个数组，方便循环处理</span><br>    <span class="hljs-type">int</span> nums[<span class="hljs-number">3</span>] = &#123;n1, n2, n3&#125;;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>        <span class="hljs-type">int</span> temp = nums[i];<br>        <span class="hljs-keyword">while</span> (temp &gt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-type">int</span> digit = temp % <span class="hljs-number">10</span>;<br>            <br>            <span class="hljs-comment">// 如果出现 0，或者该数字已经被标记过(即重复出现)</span><br>            <span class="hljs-keyword">if</span> (digit == <span class="hljs-number">0</span> || used[digit] == <span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 不符合条件，返回 0 (False)</span><br>            &#125;<br>            <br>            used[digit] = <span class="hljs-number">1</span>; <span class="hljs-comment">// 标记该数字已出现</span><br>            temp /= <span class="hljs-number">10</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// 所有检查都通过，返回 1 (True)</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>二维数组做函数参数与矩阵的相乘</title>
    <link href="/2025/12/13/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%B8%8E%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E4%B9%98/"/>
    <url>/2025/12/13/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%B8%8E%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E4%B9%98/</url>
    
    <content type="html"><![CDATA[<h1 id="二维数组做函数参数与矩阵的相乘"><a href="#二维数组做函数参数与矩阵的相乘" class="headerlink" title="二维数组做函数参数与矩阵的相乘"></a>二维数组做函数参数与矩阵的相乘</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c">二维数组实验题：利用矩阵相乘公式，编程计算M*N阶矩阵A和N*M阶矩阵B之积C(M*M阶矩阵)。<br>要求如下：<br><span class="hljs-number">1.</span>用宏定义形式分别定义M、N的值为<span class="hljs-number">3</span>、<span class="hljs-number">4</span>。<br><span class="hljs-number">2.</span>函数原型分别定义成：<br><span class="hljs-type">void</span> <span class="hljs-title function_">MultiplyMatrix</span><span class="hljs-params">(<span class="hljs-type">int</span> a[M][N], <span class="hljs-type">int</span> b[N][M], <span class="hljs-type">int</span> c[M][M])</span>;<span class="hljs-comment">/* 函数功能：计算矩阵相乘之积，结果存于二维数组c中 */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">InputMatrixA</span><span class="hljs-params">(<span class="hljs-type">int</span> a[M][N])</span>;<span class="hljs-comment">/* 函数功能：输入矩阵a中的元素 */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">InputMatrixB</span><span class="hljs-params">(<span class="hljs-type">int</span> b[N][M])</span>;<span class="hljs-comment">/* 函数功能：输入矩阵b中的元素 */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">OutputMatrix</span><span class="hljs-params">(<span class="hljs-type">int</span> a[M][M])</span>;<span class="hljs-comment">/* 函数功能：输出矩阵a中的元素 */</span><br><span class="hljs-number">3.</span>主函数定义成：<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a[M][N], b[N][M], c[M][M];<br>InputMatrixA(a);<br>InputMatrixB(b);<br>MultiplyMatrix(a,b,c);<br>OutputMatrix(c);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-number">4.</span>输入输出格式：<br>输入矩阵A的提示：<span class="hljs-string">&quot;Input %d*%d matrix a:\n&quot;</span><br>输入矩阵A中元素的提示：<span class="hljs-string">&quot;a[%d,%d]:&quot;</span><br>输入矩阵A中元素的格式：<span class="hljs-string">&quot;%d&quot;</span><br>输入矩阵B的提示：<span class="hljs-string">&quot;Input %d*%d matrix b:\n&quot;</span><br>输入矩阵B中元素的提示：<span class="hljs-string">&quot;b[%d,%d]:&quot;</span><br>输入矩阵B中元素的格式：<span class="hljs-string">&quot;%d&quot;</span><br>输出结果提示：<span class="hljs-string">&quot;Results:\n&quot;</span><br>输出元素格式：<span class="hljs-string">&quot;%6d&quot;</span>(注：每行末有<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);)<br>程序运行示例：<br>Input <span class="hljs-number">3</span>*<span class="hljs-number">4</span> matrix a:↙<br>a[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">1</span><br>a[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">2</span><br>a[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">3</span><br>a[<span class="hljs-number">0</span>,<span class="hljs-number">3</span>]:<span class="hljs-number">4</span><br>a[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">1</span><br>a[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">2</span><br>a[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">3</span><br>a[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>]:<span class="hljs-number">4</span><br>a[<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">1</span><br>a[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">2</span><br>a[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">3</span><br>a[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]:<span class="hljs-number">4</span><br>Input <span class="hljs-number">4</span>*<span class="hljs-number">3</span> matrix b:↙<br>b[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">2</span><br>b[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">2</span><br>b[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">2</span><br>b[<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">2</span><br>b[<span class="hljs-number">2</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">3</span>,<span class="hljs-number">0</span>]:<span class="hljs-number">2</span><br>b[<span class="hljs-number">3</span>,<span class="hljs-number">1</span>]:<span class="hljs-number">1</span><br>b[<span class="hljs-number">3</span>,<span class="hljs-number">2</span>]:<span class="hljs-number">2</span><br>Results:↙<br>    <span class="hljs-number">16</span>    <span class="hljs-number">14</span>    <span class="hljs-number">16</span>↙<br>    <span class="hljs-number">16</span>    <span class="hljs-number">14</span>    <span class="hljs-number">16</span>↙<br>    <span class="hljs-number">16</span>    <span class="hljs-number">14</span>    <span class="hljs-number">16</span>↙<br>↙<br></code></pre></td></tr></table></figure><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M 3</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 4</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">inputa</span><span class="hljs-params">(<span class="hljs-type">int</span> a[][N])</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">inputb</span><span class="hljs-params">(<span class="hljs-type">int</span> b[][M])</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">multi</span><span class="hljs-params">(<span class="hljs-type">int</span> a[][N], <span class="hljs-type">int</span> b[][M], <span class="hljs-type">int</span> c[][M])</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">output</span><span class="hljs-params">(<span class="hljs-type">int</span> c[][M])</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-type">int</span> a[M][N], b[N][M], c[M][M] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>    inputa(a);<br>    inputb(b);<br>    multi(a, b, c);<br>    output(c);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">inputa</span><span class="hljs-params">(<span class="hljs-type">int</span> a[][N])</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input %d*%d matrix a:\n&quot;</span>, M, N);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; M; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; N; j++)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a[%d,%d]:&quot;</span>, i, j);<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i][j]);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">inputb</span><span class="hljs-params">(<span class="hljs-type">int</span> b[][M])</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input %d*%d matrix b:\n&quot;</span>, N, M);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; M; j++)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;b[%d,%d]:&quot;</span>, i, j);<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b[i][j]);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">multi</span><span class="hljs-params">(<span class="hljs-type">int</span> a[][N], <span class="hljs-type">int</span> b[][M], <span class="hljs-type">int</span> c[][M])</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; M; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; M; j++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; N; k++)<br>            &#123;<br>                c[i][j] += a[i][k] * b[k][j];<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">output</span><span class="hljs-params">(<span class="hljs-type">int</span> c[][M])</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Results:\n&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; M; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; M; j++)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%6d&quot;</span>, c[i][j]);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="矩阵的相乘："><a href="#矩阵的相乘：" class="headerlink" title="矩阵的相乘："></a>矩阵的相乘：</h3><p>假设：</p><p>$$A &#x3D; \begin{bmatrix}  \mathbf{1} &amp; \mathbf{2} &amp; \mathbf{3} \  4 &amp; 5 &amp; 6  \end{bmatrix}  \quad B &#x3D; \begin{bmatrix}  \mathbf{7} &amp; 8 \  \mathbf{9} &amp; 1 \  \mathbf{10} &amp; 2  \end{bmatrix}$$</p><p>我们想算结果矩阵 <strong>左上角</strong> 的数：</p><ol><li>取出 A 的第一行：<code>[1, 2, 3]</code></li><li>取出 B 的第一列：<code>[7, 9, 10]</code> （注意是竖着的）</li><li><strong>计算动作</strong>：<ul><li>$1$ 碰到了 $7 \rightarrow 1 \times 7 &#x3D; 7$</li><li>$2$ 碰到了 $9 \rightarrow 2 \times 9 &#x3D; 18$</li><li>$3$ 碰到了 $10 \rightarrow 3 \times 10 &#x3D; 30$</li></ul></li><li><strong>求和</strong>：$7 + 18 + 30 &#x3D; \mathbf{55}$</li></ol><p>所以，结果矩阵的左上角就是 55。</p><p>怎么填满整个结果矩阵？</p><p>你就按照顺序重复上面的动作：</p><ol><li><p><strong>A的第一行</strong> $\times$ <strong>B的第一列</strong> $\rightarrow$ 填在结果的 (0,0)</p></li><li><p>A的第一行 $\times$ B的第二列 $\rightarrow$ 填在结果的 (0,1)</p><p>(A的第一行用完了，换下一行)</p></li><li><p><strong>A的第二行</strong> $\times$ <strong>B的第一列</strong> $\rightarrow$ 填在结果的 (1,0)</p></li><li><p><strong>A的第二行</strong> $\times$ <strong>B的第二列</strong> $\rightarrow$ 填在结果的 (1,1)</p></li></ol><hr><p>我的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">multi</span><span class="hljs-params">(<span class="hljs-type">int</span> a[][N], <span class="hljs-type">int</span> b[][M], <span class="hljs-type">int</span> c[][M])</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; M; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; M; j++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; N; k++)<br>            &#123;<br>                c[i][j] += a[i][k] * b[k][j];<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>需要在二维数组的循环基础上再套一个循环（如上定义变量k）</p><p>外层两个循环的  <strong>i</strong>  ，<strong>j</strong>   为**c[i] [j]**服务，</p><p>内层循环计算c[i] [j]的值</p><p>第一次先计算c[0] [0]</p><p>c[0] [0] &#x3D;   a[0] [0] * b[0] [0]<br>            +a[0] [1] * b[1] [0]<br>            +a[0] [2] * b[2] [0]<br>            +a[0] [3] * b[3] [0]</p><p>a的列在变化，小于a的列（N）</p><p>b的行在变化，小于b的行（N）</p><p>&#x3D;&#x3D;总结&#x3D;&#x3D;：c[i] [j] 指的是用<strong>a的第i行中的每一个数</strong> 乘 <strong>b的第j列中对应的数</strong> 再全部加起来</p><h3 id="二维数组做参数的注意事项："><a href="#二维数组做参数的注意事项：" class="headerlink" title="二维数组做参数的注意事项："></a>二维数组做参数的注意事项：</h3><p>在函数声明中，可以省略第一维（行数），但绝对不能省略第二维（列数）。</p><ul><li><p><strong>语法</strong>：<code>void func(int arr[][N], int rows)</code></p></li><li><p>为什么：C语言中的二维数组在内存中是连续线性存储的（按行优先）。为了找到 arr[i][j]，编译器在后台执行的计算公式是：</p><p>$$Address &#x3D; Base + (i \times \text{列数} + j) \times \text{数据大小}$$</p><p>如果编译器不知道“列数”，它就无法算出下一行从哪里开始。</p></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>输入与字符串</title>
    <link href="/2025/12/13/%E8%BE%93%E5%85%A5%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <url>/2025/12/13/%E8%BE%93%E5%85%A5%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    
    <content type="html"><![CDATA[<h1 id="输入与字符串"><a href="#输入与字符串" class="headerlink" title="输入与字符串"></a>输入与字符串</h1><h2 id="一、getchar和scanf"><a href="#一、getchar和scanf" class="headerlink" title="一、getchar和scanf"></a>一、getchar和scanf</h2><h4 id="1-getchar-的行为"><a href="#1-getchar-的行为" class="headerlink" title="1. getchar() 的行为"></a>1. <code>getchar()</code> 的行为</h4><p>它是最原始的字符读取函数。它的逻辑是：<strong>输入缓冲区里有什么，我就拿什么，绝不挑食。</strong></p><h4 id="2-scanf-的行为"><a href="#2-scanf-的行为" class="headerlink" title="2. scanf() 的行为"></a>2. <code>scanf()</code> 的行为</h4><p><code>scanf</code> 通常比较“聪明”，比如 <code>%d</code> 或 <code>%s</code> 会自动跳过空格、回车和制表符。一旦遇到这些空白字符，它就会<strong>立刻停止读取</strong>， <strong>但是！</strong> <code>%c</code> 是个特例。当使用 <code>%c</code> 时，它的行为和 <code>getchar()</code> 几乎一模一样：<strong>不跳过任何空白字符</strong>。</p><h2 id="二、gets-、-fgets-和-gets-s"><a href="#二、gets-、-fgets-和-gets-s" class="headerlink" title="二、gets 、 fgets 和 gets_s"></a>二、gets 、 fgets 和 gets_s</h2><h3 id="1-gets-——-亡命徒-The-Outlaw"><a href="#1-gets-——-亡命徒-The-Outlaw" class="headerlink" title="1. gets() —— 亡命徒 (The Outlaw)"></a>1. <code>gets()</code> —— 亡命徒 (The Outlaw)</h3><blockquote><p><strong>状态</strong>：<strong>极度危险</strong>，已被废弃（C11 标准已将其从库中移除）。</p></blockquote><ul><li><p><strong>安全性</strong>：<strong>0 分</strong>。</p><ul><li>它不接受数组大小作为参数。</li><li><strong>原理</strong>：你给它一个 10 字节的杯子，如果用户倒入 100 升水，它会照单全收，溢出的水会覆盖掉杯子后面的内存（造成缓冲区溢出攻击）。</li></ul></li><li><p><strong>回车处理</strong>：<strong>“吃掉”回车</strong>。</p><ul><li>读取到 <code>\n</code> 为止，然后把 <code>\n</code> 扔掉，换成 <code>\0</code>。</li></ul></li><li><p>内存样子：输入 abc + 回车</p><p>[‘a’, ‘b’, ‘c’, ‘\0’]</p></li></ul><hr><h3 id="2-fgets-——-严谨的守卫-The-Strict-Guard"><a href="#2-fgets-——-严谨的守卫-The-Strict-Guard" class="headerlink" title="2. fgets() —— 严谨的守卫 (The Strict Guard)"></a>2. <code>fgets()</code> —— 严谨的守卫 (The Strict Guard)</h3><blockquote><p><strong>状态</strong>：<strong>行业标准</strong>，最推荐使用。</p></blockquote><ul><li><p><strong>安全性</strong>：<strong>100 分</strong>。</p><ul><li><strong>语法</strong>：<code>fgets(str, size, stdin);</code></li><li>它强制你告诉它杯子有多大（<code>size</code>）。如果用户输入太长，它读满 <code>size-1</code> 个字符后就强制停止，并在最后补上 <code>\0</code>。剩下的字符留在缓冲区供下次读取。</li></ul></li><li><p><strong>回车处理</strong>：<strong>“保留”回车</strong>（这是它最特殊的点）。</p><ul><li>读取到 <code>\n</code> 为止，它会把 <code>\n</code> 当作普通字符存进数组，然后在 <code>\n</code> 后面补 <code>\0</code>。</li><li><em>注意：如果输入的字符串太长超过了 size，它可能读不到回车。</em></li></ul></li><li><p>内存样子：输入 abc + 回车</p><p>[‘a’, ‘b’, ‘c’, ‘\n’, ‘\0’]</p></li></ul><hr><h3 id="3-gets-s-——-特工-The-Special-Agent"><a href="#3-gets-s-——-特工-The-Special-Agent" class="headerlink" title="3. gets_s() —— 特工 (The Special Agent)"></a>3. <code>gets_s()</code> —— 特工 (The Special Agent)</h3><blockquote><p><strong>状态</strong>：C11 标准引入的<strong>可选</strong>安全版本（注意：并非所有编译器都支持，VC++ 支持，但 GCC&#x2F;Clang 默认不一定支持）。</p></blockquote><ul><li><p><strong>安全性</strong>：<strong>100 分</strong>。</p><ul><li><strong>语法</strong>：<code>gets_s(str, size);</code></li><li>同样强制要求传入大小 <code>size</code>。</li><li><strong>特殊机制</strong>：如果用户输入的内容超过了 <code>size</code>，它不只是截断，它通常会报错（触发运行时约束处理），清空字符串或终止程序，视具体实现而定。</li></ul></li><li><p><strong>回车处理</strong>：<strong>“吃掉”回车</strong>（这点模仿了 <code>gets</code>）。</p><ul><li>读取到 <code>\n</code>，扔掉它，换成 <code>\0</code>。</li><li><em>目的</em>：为了让你从 <code>gets</code> 迁移过来时，不用改处理回车的逻辑。</li></ul></li><li><p>内存样子：输入 abc + 回车</p><p>[‘a’, ‘b’, ‘c’, ‘\0’]</p></li></ul><hr><h3 id="📊-终极对比表"><a href="#📊-终极对比表" class="headerlink" title="📊 终极对比表"></a>📊 终极对比表</h3><table><thead><tr><th><strong>特性</strong></th><th><strong>gets(str)</strong></th><th><strong>fgets(str, n, stdin)</strong></th><th><strong>gets_s(str, n)</strong></th></tr></thead><tbody><tr><td><strong>安全性</strong></td><td>❌ <strong>极差</strong> (内存溢出)</td><td>✅ <strong>安全</strong> (截断)</td><td>✅ <strong>安全</strong> (报错&#x2F;截断)</td></tr><tr><td><strong>是否需要数组大小</strong></td><td>不需要 (瞎读)</td><td><strong>需要</strong></td><td><strong>需要</strong></td></tr><tr><td><strong>回车符 <code>\n</code></strong></td><td><strong>扔掉</strong>，换成 <code>\0</code></td><td><strong>保留</strong>，后面补 <code>\0</code></td><td><strong>扔掉</strong>，换成 <code>\0</code></td></tr><tr><td><strong>结果字符串</strong></td><td><code>&quot;abc&quot;</code></td><td><code>&quot;abc\n&quot;</code></td><td><code>&quot;abc&quot;</code></td></tr><tr><td><strong>兼容性</strong></td><td>现代编译器报错&#x2F;移除</td><td><strong>全平台通用</strong></td><td>只有部分编译器支持 (如 VS)</td></tr></tbody></table><hr><h3 id="🔍-内存与回车处理图解"><a href="#🔍-内存与回车处理图解" class="headerlink" title="🔍 内存与回车处理图解"></a>🔍 内存与回车处理图解</h3><p>假设你的数组大小是 10 (<code>char buf[10]</code>)，你输入了 <code>abc</code> 然后按了回车。</p><p><strong>1. <code>gets(buf)</code> 的内存：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Plaintext">| a | b | c | \0 | ? | ? | ...<br>^--- 哪怕你输入 100 个字，它也会往后写，覆盖 ? 区域<br></code></pre></td></tr></table></figure><p><strong>2. <code>fgets(buf, 10, stdin)</code> 的内存：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Plaintext">| a | b | c | \n | \0 | ? | ...<br>^--- 注意多出来的 \n，这导致字符串长度变成了 4<br></code></pre></td></tr></table></figure><p><strong>3. <code>gets_s(buf, 10)</code> 的内存：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Plaintext">| a | b | c | \0 | ? | ? | ...<br>^--- 只要不超过 10，效果和 gets 一样，但是安全<br></code></pre></td></tr></table></figure><h3 id="💡-核心建议"><a href="#💡-核心建议" class="headerlink" title="💡 核心建议"></a>💡 核心建议</h3><ol><li>**忘记 <code>gets</code>**：就像忘记前任一样，永远不要在代码里写 <code>gets</code>。</li><li>**慎用 <code>gets_s</code>**：虽然它好用（不用手动删回车），但如果你把代码发给用 Linux&#x2F;Mac 的同学，他们可能编译不过。</li><li>**拥抱 <code>fgets</code>**：这是最通用的解法。如果你讨厌那个讨厌的 <code>\n</code>，可以用一行代码把它去掉：</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">fgets(str, <span class="hljs-number">100</span>, <span class="hljs-built_in">stdin</span>);<br><span class="hljs-comment">// 查找 \n 并把它变成 \0</span><br>str[<span class="hljs-built_in">strcspn</span>(str, <span class="hljs-string">&quot;\n&quot;</span>)] = <span class="hljs-number">0</span>; <br></code></pre></td></tr></table></figure><h2 id="三、输入带空格的字符串"><a href="#三、输入带空格的字符串" class="headerlink" title="三、输入带空格的字符串"></a>三、输入带空格的字符串</h2><h3 id="方案一：最推荐、最标准的方法-fgets"><a href="#方案一：最推荐、最标准的方法-fgets" class="headerlink" title="方案一：最推荐、最标准的方法 (fgets)"></a>方案一：最推荐、最标准的方法 (<code>fgets</code>)</h3><p>这是目前 C 语言中读取带空格字符串的<strong>行业标准</strong>写法。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">100</span>]; <span class="hljs-comment">// 准备足够大的数组</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入: &quot;</span>);<br>    <br>    <span class="hljs-comment">// 语法：fgets(数组名, 数组大小, stdin)</span><br>    <span class="hljs-comment">// stdin 代表从键盘输入</span><br>    fgets(str, <span class="hljs-number">100</span>, <span class="hljs-built_in">stdin</span>); <br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;你存入的是: %s&quot;</span>, str);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>输入</strong>：<code>i am a student</code> (按回车)</li><li><strong>内存结果</strong>：<code>i am a student\n\0</code> (它会把回车也存进去)</li></ul><hr><h3 id="方案二：不存回车的方法-scanf-高级用法"><a href="#方案二：不存回车的方法-scanf-高级用法" class="headerlink" title="方案二：不存回车的方法 (scanf 高级用法)"></a>方案二：不存回车的方法 (<code>scanf</code> 高级用法)</h3><p>如果你不想处理 <code>fgets</code> 带来的那个回车符，可以用 <code>scanf</code> 的“正则表达式”写法。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入: &quot;</span>);<br><br>    <span class="hljs-comment">// %[^\n] 的意思是：读取所有字符，直到遇到回车(\n)才停</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%[^\n]&quot;</span>, str); <br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;你存入的是: %s\n&quot;</span>, str);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>输入</strong>：<code>i am a student</code> (按回车)</li><li><strong>内存结果</strong>：<code>i am a student\0</code> (它不存回车)</li></ul><p><strong>选哪个？</strong></p><ul><li>**选方案一 (<code>fgets</code>)**：如果你怕内存溢出，或者不在意那个回车符。</li><li>**选方案二 (<code>scanf</code>)**：如果你想要一个干净的、没有回车的字符串。</li></ul><h2 id="四、字符串的定义"><a href="#四、字符串的定义" class="headerlink" title="四、字符串的定义"></a>四、字符串的定义</h2><p>如果你是想<strong>接收输入</strong>（比如用 <code>scanf</code> 或 <code>fgets</code>），**你必须写成 <code>str[长度]</code>**。不能只写 <code>str</code>。</p><p>我用一个<strong>“租房”</strong>的例子来解释为什么。</p><hr><h3 id="1-为什么不能写-char-str-？"><a href="#1-为什么不能写-char-str-？" class="headerlink" title="1. 为什么不能写 char str; ？"></a>1. 为什么不能写 <code>char str;</code> ？</h3><p>如果你写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, &amp;str); <span class="hljs-comment">// ❌ 极其危险！</span><br></code></pre></td></tr></table></figure><ul><li><strong>现实含义</strong>：你在内存里只租了<strong>一个</strong>很小的单间（1个字节）。</li><li><strong>后果</strong>：当你试图往里面塞进 “student”（7个字母+1个结束符）时，第1个字母 ‘s’ 住进了单间，剩下的 ‘t’, ‘u’, ‘d’… 就会<strong>挤爆墙壁</strong>，住到隔壁邻居（其他变量）的家里去。</li><li><strong>结局</strong>：程序崩溃（Stack Corruption）。</li></ul><hr><h3 id="2-为什么不能写-char-str-？"><a href="#2-为什么不能写-char-str-？" class="headerlink" title="2. 为什么不能写 char *str; ？"></a>2. 为什么不能写 <code>char *str;</code> ？</h3><p>如果你写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> *str;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str); <span class="hljs-comment">// ❌ 程序会直接炸掉（Segmentation Fault）</span><br></code></pre></td></tr></table></figure><ul><li><strong>现实含义</strong>：<code>char *str</code> 只是一个<strong>门牌号</strong>（指针）。<ul><li>当你定义 <code>char *str;</code> 但不给它赋值时，这个门牌号是乱写的（野指针），它可能指向大海、外太空或者别人的保险柜。</li></ul></li><li><strong>后果</strong>：<code>scanf</code> 试图把 “student” 这个字符串送到 <code>str</code> 指向的地方。因为那个地方根本不属于你，或者根本不存在，操作系统会立刻把你的程序杀掉。</li><li><strong>结局</strong>：段错误（Segmentation Fault）。</li></ul><hr><h3 id="3-为什么要写-char-str-100-？"><a href="#3-为什么要写-char-str-100-？" class="headerlink" title="3. 为什么要写 char str[100]; ？"></a>3. 为什么要写 <code>char str[100];</code> ？</h3><p>如果你写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str); <span class="hljs-comment">// ✅ 安全</span><br></code></pre></td></tr></table></figure><ul><li><strong>现实含义</strong>：你向系统申请（预订）了一个<strong>拥有 100 个房间的公寓</strong>。</li><li><strong>后果</strong>：编译器在内存里划出了一块固定的区域专门给你。现在你把 “student” 存进去，完全够住，不会影响别人。</li></ul><hr><h3 id="唯一可以“偷懒”的情况：初始化"><a href="#唯一可以“偷懒”的情况：初始化" class="headerlink" title="唯一可以“偷懒”的情况：初始化"></a>唯一可以“偷懒”的情况：初始化</h3><p>如果你是在<strong>定义的同时直接赋值</strong>，你可以不写长度，让编译器帮你数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ✅ 编译器会自动数：i, a, m, \0 = 4个字节</span><br><span class="hljs-comment">// 实际上它等同于 char str[4] = &quot;iam&quot;;</span><br><span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;iam&quot;</span>; <br></code></pre></td></tr></table></figure><p>但是！<strong>这也仅限于这一行</strong>。 如果你是想先定义，<strong>后面再用 <code>scanf</code> 输入</strong>，你就必须把长度写死：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> str[];       <span class="hljs-comment">// ❌ 错误！编译器不知道该给多大空间</span><br><span class="hljs-type">char</span> str[] = <span class="hljs-string">&quot;&quot;</span>;  <span class="hljs-comment">// ❌ 依然错误！这只申请了1个字节的空间（存\0），放不下后面的输入</span><br></code></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>C 语言非常“笨”，它不会自动扩容。</p><ul><li>想存字符串，必须先<strong>给够地盘</strong>。</li><li>**<code>char str[100]</code>**：意思是“给我留 100 个字节的空地，我要用来存字”。这是最稳妥的写法。</li></ul><p>所以，记住了：<strong>定义字符串变量用来输入时，中括号里的数字（长度）是绝对不能省的！</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>临时笔记</title>
    <link href="/2025/12/13/%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89/"/>
    <url>/2025/12/13/%E4%B8%B4%E6%97%B6%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<p>讲一下字符串初始化的格式</p><p>讲一下什么是，sizeof，strlen,stract,strcmp,strcpy</p><p>这几个函数是C语言字符串操作的“基石”。特别是 <code>sizeof</code> 和 <code>strlen</code> 的区别，是期末考试和面试的必考题。</p><p>我们分两部分来讲：</p><hr><h3 id="第一部分：字符串初始化的格式"><a href="#第一部分：字符串初始化的格式" class="headerlink" title="第一部分：字符串初始化的格式"></a>第一部分：字符串初始化的格式</h3><p>在 C 语言中，字符串本质上是<strong>以 <code>\0</code> 结尾的字符数组</strong>。常见的初始化方式有以下 4 种：</p><h4 id="1-指定长度的数组（最标准）"><a href="#1-指定长度的数组（最标准）" class="headerlink" title="1. 指定长度的数组（最标准）"></a>1. 指定长度的数组（最标准）</h4><p>C</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-comment">// 申请 10 个格子，填入 hello，剩下的格子自动补 \0</span><br><span class="hljs-built_in">char</span> <span class="hljs-built_in">str</span>[<span class="hljs-number">10</span>] = <span class="hljs-string">&quot;hello&quot;</span>; <br></code></pre></td></tr></table></figure><h4 id="2-偷懒写法（省略长度）"><a href="#2-偷懒写法（省略长度）" class="headerlink" title="2. 偷懒写法（省略长度）"></a>2. 偷懒写法（省略长度）</h4><p>C</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-comment">// 编译器会自动数：h-e-l-l-o-\0，一共申请 6 个字节</span><br><span class="hljs-built_in">char</span> <span class="hljs-built_in">str</span>[] = <span class="hljs-string">&quot;hello&quot;</span>; <br></code></pre></td></tr></table></figure><h4 id="3-逐个字符赋值（最麻烦，容易漏-0）"><a href="#3-逐个字符赋值（最麻烦，容易漏-0）" class="headerlink" title="3. 逐个字符赋值（最麻烦，容易漏 \0）"></a>3. 逐个字符赋值（最麻烦，容易漏 \0）</h4><p>C</p><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// 必须手动在最后加 &#x27;\0&#x27;，否则打印时会乱码</span><br><span class="hljs-type">char</span> <span class="hljs-type">str</span>[] = &#123;<span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;<span class="hljs-char escape_">\0</span>&#x27;</span>&#125;;<br></code></pre></td></tr></table></figure><h4 id="4-指针形式（只读，坑很大）"><a href="#4-指针形式（只读，坑很大）" class="headerlink" title="4. 指针形式（只读，坑很大）"></a>4. 指针形式（只读，<strong>坑很大</strong>）</h4><p>C</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">// str 是一个指针，指向常量区的 <span class="hljs-string">&quot;hello&quot;</span><br>char *str <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span><span class="hljs-comment">; </span><br></code></pre></td></tr></table></figure><ul><li><strong>注意</strong>：这种写法下的字符串是<strong>只读</strong>的。如果你写 <code>str[0] = &#39;H&#39;;</code>，程序会直接崩溃（段错误）。<strong>初学者建议尽量用数组形式（前两种）。</strong></li></ul><hr><h3 id="第二部分：5个核心关键词详解"><a href="#第二部分：5个核心关键词详解" class="headerlink" title="第二部分：5个核心关键词详解"></a>第二部分：5个核心关键词详解</h3><p>为了讲清楚这几个概念，我们假设有以下代码：</p><p>C</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">char s[<span class="hljs-number">100</span>] <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hello&quot;</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><h4 id="1-sizeof-它是运算符，不是函数"><a href="#1-sizeof-它是运算符，不是函数" class="headerlink" title="1. sizeof (它是运算符，不是函数)"></a>1. <code>sizeof</code> (它是运算符，不是函数)</h4><ul><li><strong>含义</strong>：<strong>容器的大小</strong>。问的是“你总共占了多少内存？”</li><li><strong>计算</strong>：包括所有用到的和没用到的空间。</li><li>**针对 s[100]**：<code>sizeof(s)</code> 结果是 <strong>100</strong>。因为你申请了100个格子，哪怕只住了5个人。</li></ul><h4 id="2-strlen-String-Length"><a href="#2-strlen-String-Length" class="headerlink" title="2. strlen (String Length)"></a>2. <code>strlen</code> (String Length)</h4><ul><li><strong>含义</strong>：<strong>内容的长度</strong>。问的是“里面实际住了多少人？”</li><li><strong>计算</strong>：从头开始数，遇到 <code>\0</code> 就停止。**注意：不包括 <code>\0</code>**。</li><li>**针对 s[100]**：<code>strlen(s)</code> 结果是 <strong>5</strong> (<code>h-e-l-l-o</code>)。</li></ul><blockquote><p><strong>一句话区分</strong>：<code>sizeof</code> 看房子有多大，<code>strlen</code> 看房子里住了几个人。</p></blockquote><hr><h4 id="3-strcpy-String-Copy"><a href="#3-strcpy-String-Copy" class="headerlink" title="3. strcpy (String Copy)"></a>3. <code>strcpy</code> (String Copy)</h4><ul><li><p><strong>功能</strong>：<strong>字符串复制</strong>。把 B 里的内容（连同 <code>\0</code>）覆盖到 A 里面。</p></li><li><p><strong>用法</strong>：<code>strcpy(目标, 源);</code></p></li><li><p><strong>记忆口诀</strong>：<strong>“覆盖”</strong>。目标原来的内容会被彻底抹掉。</p></li><li><p><strong>例子</strong>：</p><p>C</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">char</span> dest[<span class="hljs-number">20</span>] = <span class="hljs-string">&quot;Old Data&quot;</span>;<br><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;New&quot;</span>;<br><span class="hljs-built_in">strcpy</span>(dest, src); <br><span class="hljs-comment">// 现在 dest 变成了 &quot;New&quot;，后面的 &quot; Data&quot; 被截断看不见了</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="4-strcat-String-Concatenate"><a href="#4-strcat-String-Concatenate" class="headerlink" title="4. strcat (String Concatenate)"></a>4. <code>strcat</code> (String Concatenate)</h4><ul><li><p><em>你写的 <code>stract</code> 应该是拼写错误，正确是 <code>strcat</code></em></p></li><li><p><strong>功能</strong>：<strong>字符串拼接</strong>。把 B 接在 A 的屁股后面。</p></li><li><p><strong>用法</strong>：<code>strcat(目标, 源);</code></p></li><li><p><strong>原理</strong>：它会找到目标字符串的 <code>\0</code>，把源字符串从这里开始填进去，最后再补一个新的 <code>\0</code>。</p></li><li><p><strong>例子</strong>：</p><p>C</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">char</span> dest[<span class="hljs-number">20</span>] = <span class="hljs-string">&quot;Hello &quot;</span>;<br><span class="hljs-type">char</span> src[] = <span class="hljs-string">&quot;World&quot;</span>;<br><span class="hljs-built_in">strcat</span>(dest, src); <br><span class="hljs-comment">// dest 变成了 &quot;Hello World&quot;</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="5-strcmp-String-Compare"><a href="#5-strcmp-String-Compare" class="headerlink" title="5. strcmp (String Compare)"></a>5. <code>strcmp</code> (String Compare)</h4><ul><li><p><strong>功能</strong>：<strong>字符串比较</strong>。</p></li><li><p><strong>重要原则</strong>：<strong>决不能用 <code>==</code> 比较字符串！</strong> 因为 <code>==</code> 比的是两个数组的<strong>地址</strong>（门牌号），而不是内容。</p></li><li><p><strong>用法</strong>：<code>int result = strcmp(str1, str2);</code></p></li><li><p><strong>返回值</strong>：</p><ul><li><strong><code>0</code><strong>：两个字符串</strong>相等</strong>。</li><li>**<code>&gt;0</code>**：str1 比 str2 大（按字典序，比如 “b” 大于 “a”）。</li><li>**<code>&lt;0</code>**：str1 比 str2 小。</li></ul></li><li><p><strong>例子</strong>：</p><p>C</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(password, <span class="hljs-string">&quot;123456&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;密码正确&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="总结表格"><a href="#总结表格" class="headerlink" title="总结表格"></a>总结表格</h3><table><thead><tr><th><strong>关键字</strong></th><th><strong>全称&#x2F;含义</strong></th><th><strong>核心作用</strong></th><th><strong>备注&#x2F;坑点</strong></th></tr></thead><tbody><tr><td><strong>sizeof</strong></td><td>Size Of</td><td><strong>占内存总大小</strong></td><td>包含 <code>\0</code>，是运算符</td></tr><tr><td><strong>strlen</strong></td><td>String Length</td><td><strong>有效字符长度</strong></td><td><strong>不</strong>包含 <code>\0</code>，需头文件 <code>&lt;string.h&gt;</code></td></tr><tr><td><strong>strcpy</strong></td><td>String Copy</td><td><strong>复制</strong> (覆盖)</td><td>目标空间必须足够大</td></tr><tr><td><strong>strcat</strong></td><td>String Concatenate</td><td><strong>拼接</strong> (追加)</td><td>目标空间必须足够大</td></tr><tr><td><strong>strcmp</strong></td><td>String Compare</td><td><strong>比较</strong></td><td>相等返回 <strong>0</strong>，千万别用 <code>==</code></td></tr></tbody></table><p>接下来我们可以做个小测试：</p><p>如果我定义 char a[] &#x3D; “OK\0Hi”;</p><ol><li><p><code>sizeof(a)</code> 是多少？</p></li><li><p>strlen(a) 是多少？</p><p>(试着想一下，我可以告诉你答案)</p></li></ol><h1 id="sizeof，strlen-stract-strcmp-strcpy上面讲的这些都是啥，都是能直接写在程序中的吗，还有哪些，与我今天学的字符串有关？"><a href="#sizeof，strlen-stract-strcmp-strcpy上面讲的这些都是啥，都是能直接写在程序中的吗，还有哪些，与我今天学的字符串有关？" class="headerlink" title="sizeof，strlen,stract,strcmp,strcpy上面讲的这些都是啥，都是能直接写在程序中的吗，还有哪些，与我今天学的字符串有关？"></a>sizeof，strlen,stract,strcmp,strcpy上面讲的这些都是啥，都是能直接写在程序中的吗，还有哪些，与我今天学的字符串有关？</h1><p>这两个问题问到了点子上！我们来给这些工具分个类，你就会发现它们其实非常有条理。</p><h3 id="一、-它们都是啥？能直接写吗？"><a href="#一、-它们都是啥？能直接写吗？" class="headerlink" title="一、 它们都是啥？能直接写吗？"></a>一、 它们都是啥？能直接写吗？</h3><p>简单来说，它们是你处理字符串时的 <strong>“武器库”</strong>。但是，使用它们有一个前提条件。</p><p>我们可以把它们分成 <strong>两类</strong>：</p><h4 id="第一类：C语言的“亲儿子”-——-sizeof"><a href="#第一类：C语言的“亲儿子”-——-sizeof" class="headerlink" title="第一类：C语言的“亲儿子” —— sizeof"></a>第一类：C语言的“亲儿子” —— <code>sizeof</code></h4><ul><li><strong>身份</strong>：它是 C 语言的 <strong>关键字&#x2F;运算符</strong>（和 <code>if</code>、<code>int</code>、<code>+</code>、<code>-</code> 是一个级别的）。</li><li><strong>能直接写吗？</strong>：<strong>能！</strong> 随时随地都能用，不需要打任何招呼（不需要引用头文件）。</li></ul><h4 id="第二类：外借的“工具箱”-——-strlen-strcpy-strcat-strcmp"><a href="#第二类：外借的“工具箱”-——-strlen-strcpy-strcat-strcmp" class="headerlink" title="第二类：外借的“工具箱” —— strlen, strcpy, strcat, strcmp"></a>第二类：外借的“工具箱” —— <code>strlen</code>, <code>strcpy</code>, <code>strcat</code>, <code>strcmp</code></h4><ul><li><strong>身份</strong>：它们是 <strong>库函数</strong>。C 语言本身不自带这些功能，而是把它们打包放在了一个叫 <code>&lt;string.h&gt;</code> 的工具箱里。</li><li><strong>能直接写吗？</strong>：<strong>不能直接写！</strong><ul><li>你必须在代码的最开头（第一行）加上一句“借工具”的申请：</li><li><strong><code>#include &lt;string.h&gt;</code></strong></li><li>如果你忘了加这一行，虽然有些聪明的编译器（如 VS）会猜到你想干嘛并帮你通过，但标准的做法是必须加，否则会报错。</li></ul></li></ul><hr><h3 id="二、-还有哪些常用的字符串函数？"><a href="#二、-还有哪些常用的字符串函数？" class="headerlink" title="二、 还有哪些常用的字符串函数？"></a>二、 还有哪些常用的字符串函数？</h3><p>除了你今天学的“四大天王”（拷贝、拼接、比较、测长），在这个 <code>&lt;string.h&gt;</code> 工具箱里，还有几个非常实用，你哪怕现在不用，期末考试或者以后写代码一定会用到的：</p><h4 id="1-安全卫士版：strncpy-strncat-strncmp"><a href="#1-安全卫士版：strncpy-strncat-strncmp" class="headerlink" title="1. 安全卫士版：strncpy, strncat, strncmp"></a>1. 安全卫士版：<code>strncpy</code>, <code>strncat</code>, <code>strncmp</code></h4><p>你注意到了吗？它们中间多了一个 **<code>n</code>**。</p><ul><li><strong>作用</strong>：为了防止 <strong>“撑爆数组”</strong>（缓冲区溢出）。</li><li><strong>区别</strong>：<ul><li><code>strcpy(dest, src)</code>：我不管你有多少，我全拷过去（容易炸）。</li><li><code>strncpy(dest, src, n)</code>：我<strong>只拷贝前 n 个字符</strong>。</li></ul></li><li><strong>建议</strong>：在真正的公司开发中，老板通常禁止用 <code>strcpy</code>，必须用 <code>strncpy</code>。</li></ul><h4 id="2-查找小能手：strchr-Find-Char"><a href="#2-查找小能手：strchr-Find-Char" class="headerlink" title="2. 查找小能手：strchr (Find Char)"></a>2. 查找小能手：<code>strchr</code> (Find Char)</h4><ul><li><p><strong>作用</strong>：在一个字符串里查找<strong>某个字符</strong>第一次出现的位置。</p></li><li><p><strong>场景</strong>：比如在 “2023-12-09” 里找到 “-“ 的位置。</p></li><li><p><strong>代码</strong>：</p><p>C</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-built_in">char</span> <span class="hljs-built_in">str</span>[] = <span class="hljs-string">&quot;apple&quot;</span>;<br><span class="hljs-built_in">char</span> *p = strchr(<span class="hljs-built_in">str</span>, <span class="hljs-string">&#x27;l&#x27;</span>); <span class="hljs-comment">// p 会指向 &#x27;l&#x27; 这个位置</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="3-搜索侦探：strstr-Find-String"><a href="#3-搜索侦探：strstr-Find-String" class="headerlink" title="3. 搜索侦探：strstr (Find String)"></a>3. 搜索侦探：<code>strstr</code> (Find String)</h4><ul><li><p><strong>作用</strong>：在一个字符串里查找<strong>另一个字符串</strong>（子串）。</p></li><li><p><strong>场景</strong>：判断 “i am a student” 里面有没有 “student” 这个词。</p></li><li><p><strong>代码</strong>：</p><p>C</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">char</span> haystack[] = <span class="hljs-string">&quot;i am a student&quot;</span>;<br><span class="hljs-type">char</span> needle[] = <span class="hljs-string">&quot;student&quot;</span>;<br><span class="hljs-type">char</span> *result = <span class="hljs-built_in">strstr</span>(haystack, needle); <span class="hljs-comment">// 找到了就返回地址，没找到返回 NULL</span><br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="三、-容易混淆的“邻居”-不在-string-h-里"><a href="#三、-容易混淆的“邻居”-不在-string-h-里" class="headerlink" title="三、 容易混淆的“邻居” (不在 string.h 里)"></a>三、 容易混淆的“邻居” (不在 string.h 里)</h3><p>还有两个你可能会用到的功能，但它们<strong>不归 <code>&lt;string.h&gt;</code> 管</strong>，别跑错片场了：</p><h4 id="1-字符串转数字：atoi-ASCII-to-Integer"><a href="#1-字符串转数字：atoi-ASCII-to-Integer" class="headerlink" title="1. 字符串转数字：atoi (ASCII to Integer)"></a>1. 字符串转数字：<code>atoi</code> (ASCII to Integer)</h4><ul><li><p><strong>头文件</strong>：**<code>&lt;stdlib.h&gt;</code>**</p></li><li><p><strong>作用</strong>：把字符串 <code>&quot;123&quot;</code> 变成整数 <code>123</code>。</p><p>C</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-built_in">int</span> <span class="hljs-built_in">num</span> = atoi(<span class="hljs-string">&quot;100&quot;</span>); <span class="hljs-comment">// num 变成了整数 100，可以做加减法了</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="2-变大写变小写：toupper-tolower"><a href="#2-变大写变小写：toupper-tolower" class="headerlink" title="2. 变大写变小写：toupper, tolower"></a>2. 变大写变小写：<code>toupper</code>, <code>tolower</code></h4><ul><li><strong>头文件</strong>：**<code>&lt;ctype.h&gt;</code>**</li><li><strong>作用</strong>：把字符 <code>&#39;a&#39;</code> 变成 <code>&#39;A&#39;</code>。<ul><li>注意：它们一次只能变<strong>一个字符</strong>，想变整个字符串得写循环。</li></ul></li></ul><h3 id="总结一张表"><a href="#总结一张表" class="headerlink" title="总结一张表"></a>总结一张表</h3><table><thead><tr><th><strong>函数&#x2F;工具</strong></th><th><strong>归属地</strong></th><th><strong>必须要加的头文件</strong></th><th><strong>作用</strong></th></tr></thead><tbody><tr><td><strong>sizeof</strong></td><td>亲儿子</td><td><strong>无</strong> (直接写)</td><td>测内存大小</td></tr><tr><td><strong>strlen</strong></td><td>工具箱</td><td><code>&lt;string.h&gt;</code></td><td>测字符长度</td></tr><tr><td><strong>strcpy &#x2F; strncpy</strong></td><td>工具箱</td><td><code>&lt;string.h&gt;</code></td><td>复制</td></tr><tr><td><strong>strcat &#x2F; strncat</strong></td><td>工具箱</td><td><code>&lt;string.h&gt;</code></td><td>拼接</td></tr><tr><td><strong>strcmp &#x2F; strncmp</strong></td><td>工具箱</td><td><code>&lt;string.h&gt;</code></td><td>比较</td></tr><tr><td><strong>strstr</strong></td><td>工具箱</td><td><code>&lt;string.h&gt;</code></td><td>找子串</td></tr><tr><td><strong>atoi</strong></td><td>隔壁老王</td><td><code>&lt;stdlib.h&gt;</code></td><td>字符串转数字</td></tr><tr><td><strong>toupper</strong></td><td>楼下邻居</td><td><code>&lt;ctype.h&gt;</code></td><td>字符变大写</td></tr></tbody></table><p>你今天学的这几个是核心中的核心，先把它们用熟练，其他的等到需要用的时候再查都来得及！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>无符号unsigned</title>
    <link href="/2025/12/13/%E6%97%A0%E7%AC%A6%E5%8F%B7unsigned/"/>
    <url>/2025/12/13/%E6%97%A0%E7%AC%A6%E5%8F%B7unsigned/</url>
    
    <content type="html"><![CDATA[<h1 id="无符号unsigned"><a href="#无符号unsigned" class="headerlink" title="无符号unsigned"></a>无符号unsigned</h1><p>这是一个非常好的问题。很多初学者（甚至有经验的程序员）容易陷入一个误区：<strong>“既然这个变量（比如年龄、身高、人数）不可能是负数，那我就应该用 <code>unsigned</code>。”</strong></p><p><strong>这个直觉通常是错的</strong>。Google 的 C++ 编码规范甚至明确建议：除非万不得已，尽量使用有符号类型（<code>int</code>）。</p><p>那么，到底什么时候<strong>必须</strong>或<strong>推荐</strong>使用 <code>unsigned</code> 呢？主要有以下三种场景：</p><hr><h3 id="1-进行位操作-Bitwise-Operations-——-最核心场景"><a href="#1-进行位操作-Bitwise-Operations-——-最核心场景" class="headerlink" title="1. 进行位操作 (Bitwise Operations) —— 最核心场景"></a>1. 进行位操作 (Bitwise Operations) —— <strong>最核心场景</strong></h3><p>这是使用 <code>unsigned</code> 最正当、最无可争议的理由。 如果你要把一个变量当作<strong>“一串二进制位”</strong>（而不是一个数字）来处理，比如进行移位操作（<code>&gt;&gt;</code>, <code>&lt;&lt;</code>）、按位与&#x2F;或&#x2F;异或，请务必使用 <code>unsigned</code>。</p><ul><li><strong>原因：</strong> 有符号数（<code>signed</code>）的最高位是<strong>符号位</strong>。当你对有符号数进行<strong>右移</strong>操作时，不同的编译器处理方式不同（有的补0，有的补1），结果是未定义的或不可移植的。而无符号数的行为是确定的（总是补0）。</li><li><strong>IoT 场景：</strong> 你是物联网专业的，将来写嵌入式代码（比如控制寄存器、设置GPIO引脚状态）时，会大量使用 <code>unsigned</code>。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 推荐：用于位掩码</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> flags = <span class="hljs-number">0xFF</span>; <br>flags = flags &gt;&gt; <span class="hljs-number">1</span>; <span class="hljs-comment">// 结果明确，左边补0</span><br><br><span class="hljs-comment">// 不推荐：有符号数移位可能出问题</span><br><span class="hljs-type">int</span> bad_flags = <span class="hljs-number">-5</span>;<br>bad_flags = bad_flags &gt;&gt; <span class="hljs-number">1</span>; <span class="hljs-comment">// 结果依赖编译器，极其危险</span><br></code></pre></td></tr></table></figure><h3 id="2-确实需要更大的正数范围"><a href="#2-确实需要更大的正数范围" class="headerlink" title="2. 确实需要更大的正数范围"></a>2. 确实需要更大的正数范围</h3><p><code>int</code>（通常是32位）的最大值大约是 <strong>21亿</strong>。 <code>unsigned int</code> 的最大值大约是 <strong>42亿</strong>。</p><p>如果你的数据量明确会超过 21 亿，但不会超过 42 亿，那么使用 <code>unsigned</code> 是为了利用这多出来的一倍空间。</p><ul><li><strong>例子：</strong> 网络传输的字节数统计、系统运行的毫秒数（<code>uptime</code>）、哈希算法的结果。</li></ul><h3 id="3-表示内存大小、数组索引-标准库约定"><a href="#3-表示内存大小、数组索引-标准库约定" class="headerlink" title="3. 表示内存大小、数组索引 (标准库约定)"></a>3. 表示内存大小、数组索引 (标准库约定)</h3><p>C语言的标准库中，表示“对象大小”或“数组长度”的类型是 <code>size_t</code>，它本质上就是一种 <code>unsigned</code> 类型。</p><ul><li><strong>原因：</strong> 内存地址、数组下标、文件大小物理上不可能是负的，而且内存空间可能非常大，需要利用无符号数的全部范围。</li><li><strong>场景：</strong> 使用 <code>sizeof</code>、<code>strlen</code>、<code>memcpy</code> 时，参数和返回值都是无符号的。</li></ul><hr><h3 id="⚠️-为什么不要随便用-unsigned？（避坑指南）"><a href="#⚠️-为什么不要随便用-unsigned？（避坑指南）" class="headerlink" title="⚠️ 为什么不要随便用 unsigned？（避坑指南）"></a>⚠️ 为什么不要随便用 <code>unsigned</code>？（避坑指南）</h3><p>除了上述情况，做普通数学运算（加减乘除、循环计数）时，**默认首选 <code>int</code>**。</p><p>这是因为无符号数有两个巨大的陷阱：</p><h4 id="陷阱一：死循环风险"><a href="#陷阱一：死循环风险" class="headerlink" title="陷阱一：死循环风险"></a>陷阱一：死循环风险</h4><p>看下面这个想倒序遍历数组的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> i;<br><span class="hljs-comment">// 错误！当 i 为 0 时，i-- 变成了最大的正整数，导致 i &gt;= 0 永远成立</span><br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">5</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123; <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>结果：</strong> 死循环。因为 <code>unsigned</code> 永远大于等于 0。</p><h4 id="陷阱二：算术下溢-Underflow"><a href="#陷阱二：算术下溢-Underflow" class="headerlink" title="陷阱二：算术下溢 (Underflow)"></a>陷阱二：算术下溢 (Underflow)</h4><p>如果你做减法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> a = <span class="hljs-number">3</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> b = <span class="hljs-number">5</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> c = a - b; <br></code></pre></td></tr></table></figure><p>你期望 <code>c</code> 是 <code>-2</code>，但实际上 <code>c</code> 会变成一个<strong>巨大的正数</strong>（4294967294）。后续如果有逻辑判断 <code>if (c &lt; 0)</code>，就会像你刚才的阶乘程序一样，直接失效。</p><h4 id="陷阱三：混合运算的隐式转换-你刚才遇到的"><a href="#陷阱三：混合运算的隐式转换-你刚才遇到的" class="headerlink" title="陷阱三：混合运算的隐式转换 (你刚才遇到的)"></a>陷阱三：混合运算的隐式转换 (你刚才遇到的)</h4><p>C语言规定，当 <code>int</code> 和 <code>unsigned int</code> 进行运算或比较时，<code>int</code> 会被自动强转为 <code>unsigned int</code>。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">-1</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> b = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (a &gt; b) &#123;<br>    <span class="hljs-comment">// 竟然会执行这里！因为 -1 变成了 42亿 &gt; 1</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1 is bigger than 1??&quot;</span>); <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="总结建议"><a href="#总结建议" class="headerlink" title="总结建议"></a>总结建议</h3><p>作为物联网工程的学生，你可以遵循这个简单的决策树：</p><ol><li><strong>是在操作寄存器、位掩码、二进制流吗？</strong> -&gt; 用 <code>unsigned</code>。</li><li><strong>是标准库要求的参数（如 <code>malloc</code> 的大小）吗？</strong> -&gt; 用 <code>size_t</code> (unsigned)。</li><li><strong>数值极其巨大，超过了 21 亿吗？</strong> -&gt; 用 <code>unsigned</code> 或 <code>long long</code>。</li><li><strong>其他所有情况（包括计数、年龄、分数、普通数学计算）</strong> -&gt; **老老实实用 <code>int</code>**。哪怕变量不会是负数，用 <code>int</code> 也可以利用“溢出报错”或“变成负数”来帮你发现 Bug，而不是默默地变成一个巨大的随机数。</li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>二分法查找下标</title>
    <link href="/2025/12/06/%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E4%B8%8B%E6%A0%87/"/>
    <url>/2025/12/06/%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E4%B8%8B%E6%A0%87/</url>
    
    <content type="html"><![CDATA[<h1 id="二分法查找下标"><a href="#二分法查找下标" class="headerlink" title="二分法查找下标"></a>二分法查找下标</h1><h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><p>折半查找算法，当找到输入元素后显示其在数组中的下标</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-comment">// 修正1：up设为9（数组最大下标），low设为0（数组最小下标），初始化found为0</span><br>    <span class="hljs-type">int</span> up = <span class="hljs-number">9</span>, low = <span class="hljs-number">0</span>, mid, found = <span class="hljs-number">0</span>, find;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>, <span class="hljs-number">25</span>, <span class="hljs-number">34</span>, <span class="hljs-number">38</span>, <span class="hljs-number">41</span> &#125;;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入要查找的数字: &quot;</span>);<br>    <span class="hljs-comment">// 修正2：scanf添加取地址符 &amp;</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;find);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>    <span class="hljs-comment">// 修正3：循环条件改为逻辑与 &amp;&amp;，且使用 standard 的 low &lt;= up</span><br>    <span class="hljs-keyword">while</span> (low &lt;= up &amp;&amp; !found)<br>    &#123;<br>        mid = (up + low) / <span class="hljs-number">2</span>;<br><br>        <span class="hljs-comment">// 修正4：使用 == 进行比较</span><br>        <span class="hljs-keyword">if</span> (a[mid] == find)<br>        &#123;<br>            found = <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 找到后break是正确的，因为循环条件里有!found，其实break也可以省略，但加上更清晰</span><br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a[mid] &gt; find)<br>        &#123;<br>            <span class="hljs-comment">// 修正5：中间值比目标大，说明在左边，up = mid - 1</span><br>            up = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">// 中间值比目标小，说明在右边，low = mid + 1</span><br>            low = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (found)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Found! The index is: %d\n&quot;</span>, mid);<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Not found.\n&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="重点："><a href="#重点：" class="headerlink" title="重点："></a>重点：</h2><ul><li><p>如何通过添加判断语句实现“没有找到”</p></li><li><p>如何实现对最小值或最大值的成功定位</p></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>运算符优先级和数组定义</title>
    <link href="/2025/12/06/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7%E5%92%8C%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89/"/>
    <url>/2025/12/06/%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7%E5%92%8C%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="运算符优先级和数组定义"><a href="#运算符优先级和数组定义" class="headerlink" title="运算符优先级和数组定义"></a>运算符优先级和数组定义</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>按照筛法求素数的思想求出100以内的所有素数。每行10个。</p><p>**输出格式要求：”%5d”</p><p>用筛法求素数的基本思想是：把从2到N的一组正整数从小到大按顺序排列。从中依次删除2的倍数、3的倍数、5的倍数，直到根号N的倍数为止，剩余的即为2~N之间的所有素数。如有：<br>2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30<br>去掉2的倍数（不包括2），余下的数是：<br>3 5 7 9 11 13 15 17 19 21 23 25 27 29<br>剩下的数中3最小，去掉3的倍数，如此下去直到sqrt(30)的倍数，<br>最后求出的素数为：<br>2 3 5 7 11 13 17 19 23 29</p><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> n 100</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<span class="hljs-comment">//const int n=100;</span><br><br><span class="hljs-type">int</span> a[n<span class="hljs-number">-1</span>]=&#123;<span class="hljs-number">0</span>&#125;;<span class="hljs-comment">//假设都是素数</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i&lt;=<span class="hljs-built_in">sqrt</span>(n);i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n<span class="hljs-number">-1</span>;j++)&#123;<br><span class="hljs-keyword">if</span>((j+<span class="hljs-number">2</span>)%i==<span class="hljs-number">0</span>&amp;&amp;j+<span class="hljs-number">2</span>!=i)&#123;<br>a[j]=<span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-comment">//打印</span><br><span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=<span class="hljs-number">2</span>;k&lt;=n;k++)&#123;<br><span class="hljs-keyword">if</span>(a[k<span class="hljs-number">-2</span>]==<span class="hljs-number">0</span>)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%5d&quot;</span>,k);<br>count++;<br>&#125;<br><span class="hljs-keyword">if</span>(count%<span class="hljs-number">10</span>==<span class="hljs-number">0</span>)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="写代码中遇到的问题"><a href="#写代码中遇到的问题" class="headerlink" title="写代码中遇到的问题"></a>写代码中遇到的问题</h2><h3 id="（一）数组的定义："><a href="#（一）数组的定义：" class="headerlink" title="（一）数组的定义："></a>（一）数组的定义：</h3><p>问：我想定义int a[n-1]&#x3D;{0}，这里的n我想设置为100，所以我在前面定义int n&#x3D;100，为什么不行？提示我的n要为不可变常量，所以我定义const int n&#x3D;100，为什么又不行，我的n明显是const常量啊，难道非要定义#define n 100吗？</p><p>答：</p><p><strong>在 C 语言中，<code>const int n = 100;</code> 并不是真正的“常量”，而是一个“只读变量”。</strong></p><p>是不是听起来像绕口令？别急，我来给你拆解一下这背后的逻辑。</p><h4 id="1-为什么-const-不行？（“只读变量”-vs-“常量”）"><a href="#1-为什么-const-不行？（“只读变量”-vs-“常量”）" class="headerlink" title="1. 为什么 const 不行？（“只读变量” vs “常量”）"></a>1. 为什么 <code>const</code> 不行？（“只读变量” vs “常量”）</h4><p>在 C 语言的标准（特别是 C89&#x2F;C90 和 C99）中：</p><ul><li><strong><code>#define N 100</code><strong>： 这是一个</strong>预处理指令</strong>。在编译代码之前，编译器会先把代码里所有的 <code>N</code> 简单粗暴地替换成 <code>100</code>。<ul><li>对编译器来说：<code>int a[N]</code> 等同于 <code>int a[100]</code>。</li><li>编译器明确知道大小是 100，所以允许你用 <code>&#123;0&#125;</code> 初始化。</li></ul></li><li><strong><code>const int n = 100</code><strong>： 这对 C 语言编译器来说，<code>n</code> 依然是一个</strong>变量</strong>（Variable），只不过是一个“你承诺不去修改它的变量”（Read-only Variable）。<ul><li>虽然它的值是 100，但在严格的 C 语言规则里，它属于<strong>运行时（Runtime）</strong>的概念，而数组的大小和初始化（<code>&#123;...&#125;</code>）需要在<strong>编译时（Compile-time）</strong>确定。</li><li>当你写 <code>int a[n]</code> 时，这就变成了一个<strong>变长数组（VLA）</strong>。</li><li><strong>C 语言规定：变长数组不能在定义时使用 <code>&#123;...&#125;</code> 进行初始化。</strong></li></ul></li></ul><blockquote><p><strong>注意：</strong> 如果你学过 C++，你会发现 <code>const int n = 100; int a[n];</code> 是完全合法的。这是 C 和 C++ 的一个重大区别！在 C++ 里，<code>const</code> 被视为真正的编译期常量，但在 C 里不是。</p></blockquote><h4 id="2-那是不是非要用-define？"><a href="#2-那是不是非要用-define？" class="headerlink" title="2. 那是不是非要用 #define？"></a>2. 那是不是非要用 <code>#define</code>？</h4><p>并不是只有 <code>#define</code> 这一条路，你有两个选择来解决这个问题：</p><h4 id="方法一：宏定义-define（最常用，推荐）"><a href="#方法一：宏定义-define（最常用，推荐）" class="headerlink" title="方法一：宏定义 #define（最常用，推荐）"></a>方法一：宏定义 <code>#define</code>（最常用，推荐）</h4><p>这是 C 语言处理数组大小的标准做法。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> N 100</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[N] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// 完美，编译器看到的是 int a[100] = &#123;0&#125;;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>&#x3D;&#x3D;注意&#x3D;&#x3D;</p><p>不能使用define N 1e2</p><p>因为 1e2(  (1*10^2) )是浮点类型，而数组的定义要是整数类型</p><h4 id="方法二：枚举-enum（高级一点的技巧）"><a href="#方法二：枚举-enum（高级一点的技巧）" class="headerlink" title="方法二：枚举 enum（高级一点的技巧）"></a>方法二：枚举 <code>enum</code>（高级一点的技巧）</h4><p>如果你讨厌 <code>#define</code>（因为它没有类型检查，而且是全局替换），你可以用 <code>enum</code>。枚举成员在 C 语言中被视为真正的“整型常量表达式”。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span> &#123;</span> N = <span class="hljs-number">100</span> &#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[N] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// 也是合法的，因为 N 是真正的常量</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="（二）运算优先级"><a href="#（二）运算优先级" class="headerlink" title="（二）运算优先级"></a>（二）运算优先级</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-keyword">if</span>(j + <span class="hljs-number">2</span> % i == <span class="hljs-number">0</span> &amp;&amp; j + <span class="hljs-number">2</span> != i)<br></code></pre></td></tr></table></figure><p>在 C 语言中，取余运算符 <code>%</code> 的优先级比加法 <code>+</code> 高。 <strong>结果</strong>：程序实际上算的是 <code>j + (2 % i)</code>，而不是你想要的 <code>(j + 2) % i</code>。 <strong>修正</strong>：加上括号 <code>(j + 2) % i == 0</code></p><h3 id="（三）多打印了一个回车"><a href="#（三）多打印了一个回车" class="headerlink" title="（三）多打印了一个回车"></a>（三）多打印了一个回车</h3><p>程序运行结果：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tex"> 2    3    5    7   11   13   17   19   23   29<br><br><br><br>31   37   41   43   47   53   59   61   67   71<br><br><br><br>73   79   83   89   97<br></code></pre></td></tr></table></figure><p>解决：只需要把<strong>判断换行</strong>的代码，挪到<strong>打印数字</strong>的 <code>if</code> 括号<strong>里面</strong>。 逻辑变成：只有<strong>刚刚打印了一个素数</strong>，且这个素数是第 10 个时，才换行。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (a[k - <span class="hljs-number">2</span>] == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 如果是素数</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%5d&quot;</span>, k);<br>            count++;<br>            <br>            <span class="hljs-comment">// 【修改】把换行判断放进来</span><br>            <span class="hljs-comment">// 只有当 count 增加后（确实打印了数字），才检查是否要换行</span><br>            <span class="hljs-keyword">if</span> (count % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>            &#125;<br></code></pre></td></tr></table></figure><h2 id="我的收获："><a href="#我的收获：" class="headerlink" title="我的收获："></a>我的收获：</h2><p>当我看到这个题目的时候，我是不会写的</p><p>但是看了哈基米的提示后，我才意识到这个重要的方法——标记数组</p><p>以后遇到这种一串数字在变动的时候，优先考虑先标记，而不是先定义数组。</p><p>在最后得到最终结果后再统一打印。</p><p>这个思路是非常值得学习的！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>scanf循环读取一次输入</title>
    <link href="/2025/12/06/scanf%E5%BE%AA%E7%8E%AF%E8%AF%BB%E5%8F%96%E4%B8%80%E6%AC%A1%E8%BE%93%E5%85%A5/"/>
    <url>/2025/12/06/scanf%E5%BE%AA%E7%8E%AF%E8%AF%BB%E5%8F%96%E4%B8%80%E6%AC%A1%E8%BE%93%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="scanf循环读取一次输入"><a href="#scanf循环读取一次输入" class="headerlink" title="scanf循环读取一次输入"></a>scanf循环读取一次输入</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>有n个整数，使其前面各数顺序向后移m个位置，最后m个数变成最前面m个数。</p><p>输入提示：”共有多少个数？”<br>输入格式：”%d”<br>输入提示：”后移多少个？”<br>输入格式：”%d”<br>输出提示：”请以,号为间隔输入%d个数。\n”<br>输出格式：”%d,”<br>输出提示：”移动后顺序为：\n”<br>输出格式：”%d,”</p><p>程序的运行示例如下：<br>共有多少个数？5<br>后移多少个？2<br>请以,号为间隔输入5个数。<br>1,2,3,4,5<br>移动后顺序为：<br>4,5,1,2,3</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX 1000</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">move</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-type">int</span> a[MAX], n, m;<br>    <span class="hljs-type">char</span> sep;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;共有多少个数？&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;后移多少个？&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请以,号为间隔输入%d个数。\n&quot;</span>, n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%c&quot;</span>, &amp;a[i], &amp;sep);<br>    &#125;<br>    move(a, n, m);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">move</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n, <span class="hljs-type">int</span> m)</span><br>&#123;<br>    <span class="hljs-type">int</span> b[MAX];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        b[(i + m) % n] = a[i];<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;移动后顺序为：\n&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (i == n - <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, b[i]);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d,&quot;</span>, b[i]);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="一次输入，循环读取"><a href="#一次输入，循环读取" class="headerlink" title="一次输入，循环读取"></a>一次输入，循环读取</h3><p>怎么实现输入一次：1,2,3,4,5循环赋值给数组a?</p><p><strong>逗号的处理是关键</strong></p><p>在 <code>for</code> 循环中使用 <code>scanf</code> 处理带逗号的输入，核心难点在于：<strong>scanf 在读取数字时会停在逗号前，但逗号还留在缓冲区里，必须把它“吃掉”，否则下一次循环读取数字时会出错。</strong></p><p>这里有最适合新手的两种实现方法：</p><h4 id="方法一：引入一个“垃圾桶”变量（最推荐，逻辑清晰）"><a href="#方法一：引入一个“垃圾桶”变量（最推荐，逻辑清晰）" class="headerlink" title="方法一：引入一个“垃圾桶”变量（最推荐，逻辑清晰）"></a>方法一：引入一个“垃圾桶”变量（最推荐，逻辑清晰）</h4><p>我们可以定义一个 <code>char</code> 类型的变量（比如叫 <code>sep</code> 或 <code>dummy</code>），专门用来接收那个不需要的逗号。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>];<br>    <span class="hljs-type">char</span> sep; <span class="hljs-comment">// 专门用来存逗号的“垃圾桶”</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入5个数字，用逗号隔开 (例如 1,2,3,4,5): \n&quot;</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-comment">// %d 读取数字存入 a[i]</span><br>        <span class="hljs-comment">// %c 读取紧跟在后面的字符（逗号或回车）存入 sep</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%c&quot;</span>, &amp;a[i], &amp;sep); <br>    &#125;<br><br>    <span class="hljs-comment">// 验证一下是否存进去了</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;你输入的数组是: &quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>原理解析：</strong></p><ol><li><strong>第一次循环</strong>：输入 <code>1,</code>。<code>%d</code> 读了 <code>1</code>，<code>%c</code> 读了 <code>,</code>。一切正常。</li><li>…</li><li><strong>最后一次循环</strong>：输入 <code>5</code> 后面紧跟的是<strong>回车（换行符）</strong>。此时 <code>%d</code> 读了 <code>5</code>，<code>%c</code> 读了 <code>\n</code>（换行符）。</li><li>因为 <code>%c</code> 既能吃逗号也能吃回车，所以这个逻辑是通用的，非常稳健。</li></ol><hr><h4 id="方法二：利用赋值抑制符-c（代码更少，稍微高级一点）"><a href="#方法二：利用赋值抑制符-c（代码更少，稍微高级一点）" class="headerlink" title="方法二：利用赋值抑制符 %*c（代码更少，稍微高级一点）"></a>方法二：利用赋值抑制符 <code>%*c</code>（代码更少，稍微高级一点）</h4><p>C 语言的 <code>scanf</code> 有一个特殊的符号 <code>*</code>，加在格式符中间（如 <code>%*c</code>），意思就是：“读取这个数据，但是<strong>丢弃它</strong>，不要赋值给任何变量”。</p><p>这样你就不需要专门定义那个 <code>char sep</code> 变量了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>];<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入5个数字，用逗号隔开: \n&quot;</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-comment">// %*c 表示读取一个字符并丢弃</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%*c&quot;</span>, &amp;a[i]);<br>    &#125;<br><br>    <span class="hljs-comment">// 验证输出</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="恶心的题目："><a href="#恶心的题目：" class="headerlink" title="恶心的题目："></a>恶心的题目：</h3><p>题目最后要求打印：4,5,1,2,3<br>很反人类，所以需要if进行判断处理</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环中变量的作用域</title>
    <link href="/2025/12/06/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
    <url>/2025/12/06/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/</url>
    
    <content type="html"><![CDATA[<h2 id="循环中变量的作用域"><a href="#循环中变量的作用域" class="headerlink" title="循环中变量的作用域"></a>循环中变量的作用域</h2><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><p>输入某班学生某门课的成绩（最多不超过40人），</p><p>当输入为负值时，表示输入结束，</p><p>用函数编程统计成绩不低于平均分的学生人数。</p><p>要求：</p><p>(1)按如下函数原型进行编程：</p><p>int GetAboveAver(int score[], int n);</p><p>(2)在主函数中：</p><p>输入学生成绩，</p><p>然后调用函数GetAboveAver计算成绩不低于平均分的学生人数，</p><p>最后输出该人数。</p><p>要求:</p><p>(1)学生成绩和平均分均定义为int类型</p><p>(2)**无输入提示信息</p><p>**输入格式为：”%d”</p><p>**输出格式为：”Students of above average is %d\n”</p><p>程序运行示例：</p><p>88 75 86 67 59 66 -1↙</p><p>Students of above average is 3</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX 40</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span>*,<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<span class="hljs-type">int</span> a[MAX]=&#123;<span class="hljs-number">0</span>&#125;,n=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">10086</span>)&#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[n]);<br><span class="hljs-keyword">if</span>(a[n]&lt;<span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>n++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Students of above average is %d&quot;</span>,calculate(a,n));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">calculate</span><span class="hljs-params">(<span class="hljs-type">int</span> a[],<span class="hljs-type">int</span> n)</span>&#123;<br><span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>,ave,count=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>sum+=a[i];<br>&#125;<br>ave=sum/(n);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br><span class="hljs-keyword">if</span>(a[i]&gt;=ave)&#123;<br>count++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> count;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>for循环中括号内定义的变量只存于在循环中<ul><li>出了for循环，变量就死掉了</li><li>解决方法，将定义的语句提出来到循环之前</li></ul></li><li>while循环中定义的变量无效<ul><li>在while循环中定义变量，会导致每次循环的改变量会反复赋值为初始值</li><li>如果定义全局变量，可以解决这个问题，但仍会导致出了这个循环，变量死掉</li><li>解决方法，同上提出来</li></ul></li><li>注意for循环的三个表达式的执行顺序，尽量老老实实地通过break语句打破循环，而不是放到括号内去判断</li></ul><p>这个题目看似简单，但要求对循环的运行机理有充分的认识</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>疑难解答（1）</title>
    <link href="/2025/12/06/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94%EF%BC%881%EF%BC%89/"/>
    <url>/2025/12/06/%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94%EF%BC%881%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="疑难解答（1）"><a href="#疑难解答（1）" class="headerlink" title="疑难解答（1）"></a>疑难解答（1）</h1><p>学了一段时间的C语言，我向哈基米问了几个问题</p><hr><p><strong>Q：我现在正在使用visual studio 2026，为什么我使用scanf的时候会显示scanf不安全？</strong></p><p><strong>A:</strong></p><p>Visual Studio 给你的报错通常是 <code>C4996</code>，这并不是说 <code>scanf</code> 这个函数坏了，而是因为它有一个<strong>先天缺陷</strong>：<strong>不检查边界</strong>。</p><h4 id="1-缓冲区溢出（Buffer-Overflow）"><a href="#1-缓冲区溢出（Buffer-Overflow）" class="headerlink" title="1. 缓冲区溢出（Buffer Overflow）"></a>1. 缓冲区溢出（Buffer Overflow）</h4><p>想象一下，你申请了一个只能装 5 个字符的数组 <code>char a[5]</code>，但是你在 <code>scanf(&quot;%s&quot;, a)</code> 的时候，用户如果不听话，输入了 100 个字符。</p><ul><li><code>scanf</code> 也是个“老实人”，用户给多少它就往内存里塞多少。</li><li><strong>结果</strong>：多出来的字符会溢出，覆盖掉数组后面原本不属于它的内存区域。这可能导致程序崩溃，甚至被黑客利用（这就是著名的“缓冲区溢出攻击”）。</li></ul><h4 id="2-微软的解决方案"><a href="#2-微软的解决方案" class="headerlink" title="2. 微软的解决方案"></a>2. 微软的解决方案</h4><p>微软为了安全，推出了 <code>scanf_s</code> 等一系列带 <code>_s</code> (Secure) 后缀的函数。它们要求你明确告诉它“这块内存有多大”，如果输入超过这个大小，函数就会报错而不是让程序崩溃。</p><hr><p><strong>Q：为什么</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>不会报错</strong></p><p><strong>为什么</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br></code></pre></td></tr></table></figure><p><strong>换一个顺序就又报错了？</strong></p><p><strong>A：</strong></p><p>这是一个关于 <strong>C 语言预处理（Preprocessing）</strong> 机制的超级硬核知识点。</p><p>你要明白，<code>#include &lt;stdio.h&gt;</code> 并不是一句咒语，它的真实作用是：<strong>把 <code>stdio.h</code> 这个文件里的几千行代码，在编译前原封不动地“复制粘贴”到你的代码里。</strong></p><h4 id="场景-1：正确写法（-define-在前）"><a href="#场景-1：正确写法（-define-在前）" class="headerlink" title="场景 1：正确写法（#define 在前）"></a>场景 1：正确写法（<code>#define</code> 在前）</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 1. 这一行先执行。编译器此时心里记下了：有一个叫 _CRT_SECURE_NO_WARNINGS 的记号。</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS </span><br><br><span class="hljs-comment">// 2. 这一行执行。编译器打开 stdio.h 文件开始复制。</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span> </span><br></code></pre></td></tr></table></figure><p><strong>发生了什么？</strong> 在 <code>stdio.h</code> 的源文件深处（其实是在 Microsoft 的 <code>corecrt.h</code> 里面），写着类似这样的逻辑：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// stdio.h 内部的逻辑示意图</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> _CRT_SECURE_NO_WARNINGS  <span class="hljs-comment">// 如果还没有定义这个记号</span></span><br>    <span class="hljs-comment">// 开启这一堆报错，告诉用户 scanf 不安全</span><br>    <span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES 0</span><br>    <span class="hljs-comment">// ... 触发报错的代码 ...</span><br><span class="hljs-meta">#<span class="hljs-keyword">else</span> </span><br>    <span class="hljs-comment">// 如果已经定义了这个记号</span><br>    <span class="hljs-comment">// 那我就闭嘴，不报错了</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p>因为你在引入头文件<strong>之前</strong>就已经打好了招呼（定义了宏），所以头文件里的开关就被正确关闭了。</p><h4 id="场景-2：错误写法（-include-在前）"><a href="#场景-2：错误写法（-include-在前）" class="headerlink" title="场景 2：错误写法（#include 在前）"></a>场景 2：错误写法（<code>#include</code> 在前）</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// 1. 编译器先打开了 stdio.h，把里面的代码复制进来了。</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span> </span><br><br><span class="hljs-comment">// 此时编译器读到了 stdio.h 里的判断：</span><br><span class="hljs-comment">// &quot;咦？现在还没有定义 _CRT_SECURE_NO_WARNINGS 呀？那我就开启报错模式！&quot;</span><br><br><span class="hljs-comment">// 2. 你才慢悠悠地定义这个宏……</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS </span><br></code></pre></td></tr></table></figure><p><strong>发生了什么？</strong> <strong>晚了！</strong> 当你定义这个宏的时候，<code>stdio.h</code> 里的代码已经被处理过了，报错开关已经被打开了。这就好比你都要进门被保安拦下了，你才想起来去办通行证，那肯定来不及了。</p><hr><p><strong>Q：为什么一定要叫 <code>int main()&#123;&#125;</code>，不能叫 <code>int Hello()&#123;&#125;</code>？</strong></p><p><strong>A：</strong></p><h4 id="1-约定俗成的入口"><a href="#1-约定俗成的入口" class="headerlink" title="1. 约定俗成的入口"></a>1. 约定俗成的入口</h4><p>想象一下，操作系统（Windows）就像是一个邮递员，你的程序就像是一栋大楼。</p><ul><li>当你想运行程序时，Windows 会去你的代码里找一个<strong>特定的门牌号</strong>，这个门牌号在 C 语言标准里被规定为 **<code>main</code>**。</li><li>如果你把函数名改成了 <code>Hello</code>，邮递员（操作系统）拿着信（执行权）转了一圈，发现找不到 <code>main</code> 这个门牌号，它就不知道该从哪里开始执行你的代码。</li></ul><h4 id="2-链接器报错"><a href="#2-链接器报错" class="headerlink" title="2. 链接器报错"></a>2. 链接器报错</h4><p>如果你强行把 <code>main</code> 改成 <code>Hello</code>，VS 会报一个 <strong>LNK2019</strong> 或 <strong>LNK1120</strong> 错误，提示类似： <code>unresolved external symbol _main</code> （无法解析的外部符号 main） 这就意思是：编译器找了一圈，没找到程序的启动按钮。</p><h4 id="3-特殊情况（稍微超纲一点点）"><a href="#3-特殊情况（稍微超纲一点点）" class="headerlink" title="3. 特殊情况（稍微超纲一点点）"></a>3. 特殊情况（稍微超纲一点点）</h4><p>其实是可以改的，但不是给初学者用的。 在做 <strong>嵌入式开发</strong> 或者 <strong>写操作系统内核</strong> 时，程序员可以通过修改“链接器脚本”来指定程序的入口是 <code>Start()</code> 或者是 <code>Reset_Handler()</code>。但在标准的 Windows 应用程序开发中，请死死守住 <code>int main()</code> 这个入口。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>吃掉缓冲区</title>
    <link href="/2025/12/02/%E5%90%83%E6%8E%89%E7%BC%93%E5%86%B2%E5%8C%BA/"/>
    <url>/2025/12/02/%E5%90%83%E6%8E%89%E7%BC%93%E5%86%B2%E5%8C%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="吃掉缓冲区"><a href="#吃掉缓冲区" class="headerlink" title="吃掉缓冲区"></a>吃掉缓冲区</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><p>对输入的一个数判断是否是素数。所谓素数是指这个数只能被1和自身整除。要求在主函数输入一个数，调用函数Fun()判断该数是否是素数。打印信息在主函数中进行。例如：从键盘输入5，5是素数则打印如下信息：”5 is a prime number”。又如:从键盘输入4, 4不是素数则打印如下信息:”4 is not a prime number”。负数、0和1均不是素数。对输入的数据要考虑数据的合法性，不满足条件的数要重新输入直到满足条件为止。不能使用全局变量,不按给定的函数原型编写程序<br>不给分。Fun()函数原型为： int Fun(int m)；<br>**输入数据提示信息：”Please input a number:\n”<br>                    注：该提示信息请放在循环体外<br>**输入数据格式为：”%d”<br>**输出格式要求：<br>  若是素数输出数据格式为：”%d is a prime number\n”<br>  若不是素数输出数据格式为： “%d is not a prime number\n”<br>程序运行示例1；<br>Please input a number:<br>11<br>11 is a prime number<br>程序运行示例2：<br>Please input a number:<br>56<br>56 is not a prime number</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">Fun</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> m;<br><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a number:\n&quot;</span>);<br><span class="hljs-comment">/*f(scanf(&quot;%d&quot;, &amp;m) != 1) &#123;</span><br><span class="hljs-comment">while (getchar() != &#x27;\n&#x27;);</span><br><span class="hljs-comment">continue;</span><br><span class="hljs-comment">&#125;*/</span><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %d&quot;</span>, &amp;m) != <span class="hljs-number">1</span>) &#123;<br><span class="hljs-comment">// 如果读取失败（比如用户输入了字母），需要清空缓冲区</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Invalid input! Please enter an integer.\n&quot;</span>);<br><span class="hljs-keyword">while</span> (getchar() != <span class="hljs-string">&#x27;\n&#x27;</span>); <span class="hljs-comment">// 吃掉错误的字符</span><br><span class="hljs-keyword">continue</span>; <span class="hljs-comment">// 跳过本次循环，重新开始</span><br>&#125;<br><span class="hljs-keyword">if</span> (!Fun(m)) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d is not a prime number\n&quot;</span>, m);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d is a prime number\n&quot;</span>, m);<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">Fun</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i &lt;= <span class="hljs-built_in">sqrt</span>(m);i++) &#123;<br><span class="hljs-keyword">if</span> (m % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//不是质数</span><br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="吃掉缓冲区："><a href="#吃掉缓冲区：" class="headerlink" title="吃掉缓冲区："></a>吃掉缓冲区：</h2><h3 id="代码实现：-1"><a href="#代码实现：-1" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %d&quot;</span>, &amp;m) != <span class="hljs-number">1</span>) &#123;<br><br><span class="hljs-comment">// 处理非数字输入的容错代码（这里简单处理：清空缓冲区）</span><br><br><span class="hljs-keyword">while</span>(getchar() != <span class="hljs-string">&#x27;\n&#x27;</span>);<br><br><span class="hljs-keyword">continue</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="一、-什么是“缓冲区”-Buffer-？"><a href="#一、-什么是“缓冲区”-Buffer-？" class="headerlink" title="一、 什么是“缓冲区” (Buffer)？"></a>一、 什么是“缓冲区” (Buffer)？</h3><p>想象你在自动售货机买东西。</p><ul><li><strong>键盘</strong>：就是投币口。</li><li>**变量 <code>m</code>**：就是最终存放饮料的地方。</li><li><strong>缓冲区</strong>：就是机器内部的<strong>暂存通道</strong>。</li></ul><p>当你敲击键盘输入 <code>100A</code> 并按下回车时，数据并不会直接飞进变量 <code>m</code> 里。它们会先像排队一样，进入<strong>缓冲区</strong>（传送带）：</p><p><strong>缓冲区现在的状态：</strong></p><p>Plaintext</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[ <span class="hljs-symbol">&#x27;1</span>&#x27;, <span class="hljs-symbol">&#x27;0</span>&#x27;, <span class="hljs-symbol">&#x27;0</span>&#x27;, <span class="hljs-symbol">&#x27;A</span>&#x27;, &#x27;\n&#x27; ]<br></code></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong> <code>\n</code> 是你按的回车键，它也是一个字符，叫换行符。</p></blockquote><hr><h3 id="二、-scanf-的原理：一个挑剔的搬运工"><a href="#二、-scanf-的原理：一个挑剔的搬运工" class="headerlink" title="二、 scanf 的原理：一个挑剔的搬运工"></a>二、 <code>scanf</code> 的原理：一个挑剔的搬运工</h3><p><code>scanf(&quot;%d&quot;, &amp;m)</code> 就像一个负责搬运数字的搬运工。它的工作规则如下：</p><ol><li><strong>跳过空白</strong>：一开始如果遇到空格、换行，它会直接扔掉。</li><li><strong>贪婪读取</strong>：它会一直往后拿字符，直到遇到一个<strong>不是数字</strong>的字符为止。</li><li><strong>放回</strong>：遇到不认识的字符，它不会拿走，而是<strong>留在传送带上</strong>。</li></ol><h4 id="还原你遇到的-100A-场景："><a href="#还原你遇到的-100A-场景：" class="headerlink" title="还原你遇到的 100A 场景："></a>还原你遇到的 <code>100A</code> 场景：</h4><p><strong>第一轮循环：</strong></p><ol><li><p>你输入了 <code>100A</code> + 回车。</p></li><li><p><code>scanf</code> 看到 <code>1</code>，是数字，拿走。</p></li><li><p><code>scanf</code> 看到 <code>0</code>，是数字，拿走。</p></li><li><p><code>scanf</code> 看到 <code>0</code>，是数字，拿走。</p></li><li><p><code>scanf</code> 看到 <code>A</code>，<strong>不是数字！停！</strong></p></li><li><p><code>scanf</code> 把拿到的 <code>100</code> 组装好，放进变量 <code>m</code> 里。返回 <code>1</code>（表示成功读到一个数）。</p></li><li><p><strong>重点：</strong> 此时传送带上还剩下 <code>A</code> 和 <code>\n</code>。</p><p>Plaintext</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">缓冲区剩余：<span class="hljs-selector-attr">[ <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;\n&#x27;</span> ]</span><br></code></pre></td></tr></table></figure></li><li><p>程序继续运行，判断 <code>100</code> 不是质数，打印结果。</p></li></ol><p><strong>第二轮循环（死循环的开始）：</strong></p><ol><li><p>循环回来，再次执行 <code>scanf(&quot;%d&quot;, &amp;m)</code>。</p></li><li><p><code>scanf</code> 看了一眼传送带的第一个东西：<code>A</code>。</p></li><li><p><code>scanf</code> 说：“我要的是 <code>%d</code>（整数），这是个字母，我不干了。”</p></li><li><p><code>scanf</code> 读取失败，返回 <code>0</code>。变量 <code>m</code> 没被修改（还是旧值 100）。</p></li><li><p><strong>重点：</strong> 因为 <code>scanf</code> 读取失败，它没有拿走 <code>A</code>。</p><p>Plaintext</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">缓冲区剩余：<span class="hljs-selector-attr">[ <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;\n&#x27;</span> ]</span>  &lt;-- <span class="hljs-selector-tag">A</span> 还在！<br></code></pre></td></tr></table></figure></li><li><p>程序往下跑，打印“100 不是质数”。</p></li><li><p>回到步骤 1，<code>scanf</code> 又看到 <code>A</code>…… <strong>死循环达成</strong>。</p></li></ol><hr><h3 id="三、-getchar-扮演的角色：不挑食的清洁工"><a href="#三、-getchar-扮演的角色：不挑食的清洁工" class="headerlink" title="三、 getchar() 扮演的角色：不挑食的清洁工"></a>三、 <code>getchar()</code> 扮演的角色：不挑食的清洁工</h3><p><code>getchar()</code> 的功能非常简单粗暴：<strong>从传送带上拿走一个字符，不管是什么，拿走就是了。</strong></p><p>现在看这段“吃掉缓冲区”的代码：</p><p>C</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-variable"><span class="hljs-keyword">while</span></span> (<span class="hljs-function"><span class="hljs-title">getchar</span>() <span class="hljs-variable">!</span>= <span class="hljs-string">&#x27;\n&#x27;</span>);</span><br></code></pre></td></tr></table></figure><p>这句话翻译成白话就是：</p><blockquote><p>“只要拿到的东西不是回车符 (<code>\n</code>)，就继续拿，直到拿到回车符为止。”</p></blockquote><h4 id="加上这段代码后，第二轮循环发生了什么？"><a href="#加上这段代码后，第二轮循环发生了什么？" class="headerlink" title="加上这段代码后，第二轮循环发生了什么？"></a>加上这段代码后，第二轮循环发生了什么？</h4><ol><li><p><code>scanf</code> 发现传送带开头是 <code>A</code>，读取失败，返回 0。</p></li><li><p>进入 <code>if</code> 判断失败的分支。</p></li><li><p>执行 <code>while(getchar() != &#39;\n&#39;);</code>：</p><ul><li>第 1 次 <code>getchar()</code>：拿走了 <code>A</code>。是不是回车？不是。继续。</li><li>第 2 次 <code>getchar()</code>：拿走了 <code>\n</code>。是不是回车？是！循环结束。</li></ul></li><li><p><strong>此时缓冲区状态：</strong> 空了！</p><p>Plaintext</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">缓冲区：<span class="hljs-selector-attr">[ ]</span><br></code></pre></td></tr></table></figure></li><li><p><code>continue</code> 跳回循环开头。</p></li><li><p>第三轮 <code>scanf</code>：传送带是空的，它会乖乖停下来，<strong>等待你键盘输入新的数字</strong>。</p></li></ol><p>这就是“清空缓冲区”的原理。</p><hr><h3 id="四、-解答你的具体疑惑"><a href="#四、-解答你的具体疑惑" class="headerlink" title="四、 解答你的具体疑惑"></a>四、 解答你的具体疑惑</h3><h4 id="Q1-getchar-没有地址啊，读取了的东西放哪？"><a href="#Q1-getchar-没有地址啊，读取了的东西放哪？" class="headerlink" title="Q1: getchar 没有地址啊，读取了的东西放哪？"></a>Q1: <code>getchar</code> 没有地址啊，读取了的东西放哪？</h4><p><strong>答：被扔进了“垃圾桶”。</strong></p><p>在 C 语言中，函数是有返回值的。</p><ul><li>如果你写 <code>char c = getchar();</code>，意思是把拿到的东西存进变量 <code>c</code>。</li><li>如果你只写 <code>getchar();</code>，意思是调用函数，让它执行“拿走字符”这个动作，但是<strong>忽略它的返回值</strong>。</li></ul><p>就像你买了一瓶水（<code>getchar</code>），但是你没伸手接（没赋值给变量），这瓶水就直接掉在地上流走了。在这里，我们的目的就是让它流走（从缓冲区消失），我们并不关心它具体是 <code>A</code> 还是 <code>B</code>。</p><h4 id="Q2-为什么-100A-会先读-100，下次再读-A？"><a href="#Q2-为什么-100A-会先读-100，下次再读-A？" class="headerlink" title="Q2: 为什么 100A 会先读 100，下次再读 A？"></a>Q2: 为什么 <code>100A</code> 会先读 100，下次再读 A？</h4><p><strong>答：这是 <code>scanf</code> 的“分隔符”机制。</strong> <code>scanf</code> 只要遇到不符合格式规定的字符，就会认为“当前这个数据的读取结束了”。</p><ul><li>对于 <code>%d</code>，字母就是结束符。</li><li>对于 <code>%d</code>，空格、回车也是结束符。 正因为如此，你才能在一次输入中用空格隔开多个数字（比如输入 <code>10 20</code>），<code>scanf</code> 才能分两次读走它们。只不过在你的场景里，<code>A</code> 是个意外的非法字符，导致了后面的堵塞。</li></ul><h4 id="Q3-if-scanf-1-是什么意思？"><a href="#Q3-if-scanf-1-是什么意思？" class="headerlink" title="Q3: if (scanf(...) != 1) 是什么意思？"></a>Q3: <code>if (scanf(...) != 1)</code> 是什么意思？</h4><p><strong>答：利用返回值的“体检报告”。</strong> <code>scanf</code> 函数执行完后，会返回一个整数，代表<strong>它成功读取并填好了几个变量</strong>。</p><ul><li>我们写的是 <code>scanf(&quot;%d&quot;, &amp;m)</code>，只想读 1 个整数。</li><li>如果成功，它返回 <code>1</code>。</li><li>如果遇到 <code>A</code>，它读不了，返回 <code>0</code>。</li><li>如果遇到文件结束（EOF），它返回 <code>-1</code>。</li></ul><p>所以 <code>if (scanf(...) != 1)</code> 的意思就是：“如果在读取过程中出了岔子（没读到 1 个数），那肯定是有问题了，赶紧进 <code>if</code> 里进行错误处理（清空缓冲区）。”</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>void的含义</title>
    <link href="/2025/11/30/void%E7%9A%84%E5%90%AB%E4%B9%89/"/>
    <url>/2025/11/30/void%E7%9A%84%E5%90%AB%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="void的含义"><a href="#void的含义" class="headerlink" title="void的含义"></a>void的含义</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>写一个函数，如果它首次被调用，则返回字母A，第二次被调用，则返回字母B，第三次调用，则返回字母C，以此类推。（提示：使用一个static数据类型）<br>函数原型为：char call_times(void)。<br>编写main函数测试它。</p><p>**输出格式要求：”第一次调用返回字符%c!\n” “第二次调用返回字符%c!\n” “第三次调用返回字符%c!\n”</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">char</span> <span class="hljs-title function_">call_times</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;第一次调用返回字符%c!\n&quot;</span>,call_times());<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;第二次调用返回字符%c!\n&quot;</span>,call_times());<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;第三次调用返回字符%c!\n&quot;</span>,call_times());<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">char</span> <span class="hljs-title function_">call_times</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">char</span> ch=<span class="hljs-string">&#x27;A&#x27;</span>;<br><span class="hljs-keyword">return</span> ch++;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="void在这里的含义："><a href="#void在这里的含义：" class="headerlink" title="void在这里的含义："></a>void在这里的含义：</h2><p>函数的括号里面放的是<strong>参数列表（Parameters）</strong>，也就是<strong>你需要传给这个函数什么东西</strong>，它才能开始工作。</p><ul><li><strong><code>call_times(void)</code></strong>: 这里的 <code>void</code> 表示“空”。意思是：<strong>调用这个函数不需要给我任何数据</strong>。它就像一个自动报时器，只要拍它一下（调用它），它自己内部就有逻辑生成 ‘A’, ‘B’, ‘C’，不需要告诉它任何信息。</li><li><strong>如果写成 <code>call_times(int n)</code></strong>: 这意味着调用它时必须给它一个整数，比如 <code>call_times(5)</code>。但在这个题目里，我们需要函数自动从 ‘A’ 变到 ‘B’，不需要外部传入数字，所以不需要 <code>int</code>。</li></ul><p>在 C 语言中，<code>void</code> 的字面意思是<strong>“无”</strong>或<strong>“空”</strong>。它主要出现在两个位置，含义略有不同：</p><p><strong>A. 放在函数名后面的括号里：<code>int main(void)</code></strong></p><ul><li><strong>含义：</strong> 表示该函数<strong>不接受任何参数</strong>。</li><li><strong>例子：</strong> <code>char call_times(void)</code> —— “我是个自给自足的函数，干活不需要你给我提供原料。”</li></ul><p><strong>B. 放在函数名最前面：<code>void selection_sort(...)</code></strong></p><ul><li><strong>含义：</strong> 表示该函数<strong>没有返回值</strong>（不返回任何结果）。</li><li><strong>例子：</strong> 你之前的排序函数 <code>void selection_sort(int a[], int n)</code>。它只负责在内存里把数组排好序，不需要带回一个具体的数字给 <code>main</code> 函数，所以它是 <code>void</code> 类型。</li><li><strong>对比：</strong> 题目中的 <code>char call_times(...)</code> 前面是 <code>char</code>，因为它算完之后，必须<strong>交回</strong>一个字符（’A’ 或 ‘B’ 等）给调用者打印。</li></ul><h2 id="void能省略吗？"><a href="#void能省略吗？" class="headerlink" title="void能省略吗？"></a>void能省略吗？</h2><ul><li><p>char call_times(void)中的void能省略吗？</p><ul><li><strong>能。</strong>在 C 语言中，<code>char call_times()</code> 也是合法的写法，程序能跑。</li></ul></li><li><p>int main() 和 int main(void)意思一样吗？</p><ul><li><strong>不一样！</strong> 在 C 语言里，<code>()</code> 和 <code>(void)</code> 有微妙但重要的区别。</li></ul></li></ul><h3 id="1-和-void-的区别（C-语言特有）"><a href="#1-和-void-的区别（C-语言特有）" class="headerlink" title="1. () 和 (void) 的区别（C 语言特有）"></a>1. <code>()</code> 和 <code>(void)</code> 的区别（C 语言特有）</h3><p>在 <strong>C 语言</strong>中：</p><ul><li><p><strong><code>char call_times(void)</code></strong></p><ul><li><p><strong>含义：</strong> “我发誓，这个函数<strong>绝对没有</strong>参数。”</p></li><li><p><strong>后果：</strong> 如果你在 main 函数里手滑写了 <code>call_times(123);</code>（传了个参数进去），编译器会<strong>直接报错</strong>，阻止你编译。这是一种<strong>安全保护</strong>。</p></li><li><pre><code class="c">#include &lt;stdio.h&gt;char call_times(void);int main()&#123;    printf(&quot;第一次调用返回字符%c!\n&quot;, call_times(123));    printf(&quot;第二次调用返回字符%c!\n&quot;, call_times(321));    printf(&quot;第三次调用返回字符%c!\n&quot;, call_times(10086));    return 0;&#125;char call_times(void) &#123;    static char ch = &#39;A&#39;;    return ch++;&#125;<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><br>- ```tex<br>  发生生成错误。是否继续并运行上次的成功生成？<br>  <br>  “<span class="hljs-type">char</span> <span class="hljs-title function_">call_times</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>”: 用于调用的参数太多<br></code></pre></td></tr></table></figure></code></pre></li></ul></li><li><p><strong><code>char call_times()</code></strong></p><ul><li><p><strong>含义：</strong> “这个函数可能有参数，也可能没有，<strong>我不告诉你</strong>（参数未定）。”</p></li><li><p><strong>后果：</strong> 这是一个历史遗留的“后门”。如果你写 <code>call_times(123);</code>，编译器<strong>不会报错</strong>，它会允许你传参数进去（虽然函数内部根本不会去用这个参数）。</p></li><li><pre><code class="c">#include &lt;stdio.h&gt;char call_times();//我不告诉你int main()&#123;    printf(&quot;第一次调用返回字符%c!\n&quot;, call_times(123));    printf(&quot;第二次调用返回字符%c!\n&quot;, call_times(321));    printf(&quot;第三次调用返回字符%c!\n&quot;, call_times(10086));//给你中国移动    return 0;&#125;char call_times() &#123;    static char ch = &#39;A&#39;;    return ch++;&#125;<figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang-repl"><br>- ```tex<br>  第一次调用返回字符A!<br>  第二次调用返回字符B!<br>  第三次调用返回字符C!<br></code></pre></td></tr></table></figure></code></pre></li></ul></li></ul><h4 id="看个代码例子："><a href="#看个代码例子：" class="headerlink" title="看个代码例子："></a>看个代码例子：</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 写法 1：括号留空（不安全）</span><br><span class="hljs-function"><span class="hljs-type">char</span> <span class="hljs-title">func_A</span><span class="hljs-params">()</span> </span>&#123; <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;A&#x27;</span>; <br>&#125;<br><br><span class="hljs-comment">// 写法 2：写明 void（安全）</span><br><span class="hljs-function"><span class="hljs-type">char</span> <span class="hljs-title">func_B</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>&#123; <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;B&#x27;</span>; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// 情况 1：</span><br>    <span class="hljs-built_in">func_A</span>(<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-string">&quot;hello&quot;</span>); <br>    <span class="hljs-comment">// ↑ 竟然编译通过了！虽然 func_A 不需要参数，但你硬塞给它，C语言也忍了。</span><br>    <span class="hljs-comment">// 这可能会掩盖你代码里的逻辑错误。</span><br><br>    <span class="hljs-comment">// 情况 2：</span><br>    <span class="hljs-built_in">func_B</span>(<span class="hljs-number">100</span>); <br>    <span class="hljs-comment">// ↑ 报错！编译器说：too many arguments to function &#x27;func_B&#x27;</span><br>    <span class="hljs-comment">// 因为 func_B 明确说了是 (void)，任何参数都不准进。</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>结论：</strong> 为了代码的安全和严谨，<strong>在 C 语言中，如果函数不需要参数，建议一定要写 <code>(void)</code>。</strong></p><h3 id="2-那为什么-int-main-可以不写？"><a href="#2-那为什么-int-main-可以不写？" class="headerlink" title="2. 那为什么 int main() 可以不写？"></a>2. 那为什么 <code>int main()</code> 可以不写？</h3><p><code>main</code> 函数非常特殊，它是程序的入口。关于 <code>main</code>，C 语言标准（C99&#x2F;C11）规定了两种标准写法：</p><ol><li><code>int main(void)</code>  —— 不接收命令行参数。</li><li><code>int main(int argc, char *argv[])</code> —— 接收命令行参数。</li></ol><p><strong>那 <code>int main()</code> 算什么？</strong> 虽然标准推荐写 <code>(void)</code>，但因为历史原因（早期的 C 语言非常随意），编译器对 <code>main</code> 特别宽容。当你写 <code>int main()</code> 时，现代编译器通常默认你就是指 <code>int main(void)</code>。</p><p>但是，如果你去看最严格的 C 语言教材或规范，它们都会建议你写成：</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>&#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-一个额外的小知识（C-vs-C-）"><a href="#3-一个额外的小知识（C-vs-C-）" class="headerlink" title="3. 一个额外的小知识（C vs C++）"></a>3. 一个额外的小知识（C vs C++）</h3><p>如果你以后学 **C++**，情况就变了：</p><ul><li>在 <strong>C++</strong> 中：<code>call_times()</code> 和 <code>call_times(void)</code> <strong>完全等价</strong>，都表示“没有参数”。</li><li>在 <strong>C 语言</strong>中：<code>call_times()</code> 表示“参数不确定”，<code>(void)</code> 表示“没有参数”。</li></ul><p><strong>我的建议：</strong> 既然你现在是在学 C 语言，养成好习惯：**如果不传参数，就老老实实写上 <code>void</code>**。这样别人看你的代码，就知道你是一个严谨的程序员。</p><h2 id="其他方式"><a href="#其他方式" class="headerlink" title="其他方式"></a>其他方式</h2><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 把变量搬到函数外面，它的寿命就是整个程序的寿命</span><br><span class="hljs-type">char</span> global_ch = <span class="hljs-string">&#x27;A&#x27;</span>; <br><br><span class="hljs-type">char</span> <span class="hljs-title function_">call_times</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> &#123;<br>    <span class="hljs-comment">// 函数内部直接去修改外面的这个变量</span><br>    <span class="hljs-keyword">return</span> global_ch++;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, call_times()); <span class="hljs-comment">// 输出 A</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, call_times()); <span class="hljs-comment">// 输出 B</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 函数改为：你给我一个字符地址，我帮你改，并返回改之前的</span><br><span class="hljs-type">char</span> <span class="hljs-title function_">call_times</span><span class="hljs-params">(<span class="hljs-type">char</span>* p_ch)</span> &#123;<br>    <span class="hljs-type">char</span> current = *p_ch; <span class="hljs-comment">// 记下现在的</span><br>    (*p_ch)++;            <span class="hljs-comment">// 把外面的变量加1</span><br>    <span class="hljs-keyword">return</span> current;       <span class="hljs-comment">// 返回加之前的</span><br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> state = <span class="hljs-string">&#x27;A&#x27;</span>; <span class="hljs-comment">// 状态由 main 函数自己维护</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, call_times(&amp;state)); <span class="hljs-comment">// 输出 A</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, call_times(&amp;state)); <span class="hljs-comment">// 输出 B</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>屎山代码</title>
    <link href="/2025/11/30/%E5%B1%8E%E5%B1%B1%E4%BB%A3%E7%A0%81/"/>
    <url>/2025/11/30/%E5%B1%8E%E5%B1%B1%E4%BB%A3%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h1 id="屎山代码💩💩💩💩💩"><a href="#屎山代码💩💩💩💩💩" class="headerlink" title="屎山代码💩💩💩💩💩"></a>屎山代码💩💩💩💩💩</h1><p>🥳🥳🥳🎉🎉🎉先让我们恭喜这个代码成为了一坨耙耙🥳🥳🥳🎉🎉🎉</p><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><p>今天我看见了<strong>U4-基本类型变量作为函数参数</strong>这个标题后，我想这不是普通的函数调用的题目吗？</p><p>对于早在U3就开始使用函数调用的我来说，我很有信心能5分钟速通即将到来的题目，想着做完这道题就能马上收拾书包回寝了</p><p>然而那时的我并不知道当我做完这道题已经是几点了</p><p>于是我选择了中等这个难度，并毫不犹豫的点击了开始，这就是二战转折点，我的人生命运齿轮开始了一次崩坏的转动</p><p>首先我看见了没有几行的题目。在我的印象中，C语言的题目越短越好做。但今天，这条定律成了我的墓志铭。</p><p>我当时还在窃喜，做这道题可能5分钟都不需要。随后我就看到了这几个字：</p><p>​<strong>第7章实验任务6</strong></p><p>我的心态发生了一些小小的变化，不过眼睛并没有在这几个字上停留多久，我开始了读题干</p><p>“质因数分解”</p><p>当我看见这几个字的时候，不由得觉得眼前发昏，我仿佛看见了太奶在向我招手，求生的本能迫使我点击了题目上方的“此题不会，以后在做”</p><p>当我缓过神来，全身上下已经湿透了，包括我的内裤，大概率是因为我尿了。</p><p>我颤颤巍巍地起身，拿起我的烟，腿软得像面条，踉跄地走出9203，哆哆嗦嗦地摸出一根细支荷花，手抖地厉害，点了三次火才点着。</p><p>猛抽了几口，先是劫后余生的侥幸，随之而来的却是满满的耻辱感。</p><p>我思考了很久，这个世界上能打败我的只有女人，一到中等难度的C语言题目，即使再难，也只会当我多掉几根头发罢了！</p><p>我掐灭了手里的烟，像是掐死那该死的恐惧，我发誓要将这个题目斩断，切开，剁碎！</p><p>我回到了我的电脑面前，打开历史记录，找到这一题，盯着一个一个字地将它读完。来吧，这次不是你死，就是我秃！</p><p>先来看题把：</p><p>从键盘任意输入一个整数m，若m不是素数，则对m进行质因数分解，并将m表示为质因数从小到大顺序排列的乘积形式输出，否则输出”It is a prime number”。例如，用户输入90时，程序输出90 &#x3D; 2 * 3 * 3 * 5；用户输入17时，程序输出”It is a prime number”。<br>输入提示信息：”Input m:”<br>输入格式：”%d”<br>输出格式：<br>是素数时输出”It is a prime number\n”<br>否则输出用”%d &#x3D; “，”%d * “<br>运行示例1：<br>Input m:90↙<br>90 &#x3D; 2 * 3 * 3 * 5<br>运行示例2：<br>Input m:13↙<br>It is a prime number</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_prime</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">selection</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> &#123;<br><span class="hljs-type">int</span> m;<br><span class="hljs-type">int</span> a[<span class="hljs-number">100</span>], i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input m&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br><span class="hljs-keyword">if</span> (!is_prime(m)) &#123;<br><span class="hljs-type">int</span> current = m;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">2</span>;!is_prime(current);) &#123;<br><span class="hljs-keyword">if</span> (is_prime(j)) &#123;<br><span class="hljs-keyword">if</span> (current % j == <span class="hljs-number">0</span>) &#123;<span class="hljs-comment">//找到了一个</span><br>current = current / j;<br>a[i] = j;<br>i++;<br>j = <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>j++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>j++;<br>&#125;<br><span class="hljs-keyword">if</span> (is_prime(current)) &#123;<br>a[i] = current;<br>&#125;<br>&#125;<br>selection(a, i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d = &quot;</span>, m);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>;k &lt;= i;k++) &#123;<br><span class="hljs-keyword">if</span> (k == i) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a[k]);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d * &quot;</span>, a[k]);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;It is a prime number\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_prime</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>;i &lt;= <span class="hljs-built_in">sqrt</span>(m);i++) &#123;<br><span class="hljs-keyword">if</span> (m % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//不是质数</span><br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n - <span class="hljs-number">1</span>;i++) &#123;<br><span class="hljs-type">int</span> min = i, temp;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>;j &lt; n;j++) &#123;<br><span class="hljs-keyword">if</span> (a[j] &lt; a[min]) &#123;<br>min = j;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span> (min != i) &#123;<br>temp = a[i];<br>a[i] = a[min];<br>a[min] = temp;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>排序算法（选择法）</title>
    <link href="/2025/11/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E9%80%89%E6%8B%A9%E6%B3%95%EF%BC%89/"/>
    <url>/2025/11/30/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E9%80%89%E6%8B%A9%E6%B3%95%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="排序算法（选择法）"><a href="#排序算法（选择法）" class="headerlink" title="排序算法（选择法）"></a>排序算法（选择法）</h1><h2 id="我瞎写的代码："><a href="#我瞎写的代码：" class="headerlink" title="我瞎写的代码："></a>我瞎写的代码：</h2><p>上课老师讲选择法的时候我睡着了（实在是困）</p><p>现在我利用老师讲个课件中的大致逻辑自己尝试写了一份：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">7</span>] = &#123; <span class="hljs-number">13</span>,<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">97</span>,<span class="hljs-number">76</span>,<span class="hljs-number">49</span>,<span class="hljs-number">27</span> &#125;;<br>selection_sort(a, <span class="hljs-number">7</span>);<br><span class="hljs-comment">//printf(&quot;\n最后的结果&quot;);</span><br>present(a, <span class="hljs-number">7</span>);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-comment">//只需要循环n-1=6轮</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= n - <span class="hljs-number">2</span>;i++) &#123;<br><span class="hljs-type">int</span> temp;<br><span class="hljs-comment">//printf(&quot;\n第%d循环&quot;, i + 1);</span><br><span class="hljs-comment">//每轮循环找出剩下元素的最小值，并放到第i个位置</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i;j &lt;= n - <span class="hljs-number">2</span>;j++) &#123;<br><span class="hljs-keyword">if</span> (a[j + <span class="hljs-number">1</span>] &lt; a[i]) &#123;<br><span class="hljs-comment">//将暂时找到的最小值与a[i]交换</span><br>temp = a[j + <span class="hljs-number">1</span>];<br>a[j + <span class="hljs-number">1</span>] = a[i];<br>a[i] = temp;<br>&#125;<br><span class="hljs-comment">//present(a, 7);</span><br>&#125;<br><span class="hljs-comment">//printf(&quot;\n第%d循环的结果：&quot;, i + 1);present(a, 7);</span><br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= n - <span class="hljs-number">1</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, a[i]);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>去除注释：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">7</span>] = &#123; <span class="hljs-number">13</span>,<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">97</span>,<span class="hljs-number">76</span>,<span class="hljs-number">49</span>,<span class="hljs-number">27</span> &#125;;<br>selection_sort(a, <span class="hljs-number">7</span>);<br>present(a, <span class="hljs-number">7</span>);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= n - <span class="hljs-number">2</span>;i++) &#123;<br><span class="hljs-type">int</span> temp;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i;j &lt;= n - <span class="hljs-number">2</span>;j++) &#123;<br><span class="hljs-keyword">if</span> (a[j + <span class="hljs-number">1</span>] &lt; a[i]) &#123;<br>temp = a[j + <span class="hljs-number">1</span>];<br>a[j + <span class="hljs-number">1</span>] = a[i];<br>a[i] = temp;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= n - <span class="hljs-number">1</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, a[i]);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>当然这并不是标准的选择排序，而是我自创的交换排序</p><p>哈基米说：</p><blockquote><p><strong>真正的选择排序：</strong> 在每一轮循环中，<strong>只记录</strong>最小值的下标（index），循环结束后<strong>只交换一次</strong>。</p><p><strong>你的写法：</strong> 在每一轮循环中，只要发现比 <code>a[i]</code> 小的数，<strong>立刻交换</strong>。</p><p><strong>这种写法的缺点：</strong></p><ul><li><strong>交换次数过多：</strong> 交换（读写内存）通常比比较（读取内存）更消耗性能。如果数列很乱，你的写法在每一轮里可能会发生多次交换。而标准选择排序每一轮只需交换 0 次或 1 次。</li></ul></blockquote><p>以及一个小不足：</p><p><strong>循环写法：</strong> <code>i &lt;= n - 2</code> 这种写法数学上是对的，但程序员通常习惯写 <code>i &lt; n - 1</code>。两者等价，但后者可读性更强。</p><p>看看哈基米写的标准选择排序算法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">standard_selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">7</span>] = &#123; <span class="hljs-number">13</span>, <span class="hljs-number">38</span>, <span class="hljs-number">65</span>, <span class="hljs-number">97</span>, <span class="hljs-number">76</span>, <span class="hljs-number">49</span>, <span class="hljs-number">27</span> &#125;;<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;排序前:&quot;</span>);<br>    present(a, <span class="hljs-number">7</span>);<br><br>    standard_selection_sort(a, <span class="hljs-number">7</span>);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;排序后:&quot;</span>);<br>    present(a, <span class="hljs-number">7</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">standard_selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-type">int</span> i, j, minIndex, temp;<br><br>    <span class="hljs-comment">// 外层循环：i 代表当前要确定的位置</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>        <br>        <span class="hljs-comment">// 1. 假设当前位置 i 就是最小值</span><br>        minIndex = i;<br><br>        <span class="hljs-comment">// 2. 内层循环：在剩下的元素中寻找真正的最小值</span><br>        <span class="hljs-keyword">for</span> (j = i + <span class="hljs-number">1</span>; j &lt; n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (a[j] &lt; a[minIndex]) &#123;<br>                <span class="hljs-comment">// 只记录下标，不进行交换！</span><br>                minIndex = j; <br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// 3. 只有当找到的最小值不是原来的 a[i] 时，才交换一次</span><br>        <span class="hljs-keyword">if</span> (minIndex != i) &#123;<br>            temp = a[i];<br>            a[i] = a[minIndex];<br>            a[minIndex] = temp;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, a[i]);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>我草啊啊啊啊，呃呃呃~~，哦哦哦！！！🥵🥵🥵</p><p>也是直接高潮了好吧，这个代码的思路太好了！</p><p>选择用<code>minIndex</code>储存下标值，最后检查下标值是否改变，就是检查后面的元素中有没有出现更小的值，再决定是否交换</p><p>反观我的代码，只要有更小的值就交换一次，如果多次检测到最小值的情况，就会交换多次，是一种效率上的浪费</p><p>我看了这个代码后重新写了一遍：</p><h2 id="我认真写的代码："><a href="#我认真写的代码：" class="headerlink" title="我认真写的代码："></a>我认真写的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">7</span>] = &#123; <span class="hljs-number">13</span>,<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">97</span>,<span class="hljs-number">76</span>,<span class="hljs-number">49</span>,<span class="hljs-number">27</span> &#125;;<br>selection_sort(a, <span class="hljs-number">7</span>);<br>present(a, <span class="hljs-number">7</span>);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++) &#123;<br><span class="hljs-type">int</span> min_subscript = i,temp;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = i + <span class="hljs-number">1</span>;k &lt; n;k++) &#123;<br><span class="hljs-keyword">if</span> (a[k] &lt; a[min_subscript]) &#123;<br>min_subscript = k;<br>&#125;<br><span class="hljs-keyword">if</span> (min_subscript != i) &#123;<br>temp = a[min_subscript];<br>a[min_subscript] = a[i];<br>a[i] = temp;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[],<span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, a[i]);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>能得出正确的排序，但我还是喂给了AI</p><p>看来我并没有那么聪明！🤣</p><p>哈基米思考了一会：</p><p>目前的写法虽然结果正确，但它<strong>仍然犯了和上一次类似的逻辑问题</strong>，导致它失去了选择排序最大的优势（最少的交换次数）。</p><p>这里有两个具体的建议和修改意见：</p><h3 id="1-致命问题：交换代码的位置不对"><a href="#1-致命问题：交换代码的位置不对" class="headerlink" title="1. 致命问题：交换代码的位置不对"></a>1. 致命问题：交换代码的位置不对</h3><p>在“真正的选择排序”中，我们必须遍历完剩下的<strong>所有</strong>数字，找到那个<strong>唯一</strong>的最小值下标后，<strong>再</strong>进行交换。</p><p><strong>你的代码问题：</strong> 你把交换的代码块 <code>if (min_subscript != i) &#123; ... &#125;</code> 放到了内层循环 <code>for (int k ...)</code> 的<strong>里面</strong>。</p><p><strong>后果：</strong> 这意味着，在寻找最小值的过程中，只要你发现一个新的 <code>min_subscript</code>（或者甚至没发现），你都在尝试交换。这会导致每一轮外层循环中发生多次交换，效率变低。</p><p><strong>修改方法：</strong> 只需移动<strong>一个花括号 <code>&#125;</code> 的位置</strong>。把交换逻辑移到内层循环的<strong>外面</strong>。</p><h3 id="2-小建议：外层循环的边界"><a href="#2-小建议：外层循环的边界" class="headerlink" title="2. 小建议：外层循环的边界"></a>2. 小建议：外层循环的边界</h3><p>虽然写 <code>i &lt; n</code> 没错，但对于选择排序，当循环到倒数第二个元素排好序时，最后一个元素自动就是最大的了。 所以标准写法通常是 <code>i &lt; n - 1</code>。这能少跑一轮空循环（虽然对性能影响微乎其微，但显得更专业）。</p><h2 id="修改后："><a href="#修改后：" class="headerlink" title="修改后："></a>修改后：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">7</span>] = &#123; <span class="hljs-number">13</span>,<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">97</span>,<span class="hljs-number">76</span>,<span class="hljs-number">49</span>,<span class="hljs-number">27</span> &#125;;<br>    selection_sort(a, <span class="hljs-number">7</span>);<br>    present(a, <span class="hljs-number">7</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// 养成好习惯，main函数最后加 return 0</span><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">selection_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-comment">// 只需要处理到 n-1，最后一个数自动归位</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-type">int</span> min_subscript = i;<br>        <span class="hljs-type">int</span> temp;<br>        <br>        <span class="hljs-comment">// 这一步只找最小值在哪里，绝对不碰数组里的值</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = i + <span class="hljs-number">1</span>; k &lt; n; k++) &#123;<br>            <span class="hljs-keyword">if</span> (a[k] &lt; a[min_subscript]) &#123;<br>                min_subscript = k;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// 找完之后，如果发现最小值不在开头，才进行唯一的交换</span><br>        <span class="hljs-keyword">if</span> (min_subscript != i) &#123;<br>            temp = a[min_subscript];<br>            a[min_subscript] = a[i];<br>            a[i] = temp;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, a[i]);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>); <span class="hljs-comment">// 加上换行符，输出更美观</span><br>&#125;<br></code></pre></td></tr></table></figure><p>我也是牛逼哈，不断地犯错，甚至主函数的<code>return 0;</code>都忘记写了。</p><p>在哈基米的帮助下，我总算写对了。</p><p>哈基米有一句话让我受益匪浅：</p><p><strong>总结：</strong> 你的逻辑核心（找最小值）是对的，只是<strong>动手的时机（交换）太早了</strong>。选择排序的精髓就是：<strong>多看（比较），少动（交换）</strong>。</p><h2 id="排序和冒泡的优劣"><a href="#排序和冒泡的优劣" class="headerlink" title="排序和冒泡的优劣"></a>排序和冒泡的优劣</h2><p>研究这两个算法花了我不少时间，我于是向哈基米问了一下这两个算法的区别：</p><p>这两个排序算法（选择排序 vs 冒泡排序）其实是一对“难兄难弟”。</p><p>它们的时间复杂度在最坏和平均情况下都是 $O(n^2)$，也就是说，当数据量变大时，它们都会变得很慢。在实际的大型软件开发中（处理成千上万的数据），通常都不会用这两个，而是用更快的“快速排序”或“归并排序”。</p><p>不过，作为编程入门，它们非常重要。如果非要让它们两个PK一下，<strong>互有优劣</strong>，具体取决于你的使用场景：</p><h3 id="1-谁写内存（交换）更少？-——-选择排序胜-🏆"><a href="#1-谁写内存（交换）更少？-——-选择排序胜-🏆" class="headerlink" title="1. 谁写内存（交换）更少？ —— 选择排序胜 🏆"></a>1. 谁写内存（交换）更少？ —— <strong>选择排序胜</strong> 🏆</h3><p>这是<strong>选择排序</strong>最大的优势。</p><ul><li><strong>选择排序：</strong> 无论数据多乱，它每一轮<strong>最多只交换 1 次</strong>。如果有 $n$ 个数，最多交换 $n-1$ 次。</li><li><strong>冒泡排序：</strong> 如果数据很乱（比如是倒序的），它每次比较都要交换。如果有 $n$ 个数，最坏情况下要交换 $n*(n-1)&#x2F;2$ 次。</li></ul><p>应用场景：</p><p>假设你在给老旧的单片机编程，或者在这个硬件上<strong>“写操作”非常消耗资源&#x2F;寿命</strong>（比如早期的 Flash 存储器，写多了会坏），那么选择排序是更好的选择，因为它极大地减少了写入（交换）的次数。</p><h3 id="2-谁能利用“已经排好序”的部分？-——-冒泡排序胜-🏆"><a href="#2-谁能利用“已经排好序”的部分？-——-冒泡排序胜-🏆" class="headerlink" title="2. 谁能利用“已经排好序”的部分？ —— 冒泡排序胜 🏆"></a>2. 谁能利用“已经排好序”的部分？ —— <strong>冒泡排序胜</strong> 🏆</h3><ul><li><strong>选择排序：</strong> 它是“死脑筋”。给它一个已经排好序的数列 <code>&#123;1, 2, 3, 4, 5&#125;</code>，它依然会傻傻地两层循环走完，去确认谁是最小值。</li><li><strong>冒泡排序（优化版）：</strong> 它是“机灵鬼”。如果在某一轮扫描中，发现<strong>一次交换都没有发生</strong>，它就知道“哦，数列已经排好了”，然后直接结束程序。</li></ul><p>应用场景：</p><p>如果你知道你的数据大部分已经是排好序的，只有少数几个数乱了，用冒泡排序会快得飞起（接近 $O(n)$）。</p><h3 id="3-稳定性（Stability）-——-冒泡排序胜-🏆"><a href="#3-稳定性（Stability）-——-冒泡排序胜-🏆" class="headerlink" title="3. 稳定性（Stability） —— 冒泡排序胜 🏆"></a>3. 稳定性（Stability） —— <strong>冒泡排序胜</strong> 🏆</h3><p>这是一个进阶概念。假设你有两个 38，我们叫它们 <code>38(A)</code> 和 <code>38(B)</code>，且原本 <code>38(A)</code> 在 <code>38(B)</code> 前面。</p><ul><li><strong>冒泡排序：</strong> 是<strong>稳定</strong>的。因为它是相邻比较，遇到相等的数不会交换。排完序后，<code>38(A)</code> 依然在 <code>38(B)</code> 前面。</li><li><strong>选择排序：</strong> 是<strong>不稳定</strong>的。因为它可能会把前面的 <code>38(A)</code> 交换到很后面的位置，破坏原有的相对顺序。</li></ul><p>应用场景：</p><p>如果你在排“学生成绩单”，先按“学号”排了一次，现在要按“分数”再排一次。如果用不稳定的选择排序，分数相同的学生，学号顺序可能会被打乱。用冒泡排序则能保留学号的顺序。</p><hr><h3 id="总结对比表"><a href="#总结对比表" class="headerlink" title="总结对比表"></a>总结对比表</h3><table><thead><tr><th><strong>特性</strong></th><th><strong>选择排序 (Selection Sort)</strong></th><th><strong>冒泡排序 (Bubble Sort)</strong></th></tr></thead><tbody><tr><td><strong>交换次数</strong></td><td><strong>少</strong> (固定 $O(n)$)</td><td><strong>多</strong> (取决于数据乱度)</td></tr><tr><td><strong>比较次数</strong></td><td>多 (固定 $O(n^2)$)</td><td>多 (通常 $O(n^2)$)</td></tr><tr><td><strong>最佳情况速度</strong></td><td>慢 (依然 $O(n^2)$)</td><td><strong>快</strong> (若已排序可达 $O(n)$)</td></tr><tr><td><strong>稳定性</strong></td><td>不稳定</td><td><strong>稳定</strong></td></tr><tr><td><strong>逻辑复杂度</strong></td><td>简单直观</td><td>简单直观</td></tr></tbody></table><h3 id="既然都学了，下一步做什么？"><a href="#既然都学了，下一步做什么？" class="headerlink" title="既然都学了，下一步做什么？"></a>既然都学了，下一步做什么？</h3><p>既然你已经掌握了这两种 $O(n^2)$ 的算法，而且代码写得越来越规范，我建议你挑战一个新的排序法，它也是 $O(n^2)$，但在小规模数据下，它通常比冒泡和选择都要快，而且更符合人类直觉。</p><p>它就是 **插入排序 (Insertion Sort)**。</p><p><strong>原理就像打扑克牌：</strong> 摸一张牌，把它插到手里已经理好的牌中的正确位置。</p><p><strong>想不想试试写一下插入排序？</strong> (我可以给你提示，或者你自己先去查查原理)</p><h3 id="详细探究一下排序法的不稳定性："><a href="#详细探究一下排序法的不稳定性：" class="headerlink" title="详细探究一下排序法的不稳定性："></a>详细探究一下排序法的不稳定性：</h3><p>我看了AI给出的二者区别后，大受震撼，且对于排序法的不稳定性很好奇，于是我又问了问哈基米：</p><p>这个问题问得太好了！“稳定性”这个概念非常抽象，光看定义很难懂，但一旦画个图，你立刻就会明白。</p><p>所谓的 <code>38(A)</code> 和 <code>38(B)</code>，在计算机眼里数值都是 38。但为了区分它们，我们假设它们是两个不同的人：</p><ul><li><strong>38(A)<strong>：是一个穿</strong>红衣服</strong>的人，排在前面。</li><li><strong>38(B)<strong>：是一个穿</strong>蓝衣服</strong>的人，排在后面。</li></ul><p>我们希望：排完序后，红衣服依然在蓝衣服前面（这就叫稳定）。</p><p>如果排完序后，蓝衣服跑到红衣服前面去了（这就叫不稳定）。</p><h4 id="1-为什么选择排序是“不稳定”的？（案发现场）"><a href="#1-为什么选择排序是“不稳定”的？（案发现场）" class="headerlink" title="1. 为什么选择排序是“不稳定”的？（案发现场）"></a>1. 为什么选择排序是“不稳定”的？（案发现场）</h4><p>选择排序的问题在于：它进行了一次<strong>“远距离暴力交换”</strong>。它为了把最小值拉到前面，不小心把本来坐在前面的 <code>38(A)</code> 扔到了后面去。</p><p>举个例子：</p><p>假设数列是：{ 38(A), 38(B), 10 }</p><p><strong>目标：</strong> 从小到大排序。</p><p><strong>第一轮循环 (i&#x3D;0)：</strong></p><ol><li>我们要给第 0 个位置（现在坐着 <code>38(A)</code>）找一个最小值。</li><li>我们在后面找啊找，发现了 <strong>10</strong> 是最小的。</li><li><strong>关键时刻来了！</strong> 选择排序说：“我要把 10 放到第 0 个位置”。</li><li>于是，它把 <strong>10</strong> 和 <strong>38(A)</strong> 交换位置。</li></ol><p>结果变成了：</p><p>{ 10, 38(B), 38(A) }</p><p>看！悲剧发生了：</p><p>本来 38(A) 在 38(B) 的前面。</p><p>但是因为 38(A) 运气不好，它占据了“坑位”，被用来交换那个最小的 10，结果被一脚踢到了数列的最后面。</p><p>现在的顺序变成了：蓝衣服(B) 在 红衣服(A) 的前面。</p><p>这就是<strong>不稳定</strong>。原有的顺序被打乱了。</p><h4 id="2-为什么冒泡排序是“稳定”的？（和谐社会）"><a href="#2-为什么冒泡排序是“稳定”的？（和谐社会）" class="headerlink" title="2. 为什么冒泡排序是“稳定”的？（和谐社会）"></a>2. 为什么冒泡排序是“稳定”的？（和谐社会）</h4><p>冒泡排序是<strong>相邻</strong>两两比较。如果两个数一样大，它就不换。</p><p>还是那个例子：</p><p>数列：{ 38(A), 38(B), 10 }</p><p><strong>第一轮冒泡：</strong></p><ol><li>比较 <code>38(A)</code> 和 <code>38(B)</code>。<ul><li>它俩一样大。冒泡排序的逻辑是 <code>if (a[j] &gt; a[j+1])</code> 才换。</li><li>既然不大于（是等于），<strong>就不换</strong>。</li><li><strong>结果：</strong> <code>38(A)</code> 依然稳稳地坐在 <code>38(B)</code> 前面。</li></ul></li><li>接着比较 <code>38(B)</code> 和 <code>10</code>。<ul><li>38 比 10 大，交换！</li><li><strong>结果：</strong> <code>&#123; 38(A), 10, 38(B) &#125;</code>。</li></ul></li></ol><p><strong>第二轮冒泡：</strong></p><ol><li>比较 <code>38(A)</code> 和 <code>10</code>。<ul><li>38 比 10 大，交换！</li><li><strong>结果：</strong> <code>&#123; 10, 38(A), 38(B) &#125;</code>。</li></ul></li></ol><p>最终结果：</p><p>{ 10, 38(A), 38(B) }</p><p>看到没？红衣服(A) 依然在 蓝衣服(B) 的前面。因为冒泡排序很温柔，不会跨越“人头”去扔东西，所以顺序保住了。</p><h4 id="3-这对“学生学号”有什么影响？"><a href="#3-这对“学生学号”有什么影响？" class="headerlink" title="3. 这对“学生学号”有什么影响？"></a>3. 这对“学生学号”有什么影响？</h4><p>你可能会问：<em>“这有啥用？反正都是38，谁在前谁在后不一样吗？”</em></p><p>对于简单的整数排序，确实没区别。但如果我们排的是<strong>复杂的对象（结构体）</strong>，区别就大了。</p><p>场景模拟：</p><p>你在Excel里有一张成绩单，<strong>一开始是按学号排好序的：</strong></p><table><thead><tr><th><strong>学号</strong></th><th><strong>姓名</strong></th><th><strong>分数</strong></th></tr></thead><tbody><tr><td><strong>001</strong></td><td>张三</td><td>90</td></tr><tr><td><strong>002</strong></td><td>李四</td><td>90</td></tr><tr><td><strong>003</strong></td><td>王五</td><td>80</td></tr></tbody></table><p>现在，老师要求：<strong>“按分数从低到高排序。”</strong></p><p>如果是稳定的排序（如冒泡）：</p><p>排完分数后，分数相同的人，学号依然是有序的。</p><ol><li>王五 (80分)</li><li><strong>张三 (001号, 90分)</strong></li><li><strong>李四 (002号, 90分)</strong> -&gt; 看着很舒服，同分的按学号排。</li></ol><p>如果是不稳定的排序（如选择排序）：</p><p>排完分数后，可能会变成这样：</p><ol><li>王五 (80分)</li><li><strong>李四 (002号, 90分)</strong> -&gt; 莫名其妙跑前面去了</li><li><strong>张三 (001号, 90分)</strong></li></ol><p>这时候老师就会很困惑：“怎么李四排在张三前面？不是应该按学号顺延吗？”</p><p><strong>总结：</strong></p><ul><li><strong>不稳定</strong> &#x3D; 容易“误伤友军”，为了换位置，把无辜的相同元素扔到了后面。</li><li><strong>稳定</strong> &#x3D; 讲究“先来后到”，原本谁在前面，排完序后（如果数值相等）它还在前面。</li></ul><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>卧槽，要不是我多问一嘴，我还真不知道冒泡法和排序法有这么多不同，有这么多不同的运用场景</p><p>尤其是这个稳定性，看来我需要走的路还有很远！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>排序算法（冒泡法）</title>
    <link href="/2025/11/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E5%86%92%E6%B3%A1%E6%B3%95%EF%BC%89/"/>
    <url>/2025/11/29/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E5%86%92%E6%B3%A1%E6%B3%95%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="排序算法（冒泡法）"><a href="#排序算法（冒泡法）" class="headerlink" title="排序算法（冒泡法）"></a>排序算法（冒泡法）</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><ul><li>循环输入一列数，并找出最大值</li></ul><p>这是我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">find_max</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">4</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input: \n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>&#125;<br><span class="hljs-type">int</span> max = find_max(a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The max is %d&quot;</span>, max);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">find_max</span><span class="hljs-params">(<span class="hljs-type">int</span> a[])</span> &#123;<br><span class="hljs-type">int</span> max = a[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-keyword">if</span> (a[i] &gt; max) &#123;<br>max = a[i];<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> max;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行，代码报错</p><p>问了一下哈基米：</p><p><strong>错误一：函数声明与定义不一致</strong></p><ul><li>你的代码：在 <code>main</code> 函数上面，你写的是 <code>int find_max(int);</code>。这意味着告诉编译器这个函数只接收<strong>一个整数</strong>。</li><li>实际情况：在 <code>main</code> 函数下面，你定义的却是 <code>int find_max(int a[])</code>，这接收的是<strong>一个数组</strong>。</li><li>后果：编译器会报错，因为它搞不清到底应该传什么参数。</li><li><strong>修改</strong>：将开头的声明改为 <code>int find_max(int a[]);</code> 或者 <code>int find_max(int*);</code>。</li></ul><p><strong>错误二：数组越界</strong></p><ul><li>在定义a[4]时，这里的4表面数组一共有<strong>4个元素</strong>（实际上我想定义5个元素）</li><li>而在后面的 a[i] (i&#x3D;4) 中，会尝试<strong>访问第五个元素</strong></li><li><strong>修改</strong>：在定义时改成a[5]</li></ul><p>修改后：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">find_max</span><span class="hljs-params">(<span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">5</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input: \n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>&#125;<br><span class="hljs-type">int</span> max = find_max(a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The max is %d&quot;</span>, max);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">find_max</span><span class="hljs-params">(<span class="hljs-type">int</span> a[])</span> &#123;<br><span class="hljs-type">int</span> max = a[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-keyword">if</span> (a[i] &gt; max) &#123;<br>max = a[i];<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> max;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="冒泡法"><a href="#冒泡法" class="headerlink" title="冒泡法"></a>冒泡法</h2><ul><li>把你身边的兄弟比一下，如果你比他高，你俩就换位置，你站到他后面去</li></ul><p>这是我第一次写这个算法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">rank</span><span class="hljs-params">(<span class="hljs-type">int</span>*,<span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">78</span>,<span class="hljs-number">89</span>,<span class="hljs-number">69</span>,<span class="hljs-number">98</span>,<span class="hljs-number">50</span> &#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">5</span>;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br>rank(a,i<span class="hljs-number">-1</span>);<br>&#125;<br>present(a);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//将找到的最小的数字依次往左排</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">rank</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> i)</span> &#123;<br><span class="hljs-type">int</span> temp;<br><span class="hljs-keyword">for</span> (;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a[i - <span class="hljs-number">1</span>] &gt; a[i]) &#123;<br>temp = a[i - <span class="hljs-number">1</span>];<br>a[i - <span class="hljs-number">1</span>] = a[i];<br>a[i] = temp;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-comment">//打印出更新后的数组</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[])</span> &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>问了一下哈基米，可知道我的代码有些可以改进的地方：</p><ul><li><p>结构上不合适</p><p>通常来说冒泡排序的双循环一般会写在一个函数中，我把外层循环放在 <code>main</code> 里、内层循环放在 <code>rank</code> 里会让代码逻辑变得支离破碎，阅读起来比较累</p></li><li><p>效率上的小浪费</p><p>你的策略是把最小的数冒泡到最左边（下标0）。那么第一轮结束后，<code>a[0]</code> 已经是最小的了，第二轮就不需要再检查 <code>a[0]</code> 了。但是在你的 <code>rank</code> 函数中，循环条件总是 <code>i &gt;= 1</code>，这意味着每一轮都会去检查 <code>a[0]</code> 和 <code>a[1]</code>，这是多余的比较。</p><p>。。。。。等等，这傻逼Gemini叽里咕噜说啥呢！</p></li></ul><p>我在分析这个“效率上的小浪费‘’，并想找出我的不足时，突然发现我代码并不是效率低，而是写了一个几把！</p><p>因为我rank函数中的循环次数一直在减少：</p><p>第一次检查<strong>a[0],a[1],a[2],a[3],a[4]</strong><br>第二次检查<strong>a[0],a[1],a[2],a[3]</strong>,a[4]<br>第三次检查<strong>a[0],a[1],a[2]</strong>,a[3],a[4]<br>第四次检查<strong>a[0],a[1]</strong>,a[2],a[3],a[4]<br>第五次检查<strong>a[0]</strong>,a[1],a[2],a[3],a[4]</p><p>每一次检查的时候只会找出上述粗体元素的最小值，并往左排</p><p>然后缩小范围，然而就在这个缩小范围的时候，被忽略的非粗体元素并没有保证是最大值且按从小到大的顺序</p><p>我意识到我能得到正确的排序，好像全是因为巧合！</p><p>于是我试了一下，如果我把需要排序的数列改成78,89,69,68,50，最后会得到：50 69 78 89 <strong>68</strong>（68&gt;89?）</p><p>妈的，于是我去质问了一下哈基米：</p><blockquote><p><strong>真的非常抱歉！你说得对，我是完全看走眼了！</strong> 😓</p><p>我也要给你点个大大的赞，作为刚学数组的新手，你能敏锐地发现这个逻辑漏洞并举出反例，这说明你对代码运行逻辑的直觉非常好，这是很多初学者（甚至包括刚才那个大意的我）容易忽略的细节。</p><p>你说得非常对，之前的代码能跑通确实是<strong>巧合</strong>。</p><h3 id="你的代码到底错在哪？（致命逻辑漏洞）"><a href="#你的代码到底错在哪？（致命逻辑漏洞）" class="headerlink" title="你的代码到底错在哪？（致命逻辑漏洞）"></a>你的代码到底错在哪？（致命逻辑漏洞）</h3><p>让我们用你提供的这组数字 <code>78, 89, 69, 68, 50</code> 来复盘一下，看看 <strong>68</strong> 是怎么“含冤被遗忘”在角落的。</p><p>你的代码核心逻辑是：</p><ol><li>**内层 <code>rank</code>**：把范围内最小的数“浮”到最左边。</li><li><strong>外层循环</strong>：<code>rank(a, 4)</code> -&gt; <code>rank(a, 3)</code> -&gt; <code>rank(a, 2)</code> … 范围越来越小。</li></ol><h4 id="案发现场还原："><a href="#案发现场还原：" class="headerlink" title="案发现场还原："></a>案发现场还原：</h4><p><strong>第一轮 <code>rank(a, 4)</code>：</strong> 也就是处理下标 0~4。</p><ul><li>程序一路比较交换，把最小的 <strong>50</strong> 成功送到了最左边 <code>a[0]</code>。</li><li><strong>但是！</strong> 注意中间发生的一件事：<ul><li>当比较 <code>69</code> 和 <code>68</code> 时，没动。</li><li>当比较 <code>68</code> 和 <code>50</code> 时（在数组末尾），<code>68</code> 被换到了 <code>50</code> 的位置（也就是 <code>a[4]</code>，最右边）。</li><li>此时数组大约是：<code>50, 78, 89, 69, 68</code>（大概样子）。</li></ul></li><li><strong>关键点：68 现在处于最后一位 (下标4)。</strong></li></ul><p><strong>第二轮 <code>rank(a, 3)</code>：</strong> <strong>灾难发生了！</strong></p><ul><li>你的外层循环把参数传成了 <code>3</code>。</li><li><code>rank</code> 函数里的循环是 <code>for (; i &gt;= 1; i--)</code>，此时 <code>i</code> 从 <strong>3</strong> 开始。</li><li><strong>这意味着：这一轮只检查下标 0, 1, 2, 3。</strong></li><li><strong>下标 4 里的那个 68，直接被无视了！</strong></li><li>虽然 <code>68</code> 比 <code>89</code>（假设在下标3）要小，但程序根本不看它。</li></ul><p><strong>之后的每一轮</strong>，检查范围都在缩小（下标2、下标1…），那个躲在最右边角落（下标4）的 <strong>68</strong> 再也没有机会被检查，所以它就永远留在了最后面。</p><hr><h3 id="为什么之前的代码跑对了？"><a href="#为什么之前的代码跑对了？" class="headerlink" title="为什么之前的代码跑对了？"></a>为什么之前的代码跑对了？</h3><p>因为之前那组数 <code>&#123;78, 89, 69, 98, 50&#125;</code>，原本就在最右边的 <strong>50</strong> 是最小的，它第一轮就被送走了。而第二大的数 <strong>69</strong> 恰好不在最后一位，没被“卡住”。所以那是<strong>运气好</strong>。</p></blockquote><p>可以的，态度还行。</p><p>在发现问题的这个过程中，我还是收获了很多，即在得到AI的修改意见后（对于效率低），没有仅仅看AI修改后的代码，而是还去复盘自己的代码：</p><p>我不封装了函数<code>present(int a[])</code>用于打印排序后的a[]吗？</p><p>正好我可以将这个函数调用放在任意一个位置，以测试我的循环</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">rank</span><span class="hljs-params">(<span class="hljs-type">int</span>*,<span class="hljs-type">int</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[] = &#123; <span class="hljs-number">78</span>,<span class="hljs-number">89</span>,<span class="hljs-number">69</span>,<span class="hljs-number">68</span>,<span class="hljs-number">50</span> &#125;;<span class="hljs-comment">//98</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">5</span>;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n第%d次排序&quot;</span>, <span class="hljs-number">6</span> - i);present(a);<br>rank(a,i<span class="hljs-number">-1</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n得到最后的结果：&quot;</span>);<br>present(a);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//将找到的最小的数字依次往左排</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">rank</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> i)</span> &#123;<br><span class="hljs-type">int</span> temp;<br><span class="hljs-keyword">for</span> (;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a[i - <span class="hljs-number">1</span>] &gt; a[i]) &#123;<br>temp = a[i - <span class="hljs-number">1</span>];<br>a[i - <span class="hljs-number">1</span>] = a[i];<br>a[i] = temp;<br>&#125;<br>present(a);<br>&#125;<br>&#125;<br><br><span class="hljs-comment">//打印出更新后的数组</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">present</span><span class="hljs-params">(<span class="hljs-type">int</span> a[])</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行，得到</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs tex">第1次排序<br>78 89 69 68 50<br>78 89 69 50 68<br>78 89 50 69 68<br>78 50 89 69 68<br>50 78 89 69 68<br>第2次排序<br>50 78 89 69 68<br>50 78 69 89 68<br>50 69 78 89 68<br>50 69 78 89 68<br>第3次排序<br>50 69 78 89 68<br>50 69 78 89 68<br>50 69 78 89 68<br>第4次排序<br>50 69 78 89 68<br>50 69 78 89 68<br>第5次排序<br>50 69 78 89 68<br>得到最后的结果：<br>50 69 78 89 68<br></code></pre></td></tr></table></figure><p>就这样，发现了我的循环次数并没有像哈基米说的那样不变，这才有了后来的事</p><p>再来看：我将打印这个语句封装，其实是没事找事想试试，结果反而让我有了用于测试的工具</p><p>真可谓是：<strong>有心栽花花不开，无心插柳柳成荫</strong></p><hr><h2 id="标准冒泡法"><a href="#标准冒泡法" class="headerlink" title="标准冒泡法"></a>标准冒泡法</h2><p>后来我重新写了一个标准的冒泡法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">bubble_sort</span><span class="hljs-params">(<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a[<span class="hljs-number">5</span>] = &#123; <span class="hljs-number">78</span>, <span class="hljs-number">89</span>, <span class="hljs-number">69</span>, <span class="hljs-number">98</span>, <span class="hljs-number">50</span> &#125;;<br>bubble_sort(a, <span class="hljs-number">5</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">5</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">bubble_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-type">int</span> temp;<br><span class="hljs-comment">//只需要跑n-1=4轮</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n - <span class="hljs-number">1</span>;i++) &#123;<br><span class="hljs-comment">//第i轮需要交换n-i次</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j &lt;= n - i - <span class="hljs-number">1</span>;j++) &#123;<br><span class="hljs-keyword">if</span> (a[j] &gt; a[j + <span class="hljs-number">1</span>]) &#123;<br>temp = a[j];<br>a[j] = a[j + <span class="hljs-number">1</span>];<br>a[j + <span class="hljs-number">1</span>] = temp;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>基于出现的问题，修改了一下：</p><ol><li><p>将冒泡法的双循环一起放到bubble_sort函数中</p></li><li><p>修改了一下逻辑，每次将最大的往右边挪（冒泡）</p><p>此外，每次从第0个元素开始检测，即实现每次循环交换的次数越来越少，又保证往右排的元素是检测的元素的最大值，且比已经排到右侧的元素小</p></li></ol><p>这样才是一个标标准准的冒泡法</p><p>真享受写代码，改代码的过程啊！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>静态变量</title>
    <link href="/2025/11/29/%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F/"/>
    <url>/2025/11/29/%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h1><h2 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">square</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br>i=square(i);<br><span class="hljs-keyword">for</span>(;i&lt;<span class="hljs-number">3</span>;i++)&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;<br>i+=square(i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d,&quot;</span>,i);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,i);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">square</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span>&#123;<br><span class="hljs-keyword">return</span> i*i;<br>&#125;<br></code></pre></td></tr></table></figure><p>输出：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">2, 6, 42, 3<br></code></pre></td></tr></table></figure><ol><li><p>main函数初始化：</p><ul><li>int i&#x3D;0;  → 主函数中的 i 初始值为0。</li><li>i &#x3D; square(i);  → 调用 square(0) ，返回 0*0&#x3D;0 ，主函数的 i 仍为0。</li></ul></li><li><p>for循环执行（循环条件： i&lt;3 ，主函数的 i 初始为0）：</p><ul><li>第一次循环（主函数 i&#x3D;0 ）：<ul><li>定义 static int i&#x3D;1; （静态变量，仅初始化一次）。</li><li>i +&#x3D; square(i);  →  i &#x3D; 1 + square(1) &#x3D; 1 + 1 &#x3D; 2 。</li><li>输出 2 。</li><li>主函数的 i 自增为1。</li></ul></li><li>第二次循环（主函数 i&#x3D;1 ）：<ul><li>判断 i&lt;3 （1&lt;3，成立）→ 执行循环体。</li><li>静态变量 i 已存在，直接使用当前值2。</li><li>i +&#x3D; square(i);  →  i &#x3D; 2 + square(2) &#x3D; 2 + 4 &#x3D; 6 。</li><li>输出 6, 。</li><li>主函数的 i 自增为2。</li></ul></li><li>第三次循环（主函数 i&#x3D;2 ）：<ul><li>判断 i&lt;3 （2&lt;3，成立）→ 执行循环体。</li><li>静态变量 i 当前值为6 。</li><li>i +&#x3D; square(i);  →  i &#x3D; 6 + square(6) &#x3D; 6 + 36 &#x3D; 42</li><li>输出 42 。</li><li>主函数的 i 自增为3。</li></ul></li><li>判断 i&lt;3 （3&#x3D;3，不成立）→ 循环结束。</li></ul></li><li><p>循环结束后：</p><ul><li>最终输出主函数的 i 为3。</li></ul></li></ol><h4 id="关键："><a href="#关键：" class="headerlink" title="关键："></a>关键：</h4><ul><li>静态变量（static）：在函数&#x2F;代码块内定义时，仅初始化一次，生命周期贯穿整个程序。</li><li>变量作用域：for循环内的 static int i 与主函数的 i 是不同变量，互不影响。</li></ul><h2 id="二、静态变量知识点："><a href="#二、静态变量知识点：" class="headerlink" title="二、静态变量知识点："></a>二、静态变量知识点：</h2><h3 id="两类静态变量的具体使用格式与场景"><a href="#两类静态变量的具体使用格式与场景" class="headerlink" title="两类静态变量的具体使用格式与场景"></a>两类静态变量的具体使用格式与场景</h3><h4 id="1-局部静态变量（函数内-代码块内）"><a href="#1-局部静态变量（函数内-代码块内）" class="headerlink" title="1. 局部静态变量（函数内 &#x2F; 代码块内）"></a>1. 局部静态变量（函数内 &#x2F; 代码块内）</h4><ul><li><p><strong>格式</strong>：在函数体或代码块（如 <code>for</code>、<code>if</code> 块）内部声明，添加 <code>static</code>。</p></li><li><p><strong>核心特点</strong>：仅在声明的函数 &#x2F; 代码块内可见，但生命周期与程序一致（函数调用结束后不销毁，值保留）。</p></li><li><p><strong>示例</strong>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">for</span>(;i&lt;<span class="hljs-number">3</span>;i++)<br>&#123;<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;  <span class="hljs-comment">// 局部静态变量：仅在该for循环块内可见</span><br>    i+=square(i);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d,&quot;</span>,i);<br>&#125;<br></code></pre></td></tr></table></figure><p>这里的</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-type">static</span> <span class="hljs-type">int</span> i=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p> 就是典型的局部静态变量：</p><ul><li>首次进入循环块时初始化（仅初始化 1 次，后续循环不再重新初始化）；</li><li>每次循环后值保留，下次进入块时直接使用上次的结果。</li></ul></li></ul><h4 id="2-全局静态变量（函数外-文件级）"><a href="#2-全局静态变量（函数外-文件级）" class="headerlink" title="2. 全局静态变量（函数外 &#x2F; 文件级）"></a>2. 全局静态变量（函数外 &#x2F; 文件级）</h4><ul><li><p><strong>格式</strong>：在所有函数外部声明，添加 <code>static</code>。</p></li><li><p><strong>核心特点</strong>：生命周期与程序一致，但作用域仅限于当前 <code>.c</code> 文件（其他文件无法通过 <code>extern</code> 引用）。</p></li><li><p><strong>示例</strong>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 文件 a.c</span><br><span class="hljs-type">static</span> <span class="hljs-type">int</span> g_static = <span class="hljs-number">10</span>;  <span class="hljs-comment">// 全局静态变量：仅在 a.c 中可见</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    g_static++;  <span class="hljs-comment">// 函数内可访问和修改</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, g_static);<br>&#125;<br></code></pre></td></tr></table></figure><p>若在另一个文件<code>b.c</code></p><p>中用</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> g_static;<br></code></pre></td></tr></table></figure><p>尝试引用，会编译报错（未定义标识符）。</p></li></ul><h3 id="关键注意事项"><a href="#关键注意事项" class="headerlink" title="关键注意事项"></a>关键注意事项</h3><ol><li><p><strong>初始化规则</strong>：</p><ul><li>静态变量只能用「常量表达式」初始化（不能用变量、函数返回值等动态值）；</li><li>未显式初始化时，系统自动初始化为 0（普通局部变量未初始化时是随机垃圾值）。</li><li>错误示例：<code>int x=5; static int s=x;</code>（x 是变量，不能初始化静态变量）。</li></ul></li><li><p><strong>作用域与生命周期区分</strong>：</p><table><thead><tr><th>变量类型</th><th>作用域（可见范围）</th><th>生命周期（存在时间）</th></tr></thead><tbody><tr><td>局部静态变量</td><td>函数 &#x2F; 代码块内</td><td>程序运行期间（全程存在）</td></tr><tr><td>全局静态变量</td><td>当前 .c 文件内</td><td>程序运行期间（全程存在）</td></tr><tr><td>普通局部变量</td><td>函数 &#x2F; 代码块内</td><td>函数调用期间（调用结束销毁）</td></tr><tr><td>普通全局变量</td><td>所有文件（需 extern 声明）</td><td>程序运行期间（全程存在）</td></tr></tbody></table></li></ol><h2 id="三、全局变量和全局静态变量的区别？"><a href="#三、全局变量和全局静态变量的区别？" class="headerlink" title="三、全局变量和全局静态变量的区别？"></a>三、全局变量和全局静态变量的区别？</h2><h3 id="只写-1-个-c-文件时，两者几乎没区别"><a href="#只写-1-个-c-文件时，两者几乎没区别" class="headerlink" title="只写 1 个.c 文件时，两者几乎没区别"></a>只写 1 个.c 文件时，两者几乎没区别</h3><p>如果程序只在一个<code>.c</code>文件里写（就像你给出的代码那样，所有代码都在一个文件里），不管是写<code>int g_var = 10;</code>（全局变量）还是<code>static int g_static_var = 10;</code>（全局静态变量），用法完全一样：</p><ul><li>都能在文件里的任何函数（比如<code>main</code>、<code>square</code>）里用、修改；</li><li>程序一启动就存在，直到程序结束才消失（不会像函数里的普通变量那样用完就没）；</li><li>没手动赋值的话，默认都是 0。</li></ul><h3 id="关键区别：当写多个-c-文件时（实际编程常用）"><a href="#关键区别：当写多个-c-文件时（实际编程常用）" class="headerlink" title="关键区别：当写多个.c 文件时（实际编程常用）"></a>关键区别：当写多个.c 文件时（实际编程常用）</h3><p>实际写程序时，经常会把代码分成多个<code>.c</code>文件（比如一个存函数，一个存主逻辑），这时候两者的区别就出来了 ——<strong>能不能 “跨文件共享”</strong> 和 <strong>“重名会不会打架”</strong>：</p><h4 id="1-全局变量：能跨文件共享，但容易-“重名打架”"><a href="#1-全局变量：能跨文件共享，但容易-“重名打架”" class="headerlink" title="1. 全局变量：能跨文件共享，但容易 “重名打架”"></a>1. 全局变量：能跨文件共享，但容易 “重名打架”</h4><p>比如有两个文件<code>a.c</code>和<code>b.c</code>：</p><ul><li><code>a.c</code>里写：<code>int g_num = 10;</code>（全局变量）</li><li>想在<code>b.c</code>里用这个<code>g_num</code>，直接写就能用（加一句简单声明），还能修改它的值，两边的<code>g_num</code>是同一个东西。</li></ul><p>但如果<code>b.c</code>里也自己写一个<code>int g_num = 20;</code>（同名全局变量），程序运行时会报错，说 “重复定义了 g_num”—— 相当于两个文件抢同一个名字，打架了。</p><h4 id="2-全局静态变量：不能跨文件共享，但不会-“重名打架”"><a href="#2-全局静态变量：不能跨文件共享，但不会-“重名打架”" class="headerlink" title="2. 全局静态变量：不能跨文件共享，但不会 “重名打架”"></a>2. 全局静态变量：不能跨文件共享，但不会 “重名打架”</h4><p>还是两个文件<code>a.c</code>和<code>b.c</code>：</p><ul><li><code>a.c</code>里写：<code>static int g_static_num = 10;</code>（全局静态变量）</li><li>想在<code>b.c</code>里用这个<code>g_static_num</code>，根本用不了，程序会说 “找不到这个变量”—— 它就像<code>a.c</code>的 “私有变量”，只给<code>a.c</code>自己用。</li></ul><p>但如果<code>b.c</code>里也写<code>static int g_static_num = 20;</code>（同名全局静态变量），完全没问题！因为两个<code>g_static_num</code>是 “各自文件的私有财产”，互不干扰，<code>a.c</code>里的还是 10，<code>b.c</code>里的还是 20，不会打架。</p><h3 id="总结：用-“大白话”-记区别"><a href="#总结：用-“大白话”-记区别" class="headerlink" title="总结：用 “大白话” 记区别"></a>总结：用 “大白话” 记区别</h3><table><thead><tr><th>特性（只记这 2 点就行）</th><th>全局变量</th><th>全局静态变量</th></tr></thead><tbody><tr><td>能不能给其他文件用？</td><td>能（共享）</td><td>不能（私有）</td></tr><tr><td>不同文件重名会怎样？</td><td>报错（打架）</td><td>没事（互不干扰）</td></tr></tbody></table><ul><li>如果你只写一个<code>.c</code>文件，两者用着没区别；</li><li>以后写多个文件时，想让变量给其他文件用，就用全局变量；想让变量只在自己文件里用、不跟别人重名，就用全局静态变量。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>getchar</title>
    <link href="/2025/11/29/getchar/"/>
    <url>/2025/11/29/getchar/</url>
    
    <content type="html"><![CDATA[<h1 id="计算getchar输入"><a href="#计算getchar输入" class="headerlink" title="计算getchar输入"></a>计算getchar输入</h1><h2 id="一、碰见个很烦的题目："><a href="#一、碰见个很烦的题目：" class="headerlink" title="一、碰见个很烦的题目："></a>一、碰见个很烦的题目：</h2><p>*对输入的行、单词和字符进行计数。我们将单词的定义进行化简，认为单词是不包含空格、制表符\t及换行符的字符序列。例如：“a+b+c”，认为是1个单词，它由5个字符组成。又如：“xy abc”，为2个单词，6个字符。输入ctrl+z结束(提示：用ch!&#x3D;EOF或ch!&#x3D;-1作为循环条件)。</p><p>**输出格式要求：”Lines&#x3D;%d\nWords&#x3D;%d\nChars&#x3D;%d\n”<br>程序运行示例如下：<br>hi~<br>Good moring!<br>I’m Julie.</p><p>Lines&#x3D;3<br>Words&#x3D;5<br>Chars&#x3D;28</p><h2 id="二、代码实现："><a href="#二、代码实现：" class="headerlink" title="二、代码实现："></a>二、代码实现：</h2><p>我根本不会写啊，甚至连运行都运行不了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> lines = <span class="hljs-number">0</span>, words = <span class="hljs-number">0</span>, chars = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> ch;<br><span class="hljs-keyword">while</span> ((ch = getchar()) != EOF) &#123;<br>chars++;<br><span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;\n&#x27;</span>) &#123;<br>lines++;<br>&#125;<br><span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27; &#x27;</span> || ch == <span class="hljs-string">&#x27;\t&#x27;</span> || ch == <span class="hljs-string">&#x27;\n&#x27;</span>) &#123;<br>words++;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Lines=%d\nWords=%d\nChars=%d\n&quot;</span>, lines, words, chars);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-为什么-ch-要定义成-int-类型？我输入的不是字符吗？"><a href="#1-为什么-ch-要定义成-int-类型？我输入的不是字符吗？" class="headerlink" title="1,为什么 ch 要定义成 int 类型？我输入的不是字符吗？"></a>1,为什么 <code>ch</code> 要定义成 <code>int</code> 类型？我输入的不是字符吗？</h3><p>你说得对！你输入的确实是「字符」（比如 <code>h</code>、<code>i</code>、<code>\n</code>），但 <code>getchar()</code> 这个函数的设计很特殊 —— 它返回的不是 <code>char</code> 类型，而是 <code>int</code> 类型。</p><h4 id="核心原因：要区分「普通字符」和「结束信号-EOF」"><a href="#核心原因：要区分「普通字符」和「结束信号-EOF」" class="headerlink" title="核心原因：要区分「普通字符」和「结束信号 EOF」"></a>核心原因：要区分「普通字符」和「结束信号 EOF」</h4><ul><li>计算机里的所有字符（包括字母、符号、换行符 <code>\n</code>），在底层都会被转换成一个 <strong>0~255 之间的整数</strong>（ASCII 码）。比如 <code>&#39;a&#39;</code> 对应 97，<code>&#39;\n&#39;</code> 对应 10，空格 <code>&#39; &#39;</code> 对应 32。</li><li>而 <code>EOF</code>（你之前代码里的结束信号，输入 <code>Ctrl+Z</code> 触发），它的本质是一个 <strong>-1</strong>（整数），用来告诉程序 “输入已经结束了，别再读了”。</li></ul><h4 id="如果-ch-定义成-char-会出什么问题？"><a href="#如果-ch-定义成-char-会出什么问题？" class="headerlink" title="如果 ch 定义成 char 会出什么问题？"></a>如果 <code>ch</code> 定义成 <code>char</code> 会出什么问题？</h4><p><code>char</code> 类型的范围很窄（多数编译器默认是 <code>-128~127</code>），它没法正确处理 <code>EOF</code>：</p><ul><li>若 <code>char</code> 是「有符号」的：虽然 <code>-1</code> 能存，但有些扩展 ASCII 字符（比如某些特殊符号）的编码也会是负数，可能和 <code>EOF</code> 混淆，导致程序提前退出或一直不退出；</li><li>若 <code>char</code> 是「无符号」的：<code>-1</code> 会被强制转换成 255（相当于一个普通字符），程序永远认不出 <code>EOF</code>，循环会无限执行，关都关不掉。</li></ul><h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p><code>ch</code> 定义成 <code>int</code>，是为了同时接收两种东西：</p><ol><li>普通字符（本质是 0~255 的整数，存到 <code>int</code> 里完全没问题）；</li><li>结束信号 <code>EOF</code>（本质是 <code>-1</code>，只有 <code>int</code> 能正确识别，不会和普通字符混淆）。</li></ol><p>你之前第一次写的代码用 <code>char ch</code>，其实是有隐藏 bug 的，只是没触发而已；改成 <code>int ch</code> 才是标准、安全的写法。</p><h3 id="2-t-是啥？"><a href="#2-t-是啥？" class="headerlink" title="2.\t 是啥？"></a>2.<code>\t</code> 是啥？</h3><p><code>\t</code> 是 C 语言里的「转义字符」，全称是「水平制表符」，作用和你键盘上的 <strong>Tab 键</strong> 完全一样 —— 就是在输出或输入时，插入一个 “制表位空格”（大概占 4~8 个普通空格的宽度，用来对齐文本）。</p><h4 id="举个例子："><a href="#举个例子：" class="headerlink" title="举个例子："></a>举个例子：</h4><p>输入时：你在键盘上按一下 Tab 键，程序读取到的就是 <code>\t</code>；输出时：<code>printf(&quot;姓名\t年龄\t性别\n&quot;);</code> 会打印成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">姓名    年龄    性别  （中间的空白就是 \t 对应的制表位）<br></code></pre></td></tr></table></figure><h4 id="结合你之前的题目："><a href="#结合你之前的题目：" class="headerlink" title="结合你之前的题目："></a>结合你之前的题目：</h4><p>题目说 “单词是不包含空格、制表符 <code>\t</code> 及换行符 <code>\n</code> 的字符序列”—— 意思是：<code>\t</code> 和空格、换行符一样，都是「单词的分隔符」。比如输入 <code>hello\tworld</code>（hello 和 world 之间按了 Tab 键），会被统计成 2 个单词，而不是 1 个。</p><h3 id="三、EOF-和-1-是什么鬼东西？"><a href="#三、EOF-和-1-是什么鬼东西？" class="headerlink" title="三、EOF 和 -1 是什么鬼东西？"></a>三、<code>EOF</code> 和 -1 是什么鬼东西？</h3><h4 id="1-EOF-是什么？"><a href="#1-EOF-是什么？" class="headerlink" title="1. EOF 是什么？"></a>1. <code>EOF</code> 是什么？</h4><ul><li>全称：End Of File（文件结束符）；</li><li>本质：它不是一个 “字符”，而是一个「信号」—— 告诉程序 “输入已经读完了，没有更多数据了”；</li><li>触发方式：在 Windows 系统下，你在控制台输入完内容后，按 <code>Ctrl + Z</code>（然后回车），就会向程序发送 <code>EOF</code> 信号；在 Linux&#x2F;Mac 下是 <code>Ctrl + D</code>。</li></ul><h4 id="2-EOF-和-1-的关系？"><a href="#2-EOF-和-1-的关系？" class="headerlink" title="2. EOF 和 -1 的关系？"></a>2. <code>EOF</code> 和 <code>-1</code> 的关系？</h4><ul><li><code>EOF</code> 是 C 语言标准库（<code>stdio.h</code>）里定义的一个「宏」（可以理解成一个 “常量别名”）；</li><li>它的底层定义就是 <code>#define EOF (-1)</code>—— 所以 <code>EOF</code> 本质上就是整数 <code>-1</code>；</li><li>程序里写 <code>ch != EOF</code> 和 <code>ch != -1</code> 效果完全一样，但写 <code>EOF</code> 更规范、更容易看懂（别人一看就知道是 “判断输入是否结束”）。</li></ul><h4 id="3-为什么要用-EOF？"><a href="#3-为什么要用-EOF？" class="headerlink" title="3. 为什么要用 EOF？"></a>3. 为什么要用 <code>EOF</code>？</h4><p>比如你之前的题目，要求 “输入 <code>Ctrl+Z</code> 结束”—— 程序怎么知道你按下了 <code>Ctrl+Z</code>？就是通过 <code>EOF</code> 信号。<code>getchar()</code> 读取到 <code>EOF</code> 后，会返回 <code>-1</code>（也就是 <code>EOF</code>），循环条件 <code>(ch=getchar())!=EOF</code> 就会不成立，循环退出，程序结束统计。</p><hr><h1 id="判断getchar"><a href="#判断getchar" class="headerlink" title="判断getchar"></a>判断getchar</h1><h3 id="又碰见一个："><a href="#又碰见一个：" class="headerlink" title="又碰见一个："></a>又碰见一个：</h3><p>编写一个程序，判断输入的一行字符是否构成一个合法的C标识符（以下划线_或字母开头，由下划线、字母和数字组成视为合法的C标识符）。（假设输入的字符串非关键字且最大长度为32）<br>**输入格式要求：getchar()<br>**输出格式要求：”is\n” “is not\n”<br>程序运行示例1如下：<br>$223<br>is not<br>程序运行示例2如下：<br>hello world<br>is not<br>程序运行示例3如下：<br>hello<br>is<br>程序运行示例4如下：<br>a.net<br>is not<br>程序运行示例5如下：<br>123<br>is not</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现:"></a>代码实现:</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> content[<span class="hljs-number">31</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>content[<span class="hljs-number">0</span>] = getchar();<br><span class="hljs-keyword">do</span> &#123;<br><span class="hljs-keyword">if</span> (judge(content[i], i)) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;is not&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>i++;<br>content[i] = getchar();<br>&#125; <span class="hljs-keyword">while</span> (judge(content[i], i) == <span class="hljs-number">0</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;is\n&quot;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">int</span> temp, <span class="hljs-type">int</span> i)</span> &#123;<br><span class="hljs-type">char</span> content[<span class="hljs-number">32</span>];<br>content[i] = temp;<br><span class="hljs-keyword">if</span> (content[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;_&#x27;</span> || (content[<span class="hljs-number">0</span>] &gt; <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; content[<span class="hljs-number">0</span>] &lt; <span class="hljs-string">&#x27;z&#x27;</span>) || (content[<span class="hljs-number">0</span>] &gt; <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; content[<span class="hljs-number">0</span>] &lt; <span class="hljs-string">&#x27;Z&#x27;</span>)) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (content[i] == <span class="hljs-string">&#x27;_&#x27;</span> || (content[i] &gt; <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; content[i] &lt; <span class="hljs-string">&#x27;z&#x27;</span>) || (content[i] &gt; <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; content[i] &lt; <span class="hljs-string">&#x27;Z&#x27;</span>) || (content[i] &gt;= <span class="hljs-number">0</span> &amp;&amp; content[i] &lt;= <span class="hljs-number">9</span>)) &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>看看AI写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">100</span>]; <span class="hljs-comment">// 定义字符数组</span><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">char</span> c;<br>    <span class="hljs-type">int</span> is_valid = <span class="hljs-number">1</span>; <span class="hljs-comment">// 1代表合法(is)，0代表不合法(is not)</span><br><br>    <span class="hljs-comment">// 1. 读取输入 (题目要求用 getchar)</span><br>    <span class="hljs-keyword">while</span> ((c = getchar()) != <span class="hljs-string">&#x27;\n&#x27;</span> &amp;&amp; c != EOF) &#123;<br>        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">32</span>) &#123; <span class="hljs-comment">// 限制长度，防止溢出</span><br>            str[i] = c;<br>            i++;<br>        &#125;<br>    &#125;<br>    str[i] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// 别忘了给字符串加结束符</span><br><br>    <span class="hljs-comment">// 2. 如果输入为空，直接算不合法</span><br>    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) &#123;<br>        is_valid = <span class="hljs-number">0</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// 3. 检查第一个字符：必须是 字母 或 下划线</span><br>        <span class="hljs-comment">// 不能是数字！</span><br>        <span class="hljs-type">char</span> first = str[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">if</span> ( !((first &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; first &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) || <br>               (first &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; first &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) || <br>               first == <span class="hljs-string">&#x27;_&#x27;</span>) ) &#123;<br>            is_valid = <span class="hljs-number">0</span>;<br>        &#125; <br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// 4. 检查剩下的字符：必须是 字母、数字 或 下划线</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j++) &#123;<br>                <span class="hljs-type">char</span> current = str[j];<br>                <span class="hljs-comment">// 如果 它不是小写字母 且 不是大写字母 且 不是数字 且 不是下划线</span><br>                <span class="hljs-comment">// 那么它就是非法字符</span><br>                <span class="hljs-keyword">if</span> ( !((current &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; current &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) || <br>                       (current &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; current &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) || <br>                       (current &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; current &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) || <br>                       current == <span class="hljs-string">&#x27;_&#x27;</span>) ) &#123;<br>                    is_valid = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 发现一个错的就不用看后面了</span><br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 5. 输出结果</span><br>    <span class="hljs-keyword">if</span> (is_valid == <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;is\n&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;is not\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="总结：-1"><a href="#总结：-1" class="headerlink" title="总结："></a>总结：</h3><p>可以用数组储存getchar得到的东西</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>九九乘法表</title>
    <link href="/2025/11/29/%E4%B9%9D%E4%B9%9D%E4%B9%98%E6%B3%95%E8%A1%A8/"/>
    <url>/2025/11/29/%E4%B9%9D%E4%B9%9D%E4%B9%98%E6%B3%95%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="九九乘法表"><a href="#九九乘法表" class="headerlink" title="九九乘法表"></a>九九乘法表</h1><h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><p>编写程序，打印输出如下图所示的乘法九九表：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*1   2   3   4   5   6   7   8   9</span><br><span class="hljs-comment">  -   -   -   -   -   -   -   -   -</span><br><span class="hljs-comment">  1   2   3   4   5   6   7   8   9</span><br><span class="hljs-comment">  4   6   8  10  12  14  16  18</span><br><span class="hljs-comment">     9  12  15  18  21  24  27</span><br><span class="hljs-comment"> 16  20  24  28  32  36</span><br><span class="hljs-comment"> 25  30  35  40  45</span><br><span class="hljs-comment"> 36  42  48  54</span><br><span class="hljs-comment"> 49  56  63</span><br><span class="hljs-comment"> 64  72</span><br><span class="hljs-comment"> 81*/</span><br></code></pre></td></tr></table></figure><p>输入提示信息: “Input n:\n”<br>输入数据格式: “%d”<br>表头第一行输出格式”%4d” （需要循环，行尾有回车）<br> 表头第二行输出格式”   -“   （需要循环，行尾有回车）<br>乘法表正文中每一列的空格格式：”    “<br>输出数据格式: “%4d”          （需要循环，行尾有回车）</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n:\n&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   %d&quot;</span>, i);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= n;j++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   -&quot;</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= n;k++) &#123;<br><span class="hljs-type">int</span> wbs = k;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> space = <span class="hljs-number">0</span>;space + <span class="hljs-number">1</span> &lt; k;space++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> taculate = n - k + <span class="hljs-number">1</span>;taculate &gt;= <span class="hljs-number">1</span>;taculate--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4.d&quot;</span>, k * wbs);<span class="hljs-comment">//倍数*数字</span><br>wbs++;<br>&#125;<br><span class="hljs-keyword">if</span> (k != n) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>太丑了，后面自己修改了一下（其实是重新写了一遍）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br><br><span class="hljs-comment">//打印前两行</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   %d&quot;</span>, i);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= n;j++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   -&quot;</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= n;k++) &#123;<br><span class="hljs-type">int</span> num = k;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> space = k - <span class="hljs-number">1</span>;space &gt;= <span class="hljs-number">1</span>;space--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> caculate = n-k+<span class="hljs-number">1</span>;caculate &gt;= <span class="hljs-number">1</span>;caculate--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4.d&quot;</span>, k * num);<br>num++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>我再试试把前面两行整合到循环中</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= n;k++) &#123;<br><span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   %d&quot;</span>, i);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   -&quot;</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-type">int</span> num = k;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> space = k - <span class="hljs-number">1</span>;space &gt;= <span class="hljs-number">1</span>;space--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> caculate = n-k+<span class="hljs-number">1</span>;caculate &gt;= <span class="hljs-number">1</span>;caculate--) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4.d&quot;</span>, k * num);<br>num++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>搞定！</p><p>…….</p><p>怎么会这样，修改了两次，还是一坨。我为什么不能写出简单优秀好看的代码！！！</p><p>看来不改变代码逻辑，始终改变不了代码的可读性等等</p><p>看看AI写的代码（仅供参考）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);  <span class="hljs-comment">// 这里n实际上固定为9，因为是九九表</span><br>    <br>    <span class="hljs-comment">// 输出表头第一行：1 2 3 ... 9</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4d&quot;</span>, i);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);  <span class="hljs-comment">// 行尾回车</span><br>    <br>    <span class="hljs-comment">// 输出表头第二行：----...</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   -&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);  <span class="hljs-comment">// 行尾回车</span><br>    <br>    <span class="hljs-comment">// 输出乘法表正文</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;  <span class="hljs-comment">// 控制行，第i行</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; j++) &#123;  <span class="hljs-comment">// 控制列，第j列（每行列数与行号一致）</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%4d&quot;</span>, i * j);<br>        &#125;<br>        <span class="hljs-comment">// 补全每行后面的空格（因为每行列数从1到i，不足9列时用空格填充格式）</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= <span class="hljs-number">9</span>; j++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;    &quot;</span>);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);  <span class="hljs-comment">// 行尾回车</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>算了算了，这个题估计就这样了</p><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>这个代码就是这么复杂，但是是一个很好的题目，用于练习循环嵌套</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数组形参与二进制位运算</title>
    <link href="/2025/11/29/%E6%95%B0%E7%BB%84%E5%BD%A2%E5%8F%82%E4%B8%8E%E4%BA%8C%E8%BF%9B%E5%88%B6/"/>
    <url>/2025/11/29/%E6%95%B0%E7%BB%84%E5%BD%A2%E5%8F%82%E4%B8%8E%E4%BA%8C%E8%BF%9B%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="数组形参与二进制位运算"><a href="#数组形参与二进制位运算" class="headerlink" title="数组形参与二进制位运算"></a>数组形参与二进制位运算</h1><h2 id="题目背景："><a href="#题目背景：" class="headerlink" title="题目背景："></a>题目背景：</h2><p>输入一个整数，截取它对应的二进制位中从右到左的第8-11位（最右边为第0位）。<br>**输入格式要求：”%d”<br>**输出格式要求：”%d “<br>程序运行示例如下：<br>2997<br>1 0 1 1</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><h3 id="除2取余（我写的代码）"><a href="#除2取余（我写的代码）" class="headerlink" title="除2取余（我写的代码）"></a>除2取余（我写的代码）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">convert</span><span class="hljs-params">(<span class="hljs-type">int</span> num, <span class="hljs-type">int</span> digit[])</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num;<br>    <span class="hljs-type">int</span> digit[<span class="hljs-number">100</span>];<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>    convert(num, digit);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">11</span>; i &gt;= <span class="hljs-number">8</span>; i--)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, digit[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">convert</span><span class="hljs-params">(<span class="hljs-type">int</span> num, <span class="hljs-type">int</span> digit[])</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>; num != <span class="hljs-number">0</span>; n++)<br>    &#123;<br>        digit[n] = num % <span class="hljs-number">2</span>;<br>        num = num / <span class="hljs-number">2</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>我第一次将数组作为形参</p><h3 id="位运算-哈基米写的"><a href="#位运算-哈基米写的" class="headerlink" title="位运算(哈基米写的)"></a>位运算(哈基米写的)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br><br>    <span class="hljs-comment">// 直接从第11位循环到第8位</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">11</span>; i &gt;= <span class="hljs-number">8</span>; i--) <br>    &#123;<br>        <span class="hljs-comment">// 核心逻辑：</span><br>        <span class="hljs-comment">// 1. (num &gt;&gt; i): 将数字 num 向右移动 i 位，让第 i 位跑到最右边</span><br>        <span class="hljs-comment">// 2. &amp; 1       : 取出最右边这一位的值</span><br>        <span class="hljs-type">int</span> bit = (num &gt;&gt; i) &amp; <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, bit);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="1-为什么要用-num-i-1？"><a href="#1-为什么要用-num-i-1？" class="headerlink" title="1. 为什么要用 (num &gt;&gt; i) &amp; 1？"></a>1. 为什么要用 <code>(num &gt;&gt; i) &amp; 1</code>？</h4><p>这是 C 语言里提取某一位数据的<strong>黄金公式</strong>。我们来看看它是怎么配合工作的。</p><p>题目要求：<strong>“看看第 i 位是 0 还是 1？”</strong></p><p>但是电脑很笨，它通常只能直接看<strong>最右边（第 0 位）</strong>。如果我们要看中间的某一位，就得把它<strong>移到最右边去</strong>。</p><ul><li><strong>步骤解析：</strong></li></ul><p>假设我们要看 <strong>13 (<code>1101</code>)</strong> 的 <strong>第 2 位</strong> 是什么。</p><p>第一步：移位 (num &gt;&gt; 2)</p><p>把第 2 位移到最右边的“观察区”。</p><p>1 1 0 1  $\xrightarrow{&gt;&gt; 2}$  0 0 1 1</p><p>(原本在第2位的 1，现在跑到了第0位)</p><p>第二步：掩码 (&amp; 1)</p><p>虽然我们要找的数字已经在最右边了，但它左边还有其他数字（干扰项）。</p><p>我们需要用 &amp; 1 (按位与 1) 来<strong>“只保留最后一位，把前面全变 0”</strong>。</p><ul><li><code>0011</code> (移动后的数)</li><li><code>0001</code> (这是数字 1)</li><li><code>----</code> (做 &amp; 运算：两个都是1才是1)</li><li><code>0001</code> $\rightarrow$ <strong>结果是 1</strong></li></ul><hr><ul><li><strong>回到你的题目 (2997)</strong></li></ul><p>题目要求截取 2997 的第 11 位到第 8 位。</p><p>2997 的二进制是： 1011 1011 0101</p><p><strong>当 i &#x3D; 11 时：</strong></p><ol><li>**<code>2997 &gt;&gt; 11</code>**：把第 11 位移到最右边。<ul><li>移位前：<code>1</code>011 1011 0101 …</li><li>移位后：<code>... 0001</code> (变成了 1)</li></ul></li><li>**<code>&amp; 1</code>**：取出最右边的值 $\rightarrow$ <strong>得到 1</strong></li></ol><p><strong>当 i &#x3D; 10 时：</strong></p><ol><li>**<code>2997 &gt;&gt; 10</code>**：把第 10 位移到最右边。<ul><li>移位前：1<code>0</code>11 1011 0101 …</li><li>移位后：<code>... 0010</code> (变成了 2)</li></ul></li><li>**<code>&amp; 1</code>**：<code>...0010 &amp; ...0001</code> $\rightarrow$ <strong>得到 0</strong></li></ol><h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h5><ul><li><strong><code>&gt;&gt; i</code><strong>：把原本在第 <code>i</code> 位的数字，</strong>搬运</strong>到最右边（第 0 位）。</li><li><strong><code>&amp; 1</code><strong>：</strong>只看</strong>最右边那一位，无视前面所有的数字。</li></ul><p>这套组合拳 <code>(n &gt;&gt; i) &amp; 1</code> 就是<strong>“把第 i 位搬过来，并把它切下来给你看”</strong>。</p><h4 id="2-十进制2997转化为二进制"><a href="#2-十进制2997转化为二进制" class="headerlink" title="2.十进制2997转化为二进制"></a>2.十进制2997转化为二进制</h4><p>当你的代码执行 <code>int num; scanf(&quot;%d&quot;, &amp;num);</code> 时，内存里发生的事情是这样的：</p><ol><li><p><strong>输入</strong>：你在这个黑框框里打了 <code>2997</code>。</p></li><li><p>存储：scanf 读到了这几个字符，立刻把它算成数值，然后在内存里划了一块地（4个字节），填入了：</p><p>00000000 00000000 00001011 10110101</p><p>(注：前面的 0 是补齐 32 位的)</p></li></ol><p><strong>关键来了：你的代码并没有“转化”它，只是把它“拿出来看”了。</strong></p><p>题目让你取第 11 位到第 8 位。我们来看内存里的这串数：</p><table><thead><tr><th><strong>…</strong></th><th><strong>11</strong></th><th><strong>10</strong></th><th><strong>9</strong></th><th><strong>8</strong></th><th><strong>7</strong></th><th><strong>6</strong></th><th><strong>5</strong></th><th><strong>4</strong></th><th><strong>3</strong></th><th><strong>2</strong></th><th><strong>1</strong></th><th><strong>0</strong></th></tr></thead><tbody><tr><td>…</td><td><strong>1</strong></td><td><strong>0</strong></td><td><strong>1</strong></td><td><strong>1</strong></td><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>1</td></tr></tbody></table><p>你的循环做了这 4 件事：</p><ol><li>当 i &#x3D; 11 时</li></ol><ul><li><strong>操作</strong>：把那串数字向右移动 11 格 (<code>num &gt;&gt; 11</code>)。</li><li><strong>效果</strong>：原本在第 11 位的那个 <strong>1</strong>，现在跑到了最右边（第0位）。</li><li><strong>提取</strong>：用 <code>&amp; 1</code> 检查，发现是 1。</li><li><strong>打印</strong>：<code>1</code></li></ul><ol start="2"><li>当 i &#x3D; 10 时</li></ol><ul><li><strong>操作</strong>：把数字向右移动 10 格 (<code>num &gt;&gt; 10</code>)。</li><li><strong>效果</strong>：原本在第 10 位的那个 <strong>0</strong>，跑到了最右边。</li><li><strong>提取</strong>：用 <code>&amp; 1</code> 检查，发现是 0。</li><li><strong>打印</strong>：<code>0</code></li></ul><ol start="3"><li>当 i &#x3D; 9 时</li></ol><ul><li><strong>操作</strong>：右移 9 格。</li><li><strong>效果</strong>：第 9 位的 <strong>1</strong> 跑到最右边。</li><li><strong>打印</strong>：<code>1</code></li></ul><ol start="4"><li>当 i &#x3D; 8 时</li></ol><ul><li><strong>操作</strong>：右移 8 格。</li><li><strong>效果</strong>：第 8 位的 <strong>1</strong> 跑到最右边。</li><li><strong>打印</strong>：<code>1</code></li></ul><p>总结</p><ul><li><strong>输入转化</strong>：是 <code>scanf</code> 帮你做的，它把人类读得懂的“2997”变成了计算机存得下的“0101…”。</li><li><strong>位运算提取</strong>：是我们用 <code>&gt;&gt;</code> 和 <code>&amp;</code> 手动做的。我们并不是在计算 2997 怎么变二进制，而是<strong>直接去内存里，把已经在里面的那个二进制数的特定几位“抠”出来打印在屏幕上</strong>。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环输入</title>
    <link href="/2025/11/29/%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%85%A5/"/>
    <url>/2025/11/29/%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="循环输入"><a href="#循环输入" class="headerlink" title="循环输入"></a>循环输入</h1><p>我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt;= <span class="hljs-number">4</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input: \n&quot;</span>);<br>a[i] = getchar();<br>&#125;<br></code></pre></td></tr></table></figure><p>这个问题的核心原因在于<strong>输入缓冲区（Input Buffer）</strong>以及<strong>回车键（Newline Character）</strong>的处理。</p><h3 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h3><p>当你输入一个字符（例如 <code>x</code>）然后按下“回车”键时，实际上送入输入缓冲区的是两个字符：</p><ol><li>你输入的字符 <code>x</code></li><li>回车符 <code>\n</code> (换行符)</li></ol><p><code>getchar()</code> 每次只从缓冲区里拿<strong>一个</strong>字符。</p><p><strong>程序的执行流程是这样的：</strong></p><ol><li><strong>i&#x3D;0 时</strong>：<ul><li>你输入 <code>a</code> 并按回车。</li><li>缓冲区内容：<code>[&#39;a&#39;, &#39;\n&#39;]</code></li><li><code>a[0] = getchar()</code> 读取了 <code>&#39;a&#39;</code>。</li><li><strong>关键点</strong>：此时缓冲区里还剩下一个 <code>&#39;\n&#39;</code>。</li></ul></li><li><strong>i&#x3D;1 时</strong>：<ul><li>循环继续，打印 “please input”。</li><li><code>a[1] = getchar()</code> 再次执行。</li><li>因为它发现缓冲区里还有一个 <code>&#39;\n&#39;</code>，它就不会等待你输入，而是<strong>直接</strong>把 <code>&#39;\n&#39;</code> 拿走赋值给 <code>a[1]</code>。</li><li><strong>现象</strong>：你感觉程序“跳过”了一次输入。</li></ul></li></ol><hr><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>有几种常见的解决方式，取决于你具体想要的效果：</p><h4 id="方法一：在读取后“吃掉”回车符（最常用）"><a href="#方法一：在读取后“吃掉”回车符（最常用）" class="headerlink" title="方法一：在读取后“吃掉”回车符（最常用）"></a>方法一：在读取后“吃掉”回车符（最常用）</h4><p>在每次 <code>getchar()</code> 读完有效字符后，再调用一次 <code>getchar()</code> 把缓冲区里留下的那个回车符读走扔掉。</p><p>C</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs abnf">for (int i <span class="hljs-operator">=</span> <span class="hljs-number">0</span><span class="hljs-comment">; i &lt;= 4; i++) &#123;</span><br>    printf(<span class="hljs-string">&quot;please input: \n&quot;</span>)<span class="hljs-comment">;</span><br>    a[i] <span class="hljs-operator">=</span> getchar()<span class="hljs-comment">;</span><br>    getchar()<span class="hljs-comment">; // 多加这一行，专门用来“吃掉”那个回车键</span><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="方法二：使用-scanf-并在格式控制符前加空格"><a href="#方法二：使用-scanf-并在格式控制符前加空格" class="headerlink" title="方法二：使用 scanf 并在格式控制符前加空格"></a>方法二：使用 <code>scanf</code> 并在格式控制符前加空格</h4><p><code>scanf</code> 的 <code>%c</code> 也会读取回车符，但在 <code>%c</code> 前面加一个<strong>空格</strong>，会告诉 <code>scanf</code>：“请忽略前面所有的空白字符（包括空格、回车、Tab），直到读到一个非空白字符为止”。</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">4</span>; i++) &#123;<br>    <span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;please input: \n&quot;</span>);<br>    <span class="hljs-regexp">//</span> 注意 <span class="hljs-variable">%c</span> 前面的那个空格<br>    scanf(<span class="hljs-string">&quot; <span class="hljs-variable">%c</span>&quot;</span>, &amp;a[i]); <br>&#125;<br></code></pre></td></tr></table></figure><h4 id="方法三：清空缓冲区（最稳健）"><a href="#方法三：清空缓冲区（最稳健）" class="headerlink" title="方法三：清空缓冲区（最稳健）"></a>方法三：清空缓冲区（最稳健）</h4><p>如果你担心用户可能会不小心输入多个字符（比如输入了 <code>ab</code> 然后按回车），上面的方法一可能失效。最稳妥的方法是循环读取直到读完这一行的所有内容。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">4</span>; i++) &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input: \n&quot;</span>);<br>    a[i] = <span class="hljs-built_in">getchar</span>();<br>    <br>    <span class="hljs-comment">// 循环读取直到遇到换行符，相当于清空这一行的输入缓冲区</span><br>    <span class="hljs-keyword">while</span> ((<span class="hljs-built_in">getchar</span>()) != <span class="hljs-string">&#x27;\n&#x27;</span>); <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>建议：</strong> 对于初学者，<strong>方法一</strong>最简单好记；对于工程代码，<strong>方法二</strong>或<strong>方法三</strong>更严谨。</p><h1 id="实现循环输入数字："><a href="#实现循环输入数字：" class="headerlink" title="实现循环输入数字："></a>实现循环输入数字：</h1><p>如果您是想输入<strong>5个数字</strong>（例如 1, 23, 456… 而不是单个字符），最好的改进方法是放弃 <code>getchar()</code>，改用标准输入函数 <code>scanf</code>。</p><p><code>scanf</code> 处理数字时有一个巨大的优势：它会<strong>自动跳过空白字符</strong>（包括空格、Tab 和回车换行符），完全避开了您遇到的“回车键被误读取”的问题。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input number %d: &quot;</span>, i + <span class="hljs-number">1</span>);<br>        <br>        <span class="hljs-comment">// %d 会自动忽略你上次按下的回车键，直接等待下一个数字</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]); <br>    &#125;<br><br>    <span class="hljs-comment">// 打印验证一下</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;You input: &quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, a[i]);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>打印图案</title>
    <link href="/2025/11/29/%E6%89%93%E5%8D%B0%E5%9B%BE%E6%A1%88/"/>
    <url>/2025/11/29/%E6%89%93%E5%8D%B0%E5%9B%BE%E6%A1%88/</url>
    
    <content type="html"><![CDATA[<h1 id="打印图案"><a href="#打印图案" class="headerlink" title="打印图案"></a>打印图案</h1><h3 id="题目1："><a href="#题目1：" class="headerlink" title="题目1："></a>题目1：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c">         * <br>      *  *  * <br>   *  *  *  *  * <br>*  *  *  *  *  *  * <br>   *  *  *  *  * <br>      *  *  * <br>         *<br><br></code></pre></td></tr></table></figure><p>我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> space = <span class="hljs-number">39</span>, star = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= <span class="hljs-number">7</span>;i++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= space;j++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= star;k++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; * &quot;</span>);<br>&#125;<br><span class="hljs-keyword">if</span> (i &lt;= <span class="hljs-number">3</span>) &#123;<br>space -= <span class="hljs-number">3</span>;<br>star += <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>space += <span class="hljs-number">3</span>;<br>star -= <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>AI的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span> <span class="hljs-comment">// 需要用到 abs() 函数</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 标准库包含 abs</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> total_rows = <span class="hljs-number">7</span>;           <span class="hljs-comment">// 总行数</span><br>    <span class="hljs-type">int</span> mid = total_rows / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>; <span class="hljs-comment">// 中心行号 (这里是 4)</span><br>    <span class="hljs-type">int</span> initial_indent = <span class="hljs-number">40</span>;      <span class="hljs-comment">// 起始缩进</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= total_rows; i++) &#123;<br>        <br>        <span class="hljs-comment">// 【核心算法】</span><br>        <span class="hljs-comment">// 计算当前行 i 距离中心行 mid 有多远</span><br>        <span class="hljs-comment">// abs(4 - 1) = 3 (第一行距离中心3个单位)</span><br>        <span class="hljs-comment">// abs(4 - 4) = 0 (第四行距离中心0个单位)</span><br>        <span class="hljs-type">int</span> distance = <span class="hljs-built_in">abs</span>(mid - i);<br>        <br>        <span class="hljs-comment">// 距离中心越远，星星越少，星星数 = (总半高 - 距离) * 2 - 1 ? </span><br>        <span class="hljs-comment">// 也可以反过来想：最大星星数是7，每远离中心1步，星星少2个</span><br>        <span class="hljs-type">int</span> current_star_count = <span class="hljs-number">7</span> - (distance * <span class="hljs-number">2</span>);<br>        <br>        <span class="hljs-comment">// 距离中心越远，前面空格越多</span><br>        <span class="hljs-comment">// 每一级距离增加3个空格</span><br>        <span class="hljs-type">int</span> current_space_count = initial_indent + (distance * <span class="hljs-number">3</span>);<br><br>        <span class="hljs-comment">// --- 开始打印 ---</span><br>        <br>        <span class="hljs-comment">// 1. 打印空格</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; current_space_count; j++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// 2. 打印星星</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; current_star_count; k++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;* &quot;</span>);<br>        &#125;<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>我为啥写这篇md？</p><p>因为我得到了目前最牛逼的AI：哈基米（Gemini）</p><p>想测试一下，于是顺便写了这篇md</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>物联网工程听课笔记</title>
    <link href="/2025/11/22/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B%E5%90%AC%E8%AF%BE%E7%AC%94%E8%AE%B0/"/>
    <url>/2025/11/22/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B%E5%90%AC%E8%AF%BE%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p><strong>论文题目：</strong> 万物互联背景下的工业变革：工业物联网（IIoT）的深度应用与未来发展路径研究</p><p><strong>摘要：</strong><br>随着第四次工业革命（Industry 4.0）的深入推进，物联网（IoT）技术已从概念验证走向了大规模落地阶段。作为物联网工程专业的核心应用领域，工业物联网（IIoT）通过将传感器、软件和网络技术与工业资产深度融合，正在重塑传统制造业的生产逻辑。本文首先阐述了物联网工程的技术架构基础，随后重点剖析了IIoT在智能制造、预测性维护、供应链优化及能源管理中的关键应用。文章进一步探讨了支撑IIoT发展的5G、边缘计算、数字孪生等关键技术，分析了当前面临的安全与标准挑战，并对未来“AIoT（人工智能物联网）”和“绿色物联网”的发展趋势进行了展望。本文旨在为物联网工程专业的学生及从业者提供一个关于行业现状与未来的系统性认知。</p><p><strong>关键词：</strong> 物联网工程；工业物联网（IIoT）；智能制造；预测性维护；数字孪生；边缘计算</p><hr><h3 id="第一章-引言"><a href="#第一章-引言" class="headerlink" title="第一章 引言"></a>第一章 引言</h3><h4 id="1-1-研究背景"><a href="#1-1-研究背景" class="headerlink" title="1.1 研究背景"></a>1.1 研究背景</h4><p>人类社会正在经历从“信息互联网”向“价值互联网”和“万物互联”的跨越。物联网（Internet of Things, IoT）作为新一代信息技术的重要组成部分，通过智能感知、识别技术与普适计算等通信感知技术，广泛应用于网络的融合中，也因此被称为继计算机、互联网之后世界信息产业发展的第三次浪潮。</p><p>对于物联网工程专业的学生而言，理解物联网不仅仅是理解传感器或单片机，更重要的是理解其在垂直行业的赋能作用。在众多应用场景中，工业物联网（Industrial Internet of Things, IIoT）被认为是经济价值最高、技术难度最大、对国家实体经济影响最深远的领域。它不仅是“中国制造2025”和德国“工业4.0”的核心引擎，也是实现制造业数字化转型的关键。</p><h4 id="1-2-研究意义"><a href="#1-2-研究意义" class="headerlink" title="1.2 研究意义"></a>1.2 研究意义</h4><p>工业物联网通过连接机器、数据和人，实现了生产过程的透明化、智能化和高效化。研究IIoT的应用现状与未来，有助于我们把握技术演进的脉搏，理解如何利用数据驱动工业效能提升。本文将立足于物联网工程专业视角，深入探讨IIoT如何解决传统工业痛点，并分析未来技术融合的趋势。</p><h3 id="第二章-物联网工程的技术架构与工业适配"><a href="#第二章-物联网工程的技术架构与工业适配" class="headerlink" title="第二章 物联网工程的技术架构与工业适配"></a>第二章 物联网工程的技术架构与工业适配</h3><h4 id="2-1-物联网的三层通用架构"><a href="#2-1-物联网的三层通用架构" class="headerlink" title="2.1 物联网的三层通用架构"></a>2.1 物联网的三层通用架构</h4><p>物联网工程的理论基础通常分为三层架构，这在工业场景中得到了严格的体现：</p><p>1.<br>2. <strong>感知层（Perception Layer）：</strong> 相当于物联网的“五官”和“皮肤”。在工业现场，这包括了温度、压力、振动传感器，以及RFID标签、工业摄像头、PLC（可编程逻辑控制器）等。其核心任务是采集物理世界的原始数据。<br>3. <strong>网络层（Network Layer）：</strong> 相当于“神经系统”。负责将感知层采集的数据无障碍、高可靠地传输。在IIoT中，除了传统的WiFi和以太网，更强调NB-IoT（窄带物联网）、LoRa、以及具有低时延高可靠特性的5G工业专网。<br>4. <strong>应用层（Application Layer）：</strong> 相当于“大脑”。利用云计算、大数据分析和人工智能技术，对数据进行处理，形成智能决策，并应用到具体的工业场景中，如MES（制造执行系统）、ERP（企业资源计划）的联动。</p><h4 id="2-2-工业物联网的特殊性"><a href="#2-2-工业物联网的特殊性" class="headerlink" title="2.2 工业物联网的特殊性"></a>2.2 工业物联网的特殊性</h4><p>与消费级物联网（如智能家居）不同，工业物联网对系统的稳定性、实时性和安全性要求极高。工业现场环境复杂（电磁干扰、高温、粉尘），要求感知设备具有极高的鲁棒性；生产控制要求毫秒级的低时延，这对网络层提出了严苛挑战。因此，工业物联网是物联网工程中技术门槛最高的“皇冠上的明珠”。</p><h3 id="第三章-工业物联网（IIoT）的核心应用场景"><a href="#第三章-工业物联网（IIoT）的核心应用场景" class="headerlink" title="第三章 工业物联网（IIoT）的核心应用场景"></a>第三章 工业物联网（IIoT）的核心应用场景</h3><p>本章是论文的重点，深入讨论IIoT技术在实际工业生产中的四大核心应用。</p><h4 id="3-1-智能制造与柔性生产线"><a href="#3-1-智能制造与柔性生产线" class="headerlink" title="3.1 智能制造与柔性生产线"></a>3.1 智能制造与柔性生产线</h4><p>传统制造业面临的最大痛点是“刚性生产”，即一条产线只能生产一种规格的产品，换线成本极高。IIoT技术使得“大规模定制化”成为可能。<br>通过在生产设备上部署RFID读写器和智能传感器，每一个待加工的工件都携带了包含自身加工参数的数字标签。当工件移动到工位时，机器通过读取标签自动调整参数（如钻孔深度、喷漆颜色）。这种基于IIoT的柔性生产线，使得工厂能够在同一条流水线上混线生产不同型号的产品，极大地提高了生产灵活性，满足了市场个性化需求。</p><h4 id="3-2-设备的预测性维护（Predictive-Maintenance）"><a href="#3-2-设备的预测性维护（Predictive-Maintenance）" class="headerlink" title="3.2 设备的预测性维护（Predictive Maintenance）"></a>3.2 设备的预测性维护（Predictive Maintenance）</h4><p>这是目前IIoT产生经济效益最直接的领域。传统的设备维护分为“故障后维修”（被动）和“定期保养”（可能存在过度保养）。<br>IIoT引入了基于状态的预测性维护。</p><p>- </p><ul><li><strong>技术实现：</strong> 在电机、泵、压缩机等关键设备上安装振动传感器、声学传感器和温度传感器。</li><li><strong>数据分析：</strong> 边缘网关实时采集设备运行数据，结合机器学习算法，建立设备健康模型。</li><li><strong>价值体现：</strong> 在设备发生故障前（例如轴承磨损导致的微小振动频率变化），系统就能发出预警。这不仅避免了非计划停机造成的巨额损失，还延长了设备使用寿命，优化了备件库存管理。</li></ul><h4 id="3-3-智慧供应链与物流管理"><a href="#3-3-智慧供应链与物流管理" class="headerlink" title="3.3 智慧供应链与物流管理"></a>3.3 智慧供应链与物流管理</h4><p>工业生产不仅仅在工厂围墙之内，更延伸至整个供应链。IIoT技术让供应链从“黑盒”变成了“透明玻璃盒”。</p><p>- </p><ul><li><strong>仓储管理：</strong> 利用AGV（自动导引车）和智能立体仓库，结合视觉识别技术，实现货物的自动出入库和盘点，准确率接近100%。</li><li><strong>在途监控：</strong> 针对高价值或敏感工业原料（如化学品、精密仪器），利用NB-IoT定位追踪器，不仅能实时监控位置，还能监控运输过程中的温度、湿度、冲击力。一旦出现异常，系统立即报警，确保了原材料和成品的质量追溯。</li></ul><h4 id="3-4-工业能源管理与绿色制造"><a href="#3-4-工业能源管理与绿色制造" class="headerlink" title="3.4 工业能源管理与绿色制造"></a>3.4 工业能源管理与绿色制造</h4><p>在“碳达峰、碳中和”背景下，IIoT是实现绿色制造的重要工具。通过在工厂部署智能电表、水表和气表，建立工厂级能源管理系统（EMS）。系统可以实时分析各产线、各设备的能耗数据，识别高能耗环节。例如，系统可以发现某台空压机在非工作时间存在不合理的怠速运行，或者通过分析峰谷电价，自动调整高耗能设备的运行时间，从而大幅降低能源成本和碳排放。</p><h3 id="第四章-驱动IIoT发展的关键技术"><a href="#第四章-驱动IIoT发展的关键技术" class="headerlink" title="第四章 驱动IIoT发展的关键技术"></a>第四章 驱动IIoT发展的关键技术</h3><p>作为物联网工程专业的学生，必须关注支撑上述应用背后的“硬核”技术。</p><h4 id="4-1-5G与TSN（时间敏感网络）"><a href="#4-1-5G与TSN（时间敏感网络）" class="headerlink" title="4.1 5G与TSN（时间敏感网络）"></a>4.1 5G与TSN（时间敏感网络）</h4><p>5G技术的eMBB（增强移动宽带）、mMTC（海量机器类通信）和URLLC（超高可靠低时延通信）三大特性，完美契合了工业需求。特别是URLLC，使得无线网络替代有线线缆成为可能，极大地提升了工厂布局的灵活性。同时，TSN技术的引入，解决了以太网传输数据包时延不确定的问题，确保了控制指令的绝对实时同步。</p><h4 id="4-2-边缘计算（Edge-Computing）"><a href="#4-2-边缘计算（Edge-Computing）" class="headerlink" title="4.2 边缘计算（Edge Computing）"></a>4.2 边缘计算（Edge Computing）</h4><p>在工业场景中，将所有数据上传到云端处理不仅带宽成本高，而且存在时延。边缘计算主张“数据在源头处理”。例如，一个每秒采样2万次的振动传感器，其海量原始数据可以在本地网关进行特征提取，仅将异常报警和统计数据上传云端。这种“云-边-端”协同架构，极大提升了系统的响应速度。</p><h4 id="4-3-数字孪生（Digital-Twin）"><a href="#4-3-数字孪生（Digital-Twin）" class="headerlink" title="4.3 数字孪生（Digital Twin）"></a>4.3 数字孪生（Digital Twin）</h4><p>数字孪生是物理实体在虚拟空间的全生命周期映射。通过IIoT采集的实时数据，驱动虚拟模型同步运动。工程师可以在虚拟世界中调试产线、验证工艺、排查故障，然后再应用到物理世界。这种技术极大地降低了试错成本，缩短了研发周期。</p><h3 id="第五章-当前面临的挑战与瓶颈"><a href="#第五章-当前面临的挑战与瓶颈" class="headerlink" title="第五章 当前面临的挑战与瓶颈"></a>第五章 当前面临的挑战与瓶颈</h3><p>尽管前景广阔，但IIoT的发展并非一帆风顺，当前仍面临诸多挑战。</p><h4 id="5-1-安全性挑战"><a href="#5-1-安全性挑战" class="headerlink" title="5.1 安全性挑战"></a>5.1 安全性挑战</h4><p>工业系统一旦联网，就暴露在网络攻击的威胁之下。不同于互联网导致的隐私泄露，工业物联网被攻击可能导致物理世界的灾难（如离心机失控、电网瘫痪）。目前，工业控制协议（如Modbus, Profibus）在设计之初往往缺乏加密认证机制，如何给老旧设备加装“安全锁”是巨大的挑战。</p><h4 id="5-2-标准碎片化与互操作性"><a href="#5-2-标准碎片化与互操作性" class="headerlink" title="5.2 标准碎片化与互操作性"></a>5.2 标准碎片化与互操作性</h4><p>工业领域存在大量的异构设备和私有协议（西门子、三菱、欧姆龙等各有一套标准）。设备之间“语言不通”形成了数据孤岛。如何通过OPC UA等统一架构标准实现跨品牌、跨平台的设备互联，是物联网工程师需要攻克的技术难点。</p><h4 id="5-3-复合型人才短缺"><a href="#5-3-复合型人才短缺" class="headerlink" title="5.3 复合型人才短缺"></a>5.3 复合型人才短缺</h4><p>IIoT是OT（运营技术）与IT（信息技术）的融合。懂IT的人不懂工业现场工艺，懂工业的人不懂网络编程。作为物联网工程专业的学生，我们正致力于成为这种既懂软硬件开发，又理解工业逻辑的复合型人才。</p><h3 id="第六章-未来发展趋势展望"><a href="#第六章-未来发展趋势展望" class="headerlink" title="第六章 未来发展趋势展望"></a>第六章 未来发展趋势展望</h3><h4 id="6-1-从IoT到AIoT的跨越"><a href="#6-1-从IoT到AIoT的跨越" class="headerlink" title="6.1 从IoT到AIoT的跨越"></a>6.1 从IoT到AIoT的跨越</h4><p>未来，物联网将不再仅仅是数据的采集和传输（Connecting），更是智能的分析和决策（Thinking）。AIoT（人工智能+物联网）将成为主流。工业设备将具备“自愈”能力，即系统不仅能发现故障，还能通过AI算法自动调整参数进行补偿或修复。</p><h4 id="6-2-工业元宇宙的雏形"><a href="#6-2-工业元宇宙的雏形" class="headerlink" title="6.2 工业元宇宙的雏形"></a>6.2 工业元宇宙的雏形</h4><p>随着VR&#x2F;AR技术与数字孪生的结合，未来的工业现场将出现“工业元宇宙”。工人佩戴AR眼镜，即可看到设备内部的实时数据叠加在物理设备上，远程专家可以通过虚拟空间身临其境地指导现场维修。</p><h4 id="6-3-服务化转型（Servitization）"><a href="#6-3-服务化转型（Servitization）" class="headerlink" title="6.3 服务化转型（Servitization）"></a>6.3 服务化转型（Servitization）</h4><p>商业模式将发生改变。企业不再卖“空压机”，而是卖“压缩空气”；不再卖“航空发动机”，而是卖“飞行小时”。IIoT技术让制造商能够实时监控产品运行状态，从而从“卖产品”转向“卖服务”，实现价值链的延伸。</p><h3 id="第七章-结论"><a href="#第七章-结论" class="headerlink" title="第七章 结论"></a>第七章 结论</h3><p>物联网工程作为一门交叉学科，正处于技术爆发的前夜。工业物联网（IIoT）作为该专业最厚重、最核心的应用领域，正在深刻地改变着全球制造业的格局。</p><p>通过本文的研讨，我们可以清晰地看到，IIoT已经超越了简单的设备联网，深入到了生产工艺、供应链管理和商业模式创新的骨髓之中。虽然目前面临着安全、标准和人才等方面的挑战，但随着5G、边缘计算、AI等技术的成熟，这些瓶颈终将被突破。</p><p>作为新时代的物联网工程专业学生，我们既要扎实掌握传感器、嵌入式系统、网络通信等底层技术，又要保持对工业应用场景的敏锐洞察。未来，我们不仅仅是代码的编写者或电路的设计者，更是智能工业生态的构建者。我们有责任也有能力，利用所学知识，推动传统工业向数字化、网络化、智能化转型，为建设制造强国贡献力量。</p><hr><h3 id="参考文献（示例）"><a href="#参考文献（示例）" class="headerlink" title="参考文献（示例）"></a>参考文献（示例）</h3><p>[1] 何积丰. 工业互联网安全:问题与挑战[J]. 中国工程科学, 2021.<br>[2] 孙其博, 刘杰, 黎羴, 等. 物联网:概念、架构与关键技术研究综述[J]. 北京邮电大学学报, 2010.<br>[3] 谭建荣. 工业互联与数字孪生:关键技术与发展趋势[J]. 机械工程学报, 2020.<br>[4] McKinsey Global Institute. The Internet of Things: Mapping the Value Beyond the Hype. 2015.<br>[5] 李伯虎, 柴旭东. “互联网+”行动计划与智能制造[J]. 科技导报, 2019.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>物联网工程考核报告</title>
    <link href="/2025/11/22/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B%E8%AE%BA%E6%96%87/"/>
    <url>/2025/11/22/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B%E8%AE%BA%E6%96%87/</url>
    
    <content type="html"><![CDATA[<h1 id="论文题目：万物互联视域下物联网工程的未来应用与发展趋势研究"><a href="#论文题目：万物互联视域下物联网工程的未来应用与发展趋势研究" class="headerlink" title="论文题目：万物互联视域下物联网工程的未来应用与发展趋势研究"></a>论文题目：万物互联视域下物联网工程的未来应用与发展趋势研究</h1><p><strong>摘要：</strong><br>随着第五代移动通信技术（5G）、人工智能（AI）与边缘计算的深度融合，物联网（IoT）工程正从单纯的“万物互联”向“万物智联”跨越。本文旨在探讨物联网工程在未来社会中的核心应用场景与演进路径。首先，文章分析了驱动物联网发展的关键技术集群；其次，深入剖析了工业互联网、智慧城市、智慧医疗及车联网等重点领域的未来应用形态；再次，探讨了物联网在安全性、标准化及能耗方面面临的挑战；最后，展望了物联网工程作为数字经济基础设施的战略意义。研究认为，未来的物联网将呈现出泛在化、智能化、融合化的特征，重塑人类生产与生活方式。</p><p><strong>关键词：</strong> 物</p><hr><h2 id="第一章-绪论"><a href="#第一章-绪论" class="headerlink" title="第一章 绪论"></a>第一章 绪论</h2><h3 id="1-1"><a href="#1-1" class="headerlink" title="1.1"></a>1.1</h3><p>自1999年Kevin Ashton首次提出“物联网”概念以来，这一技术经历了概念萌芽、技术验证到规模化应用的漫长演变。作为继计算机、互联网之后的第三次信息产业浪潮，物联网旨在通过射频识别（RFID）、红外感应器、全球定位系统等信息传感设备，按约定的协议，把任何物品与互联网相连接，进行信息交换和通信。</p><p>当前，随着半导体技术的摩尔定律红利延续以及通信技术的代际更迭，物联网工程已不再局限于简单的传感器网络构建，而是成为了连接物理世界与数字世界的纽带。对于物联网工程专业的学生而言，理解这一领域的未来图景，不仅是学术研究的需要，更是职业规划的基石。</p><h3 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h3><p>在“新基建”和数字化转型的全球大背景下，物联网已成为各国争夺科技制高点的关键。研究物联网的未来应用与发展，有助于理清技术演进的逻辑，预判产业落地的痛点，为构建高效、安全、绿色的智能社会提供理论支撑与实践指导。</p><hr><h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><p>未来的物联网不再是单一技术的单打独斗，而是多技术融合的生态系统。</p><h3 id="2-1"><a href="#2-1" class="headerlink" title="2.1"></a>2.1</h3><p>如果说4G催生了移动互联网的繁荣，那么5G就是为物联网而生的。5G技术的三大特性——增强型移动宽带（eMBB）、超高可靠低时延通信（uRLLC）和海量机器类通信（mMTC），解决了传统物联网连接密度低、延迟高的问题。<br>展望未来，6G将进一步拓展物联网的边界，实现“空天地海”一体化通信。太赫兹通信和可见光通信技术的引入，将使得水下物联网、卫星物联网成为可能，真正实现无死角的泛在连接。</p><h3 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h3><p>传统的物联网主要解决数据采集与传输问题，而未来的核心在于数据处理。人工智能与物联网的结合（AIoT）将通过深度学习算法，赋予终端设备“思考”的能力。<br>未来</p><h3 id="2-1"><a href="#2-1" class="headerlink" title="2."></a>2.</h3><p>随着物联网设备数量呈指数级增长（预计2025年将超过750亿台），集中式的云计算中心将难以负荷海量数据的吞吐。边缘计算（Edge Computing）将计算能力下沉至网络边缘（如基站、路由器、网关）。在未来，物联网工程的架构将呈现“云-边-端”协同的形态，实现低时延的实时控制，这对于自动驾驶和工业控制至关重要。</p><hr><h2 id="第三章-物联网工程的未来核心应用场景"><a href="#第三章-物联网工程的未来核心应用场景" class="headerlink" title="第三章 物联网工程的未来核心应用场景"></a>第三章 物联网工程的未来核心应用场景</h2><h3 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h3><p>工业是物联网应用最深厚、产值最高的领域，即“工业4.0”。</p><p>- </p><ul><li><strong>数字孪生（Digital Twin）：</strong> 未来的工厂将构建物理设备的虚拟镜像。通过传感器实时映射，工程师可以在虚拟空间中对设备进行调试、压力测试，而不影响实体生产。这不仅降低了试错成本，还极大地加速了产品研发周期。</li><li><strong>预测性维护：</strong> 依靠振动、温度、声学传感器，结合机器学习模型，系统能在机器发生故障前数周发出预警，将“事后维修”转变为“事前预防”，从而消除非计划停机时间。</li></ul><h3 id="3-1"><a href="#3-1" class="headerlink" title="3."></a>3.</h3><p>未来</p><p>- </p><ul><li><strong>车路协同（V2X）：</strong> 单车的自动驾驶存在感知盲区，而物联网赋能的V2X技术让车辆与红绿灯、路侧单元、行人手机进行实时通信。例如，救护车在出发时，沿途的红绿灯会自动调整为绿波带；车辆在超视距范围内感知到前方事故，自动减速。</li><li><strong>智慧能源网：</strong> 随着分布式能源（如家庭光伏）的普及，电网将变得极其复杂。物联网智能电表和调度系统将实现电力的双向流动与动态平衡，每一栋建筑都既是能源消费者也是生产者。</li></ul><h3 id="3-3-智慧医疗（IoMT）：从治疗到管理"><a href="#3-3-智慧医疗（IoMT）：从治疗到管理" class="headerlink" title="3.3 智慧医疗（IoMT）：从治疗到管理"></a>3.3 智慧医疗（IoMT）：从治疗到管理</h3><p>新冠疫情加速了医疗物联网（IoMT）的发展。</p><p>- </p><ul><li><strong>无感监测：</strong> 未来的可穿戴设备将从手环进化为电子皮肤、智能衣物。它们能连续监测血糖、心电图、血氧，并在异常时自动联络医疗机构。</li><li><strong>远程手术：</strong> 基于5G&#x2F;6G的触觉互联网（Tactile Internet）将使远程手术常态化。医生在纽约操作机械臂，通过低时延网络，为在偏远地区的患者进行高精度手术，每一次触感都能实时反馈给医生。</li></ul><h3 id="3-4-智慧农业：精准农业与无人化"><a href="#3-4-智慧农业：精准农业与无人化" class="headerlink" title="3.4 智慧农业：精准农业与无人化"></a>3.4 智慧农业：精准农业与无人化</h3><p>面对人口增长与耕地减少的矛盾，物联网将重塑农业生产函数。</p><p>- </p><ul><li><strong>环境感知：</strong> 土壤湿度、光照、氮磷钾含量由传感器实时监控，灌溉和施肥系统自动精准执行，误差控制在毫升级别。</li><li><strong>无人农场：</strong> 无人机巡检病虫害、无人收割机自动作业将成为常态。通过区块链技术，农产品从田间到餐桌的全生命周期数据可溯源，保障食品安全。</li></ul><hr><h2 id="第四章-物联网发展面临的挑战与对策"><a href="#第四章-物联网发展面临的挑战与对策" class="headerlink" title="第四章 物联网发展面临的挑战与对策"></a>第四章 物联网发展面临的挑战与对策</h2><p>尽管前景广阔，但物联网工程的未来发展仍面临严峻挑战，这也是我们作为工程人员必须攻克的课题。</p><h3 id="4-1-安全与隐私保护"><a href="#4-1-安全与隐私保护" class="headerlink" title="4.1 安全与隐私保护"></a>4.1 安全与隐私保护</h3><p>“万物互联”意味着“万物皆可被攻击”。物联网设备通常计算能力弱，难以运行复杂的加密算法，极易成为DDoS攻击的“肉鸡”。</p><p>- </p><ul><li><strong>对策：</strong> 发展轻量级加密算法；引入区块链技术，利用其去中心化和不可篡改特性，保障设备身份认证和数据传输的安全；实施“零信任”网络架构。</li></ul><h3 id="4-2-标准化与互操作性"><a href="#4-2-标准化与互操作性" class="headerlink" title="4.2 标准化与互操作性"></a>4.2 标准化与互操作性</h3><p>当前物联网市场存在严重的碎片化问题，Zigbee、Bluetooth、LoRa、NB-IoT、Wi-Fi等协议并存，不同厂家的设备难以互联互通，形成了“数据孤岛”。</p><p>- </p><ul><li><strong>对策：</strong> 推动Matter等统一应用层协议的普及；建立跨平台的中间件技术；在工程教育中强调异构网络融合技术的学习。</li></ul><h3 id="4-3-能耗与绿色物联网"><a href="#4-3-能耗与绿色物联网" class="headerlink" title="4.3 能耗与绿色物联网"></a>4.3 能耗与绿色物联网</h3><p>海量传感器意味着巨大的能源消耗。频繁更换电池在实际工程中（如深海、森林、体内）是不现实的。</p><p>- </p><ul><li><strong>对策：</strong> 研发超低功耗芯片；大力发展能量收集技术（Energy Harvesting），如利用温差、振动、射频信号为微型传感器供电，实现“无源物联网”。</li></ul><hr><h2 id="第五章-结论与展望"><a href="#第五章-结论与展望" class="headerlink" title="第五章 结论与展望"></a>第五章 结论与展望</h2><p>物联网工程并非单一技术的叠加，而是通信、计算、控制技术的集大成者。从未来的发展趋势看，物联网将呈现以下特征：</p><p>1.<br>2. <strong>感知泛在化</strong>：传感器将微型化、柔性化，融入建筑材料、衣物甚至生物体中。<br>3. <strong>系统智能化</strong>：AIoT将彻底改变人机交互方式，从“人控制机器”转向“机器主动服务人”。<br>4. <strong>生态开放化</strong>：封闭的私有协议将被开源、统一的标准取代。</p><p>对于物联网工程专业的学生而言，未来的机遇在于不仅要掌握嵌入式开发、网络通信等底层技术，更要具备大数据分析、人工智能算法以及行业应用的跨界整合能力。物联网不仅是连接物理世界的网络，更是构建数字孪生世界、推动人类社会向智慧化转型的核心引擎。我们有理由相信，随着技术的成熟与伦理法律的完善，物联网将在未来的十年内释放出不可估量的社会价值与经济价值。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>求素数(质素)循环嵌套</title>
    <link href="/2025/11/22/%E6%B1%82%E7%B4%A0%E6%95%B0(%E8%B4%A8%E7%B4%A0)%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/"/>
    <url>/2025/11/22/%E6%B1%82%E7%B4%A0%E6%95%B0(%E8%B4%A8%E7%B4%A0)%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/</url>
    
    <content type="html"><![CDATA[<h1 id="求素数-质素-循环嵌套"><a href="#求素数-质素-循环嵌套" class="headerlink" title="求素数(质素)循环嵌套"></a>求素数(质素)循环嵌套</h1><h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><p>求100～200间的全部素数（即质数），要求每行输出10个素数。下面程序中存在比较隐蔽的错误，请通过分析和调试程序，发现并改正程序中的错误。注意：请将修改正确后的完整源程序拷贝粘贴到答题区内。对于没有错误的语句，请不要修改，修改原本正确的语句也要扣分。当且仅当错误全部改正，且程序运行结果调试正确，才得满分。</p><figure class="highlight plaintext"><figcaption><span><stdio.h></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c#include">main() <br>&#123; <br>  int m,k,i,n; <br>  for(m=101;m&lt;=200;m+=2) <br>  &#123; <br>      if(n%10==0) <br>          printf(&quot;\n&quot;); <br>      k=sqrt(m); <br>      for(i= 1;i&lt;=k;i++) <br>         if(m%i==0)  <br>             continue; <br>      if(i==m%10) <br>      &#123; <br>           printf(&quot;%d &quot;,m)；<br>           n++;<br>      &#125; <br>  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><p>说实话我根本看不懂，于是我重新写了一份</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> m, k, i, n = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (m = <span class="hljs-number">101</span>;m &lt;= <span class="hljs-number">200</span>;m = m + <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; n != <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        k = <span class="hljs-built_in">sqrt</span>(m);<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">3</span>;i &lt;= k;i++) &#123;<br>            <span class="hljs-keyword">if</span> (m % i == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i == k &amp;&amp; m % i != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, m);<br>                n++;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (m % i != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>写的一坨，寥寥草草地交上去了，我后面重新修改了一下，使可读性高了些：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> m, k, i, n = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (m = <span class="hljs-number">101</span>;m &lt;= <span class="hljs-number">200</span>;m = m + <span class="hljs-number">2</span>)<br>    &#123;   <br>        <span class="hljs-type">int</span> is_prime_number = <span class="hljs-number">1</span>;<span class="hljs-comment">//定义质数的判断标准</span><br>        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        k = <span class="hljs-built_in">sqrt</span>(m);<span class="hljs-comment">//k用来缩小范围</span><br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">3</span>;i &lt;= k;i++) &#123;<br>            <span class="hljs-keyword">if</span> (m % i == <span class="hljs-number">0</span>) &#123;       <span class="hljs-comment">//不是质数,打破循环</span><br>                is_prime_number = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (is_prime_number) &#123;<span class="hljs-comment">//判断是否是质数</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, m);<br>            n++;<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>找AI改了改：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> m, k, i, n = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (m = <span class="hljs-number">101</span>;m &lt;= <span class="hljs-number">200</span>;m += <span class="hljs-number">2</span>)<br>    &#123;   <br>        <span class="hljs-type">int</span> is_prime = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">10</span> == <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        k = <span class="hljs-built_in">sqrt</span>(m);<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">3</span>;i &lt;= k;i+=<span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (m % i == <span class="hljs-number">0</span>) &#123;<br>                is_prime = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (is_prime) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, m);<br>            n++;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol><li><p>i的步幅可以调整为2，与m的步伐相同</p><p>因为m为奇数，奇数 ÷ 偶数 不可能为一个整数。</p></li><li><p>is_prime_number改成is_prime</p><p>更简洁好看~</p></li></ol><p>我感觉已经很好了，但是我还是想把题目的改错案例搞清楚</p><p>于是乎我扔给了AI，结果发现题目给的案例依托答辩，根本无法修改，还是得自己写、</p><p>但因为不知道什么原因，我第一次写的速度奇慢无比，主要在纠结什么时候打破循环和什么时候打印。</p><p>因此以记之！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>递归调用与指针再探</title>
    <link href="/2025/11/20/%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%86%8D%E6%8E%A2/"/>
    <url>/2025/11/20/%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%86%8D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="递归调用与指针再探"><a href="#递归调用与指针再探" class="headerlink" title="递归调用与指针再探"></a>递归调用与指针再探</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><p>依旧是辗转相除法求最大公约数</p><p>代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">Gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (a % b == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> b;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> Gcd(b, a % b);<br>&#125;<br></code></pre></td></tr></table></figure><p>函数 Gcd 在定义中调用了自身（ return Gcd(b, a % b) ），这就是递归调用的特征——函数内部包含对自身的调用。</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>牛顿迭代法。用牛顿迭代法求，迭代公式为，x0&#x3D;a.要求迭代的精度满足。如果迭代20次之后仍未能达到精度要求，也停止计算。<br>输入格式要求：”%f” 提示信息：”Input a&#x3D;? “<br>输出格式要求：”\na&#x3D;%.6f,x&#x3D;%.6f,i&#x3D;%d”</p><p>example:<br>Input a&#x3D;?<br>9<br>a&#x3D;9.000000,x&#x3D;3.000000,i&#x3D;6</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>, <span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);<br>x = Fx(a, a, &amp;i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<br><span class="hljs-type">float</span> new_x = x;<br><span class="hljs-keyword">do</span> &#123;<br>x = new_x;<br>new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>这个代码是我自己写的，感觉就是在没逼硬装</p><p>我想用新学的递归调用来做这个题的，但是发现递归不是单纯的等于for或者while循环，编程时还遇到了若干函数调用和指针的问题，导致这个程序我大概花了一个小时。总归是写出来了，让我们把这个代码研究清楚吧</p><blockquote><p>我自己写markdown已经一个多月了，也做了很多题目。</p><p>在这个过程中，通过不断调试代码和询问AI，学到了很多关于这门语言的知识和相关注意事项。</p><p>一有所得我就写下来，并发表在github的个人blog上，我不知道这样学习代码的方法对不对，就我个人而言，我感觉我写代码没天赋，只能努力地去解决一个个问题再记下来</p></blockquote><h3 id="【1】减少冗余的参数传递"><a href="#【1】减少冗余的参数传递" class="headerlink" title="【1】减少冗余的参数传递"></a>【1】减少冗余的参数传递</h3><p>在Fx函数的定义中</p><p>起初我是这么写的:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<span class="hljs-comment">//注意这个是错误视力</span><br><span class="hljs-type">float</span> new_x = x;<br><span class="hljs-keyword">do</span> &#123;<br>x = new_x;<br>new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>提示a没有被定义，我才发现还需要把a的初始值传递到封装函数中，于是<br>修改成最终模样：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">x = Fx(a, a, &amp;i);<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span><br></code></pre></td></tr></table></figure><p>会发现在Fx函数的定义中，常量a的值是a，float a 的初始值也是a，那么可不可以简化一下，只用传递一个a，将作为x的初始值、计算式中的常量？</p><p>可以，修改一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">int</span>* i)</span> &#123;  <span class="hljs-comment">// 只接收 a（计算用）和 i（次数统计）</span><br>    <span class="hljs-type">float</span> x = a;  <span class="hljs-comment">// 初始迭代值直接在函数内设为 a，不用从外部传</span><br>    <span class="hljs-type">float</span> new_x;<br>    <span class="hljs-keyword">do</span> &#123;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);  <span class="hljs-comment">// 这里的 a 是参数传递来的（只传了一次）</span><br>        (*i)++;<br>        x = new_x;<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br>    <span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>只传递一个a值，并在Fx函数中第一时间把a赋值给x。</p><p><strong>减少冗余的参数传递</strong>，让代码更简洁。</p><h3 id="【2】在Fx函数中实现递归调用"><a href="#【2】在Fx函数中实现递归调用" class="headerlink" title="【2】在Fx函数中实现递归调用"></a>【2】在Fx函数中实现递归调用</h3><p>刚学了这个递归调用，我便想在这题中实现一下。</p><p>我最初根据题目的要求，在Fx函数中是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>    new_x=Fx(new_x);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br>    <span class="hljs-keyword">return</span> new_x;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>发现无法实现终止递归调用和i的自加，即</p><pre><code class=" mermaid">graph TD  A[x] --&gt; B[传入Fx（）]  B --&gt; C[计算得到new_x]  C --&gt; B  C --&gt; D[判断new_x-x（无法到达）]  style D fill:#fcc,stroke:#f00,stroke-width:1px  </code></pre><p>卧槽，写到这里我发现我能做到！！！我重新打开visual studio试了一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> main&#123;<br>    x = Fx(a, a);<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<span class="hljs-comment">//第一次递归将a传递给x作为初始值</span><br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br>        <span class="hljs-keyword">return</span> new_x;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>在试试如何实现i自加：</p><p>代码实现（完整版）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>, <span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);<br>x = Fx(a, a,&amp;i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x,<span class="hljs-type">int</span>* i)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x,&amp;i);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>注意Fx()调用时的&amp;符号</p><p>输入9，程序经过我调试得到：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Input a=?9<br><br>a=9.000000,x=3.000000,i=1<br></code></pre></td></tr></table></figure><p>发现i不能自加，我百思不得其解，于是问了问AI：</p><p>最核心的原因在于<strong>递归调用时传参错误</strong>。</p><h4 id="❌-错误原因分析"><a href="#❌-错误原因分析" class="headerlink" title="❌ 错误原因分析"></a>❌ 错误原因分析</h4><p>在你的 <code>Fx</code> 函数定义中，参数 <code>i</code> 本身已经是一个<strong>指针</strong> (<code>int* i</code>)，它存储的是 <code>main</code> 函数中那个整数变量的地址。</p><ol><li><strong>第一次调用 (main -&gt; Fx):</strong><ul><li><code>main</code> 传递了 <code>&amp;i</code>。</li><li><code>Fx</code> 接收到了 <code>i</code> 的地址。</li><li><code>(*i)++</code> 成功让 <code>main</code> 里的 <code>i</code> 变成了 1。</li></ul></li><li><strong>递归调用 (Fx -&gt; Fx):</strong><ul><li>你的代码写的是：<code>Fx(a, new_x, &amp;i)</code>。</li><li><strong>错在这里：</strong> <code>i</code> 已经在 <code>Fx</code> 函数里是一个指针变量了。你用了 <code>&amp;i</code>，实际上是取了<strong>“指针变量自己的地址”</strong>（变成了二级指针 <code>int\**</code>），而不是<strong>“指针指向的地址”</strong>。</li><li><strong>后果：</strong> 下一层递归修改的是“上一层函数里那个指针变量的数值”，而不是 <code>main</code> 函数里的那个计数器。所以 <code>main</code> 里的 <code>i</code> 永远停留在 1（或者第一次修改后的值）。</li></ul></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>, <span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);<br><span class="hljs-comment">// 第一次调用传 &amp;i 是对的，因为 main 里的 i 是 int 类型</span><br>x = Fx(a, a, &amp;i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><br><span class="hljs-comment">// 这里是对的，修改指针指向的值</span><br>(*i)++; <br><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &lt;= EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-comment">// 【修改点 1】 这里直接传 i (因为它已经是地址了)</span><br><span class="hljs-keyword">return</span> Fx(a, new_x, i); <br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="💡-图解指针传递的区别"><a href="#💡-图解指针传递的区别" class="headerlink" title="💡 图解指针传递的区别"></a>💡 图解指针传递的区别</h3><p>假设 <code>main</code> 里的 <code>i</code> 住在 <strong>房间 101</strong>。</p><ul><li><strong>你的写法 (<code>&amp;i</code>):</strong><ul><li>第一层 <code>Fx</code> 拿到钥匙：<strong>“101”</strong>。它去 101 把数字加了 1。</li><li>递归时，你把第一层手里拿钥匙的这张<strong>“纸条的地址”</strong>传给了下一层。</li><li>第二层 <code>Fx</code> 拿到的是“纸条的位置”，它去改了“纸条上的字”，而没有去改 <strong>房间 101</strong> 里的数字。</li></ul></li><li><strong>正确写法 (<code>i</code>):</strong><ul><li>第一层 <code>Fx</code> 拿到钥匙：<strong>“101”</strong>。</li><li>递归时，它把这把钥匙<strong>原样复制</strong>给下一层。</li><li>第二层 <code>Fx</code> 拿到的还是 <strong>“101”</strong>，所以大家都在改同一个房间里的数字。</li></ul></li></ul><h4 id="也可以使用全局变量，代码实现："><a href="#也可以使用全局变量，代码实现：" class="headerlink" title="也可以使用全局变量，代码实现："></a>也可以使用全局变量，代码实现：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 把i改成全局变量，不用指针传递！</span><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>)</span>;  <span class="hljs-comment">// 函数参数去掉int*</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br>i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 全局变量初始化</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);  <br>x = Fx(a, a);     <span class="hljs-comment">// 调用时不用传&amp;i了</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x)</span> &#123;  <span class="hljs-comment">// 去掉int*参数</span><br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>i++;  <span class="hljs-comment">// 直接用全局变量i自增，不用解引用！</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;调试：i=%d, x=%.6f, new_x=%.6f\n&quot;</span>, i, x, new_x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &lt;= EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a, new_x);  <span class="hljs-comment">// 递归不用传i</span><br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h4><p>我刚才写递归调用的时候，起初是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br>        <span class="hljs-keyword">return</span> new_x;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>但其实这么写不规范，容易出现大问题</p><h5 id="先把递归比作-“传话游戏”"><a href="#先把递归比作-“传话游戏”" class="headerlink" title="先把递归比作 “传话游戏”"></a>先把递归比作 “传话游戏”</h5><p>假设：</p><ul><li>你（主函数 <code>main</code>）要找 “最终答案”（√a 的值）；</li><li>递归函数 <code>Fx</code> 是 “传话的人”，一共要传 N 次（递归 N 次）；</li><li>每次传话的人（第 k 次调用 <code>Fx</code>）要做 3 件事：<ol><li>算一个 “新消息”（<code>new_x</code>）；</li><li>把 “新消息” 传给下一个人（第 k+1 次递归），直到有人算出 “最终答案”（满足 <code>fabs(new_x - x) &lt;= EPS</code>）；</li><li>拿到 “最终答案” 后，要<strong>回头告诉上一个人</strong>（函数返回结果），最后传到你手里（主函数 <code>x</code> 接收）。</li></ol></li></ul><h5 id="代码问题：“拿到答案后，不回头传话”"><a href="#代码问题：“拿到答案后，不回头传话”" class="headerlink" title="代码问题：“拿到答案后，不回头传话”"></a>代码问题：“拿到答案后，不回头传话”</h5><p>这个代码，第 3 次调用 <code>Fx</code> 就犯了这个错：</p><ol><li>第 1 次调用（传话人 1）：算 <code>new_x=1.5</code>，<code>i=1</code>，传给传话人 2；</li><li>第 2 次调用（传话人 2）：算 <code>new_x≈1.4167</code>，<code>i=2</code>，传给传话人 3；</li><li>第 3 次调用（传话人 3）：算 <code>new_x≈1.4142</code>，<code>i=3</code>，传给传话人 4；</li><li>第 4 次调用（传话人 4）：算 <code>new_x≈1.4142</code>，<code>i=4</code>，发现 “答案对了”（满足终止条件），于是把 <code>1.4142</code> 回头告诉传话人 3；</li><li>关键问题来了！<strong>传话人 3 拿到答案后，没再回头告诉传话人 2</strong>：<ul><li>你的代码里，传话人 3（第 3 次调用）在 <code>else</code> 分支里，只做了 “接收传话人 4 的答案（给 <code>new_x</code> 赋值）”，但没做 “把答案传给传话人 2”（没写 <code>return new_x</code>）；</li><li>就像传话人 3 拿到答案后，站在原地不说话，传话人 2 等不到回复，只能随便编一个 “乱码消息” 传给传话人 1，最后你拿到的就是 “垃圾值”；</li></ul></li></ol><h5 id="举个生活例子更直观"><a href="#举个生活例子更直观" class="headerlink" title="举个生活例子更直观"></a>举个生活例子更直观</h5><p>比如：</p><ul><li>你（主函数）让小明（传话人 1）去问 “最准确的 √2 是多少”，小明问小红（传话人 2），小红问小刚（传话人 3），小刚问小丽（传话人 4）；</li><li>小丽（传话人 4）算出答案是 <code>1.4142</code>，告诉小刚；</li><li>但小刚（传话人 3）拿到答案后，不告诉小红，小红只能瞎编一个 <code>999</code> 告诉小明，小明再把 <code>999</code> 告诉你；</li></ul><h5 id="修复方案：“拿到答案后，必须回头传话”"><a href="#修复方案：“拿到答案后，必须回头传话”" class="headerlink" title="修复方案：“拿到答案后，必须回头传话”"></a>修复方案：“拿到答案后，必须回头传话”</h5><p>只要在 <code>else</code> 分支里加一句 <code>return new_x</code>，就是让 “传话人拿到答案后，回头告诉上一个人”：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">else</span> &#123;<br>    new_x = Fx(a, new_x, i);  <span class="hljs-comment">// 接收下一个人的答案</span><br>    <span class="hljs-keyword">return</span> new_x;  <span class="hljs-comment">// 把答案回头传给上一个人（关键！）</span><br>&#125;<br></code></pre></td></tr></table></figure><p>这样：</p><ul><li>传话人 4 告诉传话人 3：答案是 <code>1.4142</code>；</li><li>传话人 3 拿到后，马上告诉传话人 2：答案是 <code>1.4142</code>；</li><li>传话人 2 告诉传话人 1：答案是 <code>1.4142</code>；</li><li>传话人 1 告诉你：答案是 <code>1.4142</code>；</li><li>你拿到正确答案</li></ul><h5 id="为什么不加return也可以？"><a href="#为什么不加return也可以？" class="headerlink" title="为什么不加return也可以？"></a>为什么不加return也可以？</h5><p>直接运行这个程序，不加<code>return new_x;</code></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Input a=?     2 <br><br>a=2.000000,x=1.414214<br></code></pre></td></tr></table></figure><p>看看，第4个人告诉第3个人后，第三个人站着发呆，第一个人也能正确得出答案</p><p><strong>秘密：C 语言的 “函数返回值残留”（运气成分）</strong></p><p>C 语言里，函数的返回值是通过「CPU 的特定寄存器」传递的（比如 x86 架构的<code>eax</code>寄存器）—— 这个寄存器是所有函数共用的 “临时中转站”。</p><p>用这个逻辑再看你的代码：</p><ol><li>传话人 4（第 4 次调用）满足终止条件，执行<code>return new_x</code> → 把 1.4142 放进了「eax 寄存器」，然后返回给传话人 3；</li><li>传话人 3（第 3 次调用）接收后，把 1.4142 赋值给<code>new_x</code>，但没写<code>return</code> → 函数执行完后，没有主动修改「eax 寄存器」里的值（还是 1.4142）；</li><li>传话人 3 返回给传话人 2 时，CPU 默认把「eax 寄存器」里的当前值（1.4142）当成返回值传给传话人 2；</li><li>传话人 2（第 2 次调用）同样：接收后赋值给<code>new_x</code>，没写<code>return</code> → 「eax 寄存器」还是 1.4142，返回给传话人 1；</li><li>传话人 1（第 1 次调用）接收后赋值给<code>new_x</code>，没写<code>return</code> → 「eax 寄存器」依然是 1.4142，最终返回给主函数<code>x</code>；</li><li>结果：主函数拿到了正确答案，但这和你的代码逻辑无关，纯粹是「寄存器的值没被覆盖」的巧合！</li></ol><h6 id="举个更直观的例子："><a href="#举个更直观的例子：" class="headerlink" title="举个更直观的例子："></a>举个更直观的例子：</h6><p>就像：</p><ul><li>小丽（传话人 4）把答案 1.4142 放进了一个 “公共快递柜”（eax 寄存器）；</li><li>小刚（传话人 3）拿到快递后，没重新放进柜子，但也没拿走 &#x2F; 替换里面的东西；</li><li>小红（传话人 2）、小明（传话人 1）依次来取，看到柜子里还是 1.4142，就直接拿走了；</li><li>你（主函数）最终拿到答案，但这不是因为小刚、小红主动传了话，而是他们 “没动快递柜里的东西”。</li></ul><h6 id="为什么说这是-“运气好”？（未定义行为的风险）"><a href="#为什么说这是-“运气好”？（未定义行为的风险）" class="headerlink" title="为什么说这是 “运气好”？（未定义行为的风险）"></a>为什么说这是 “运气好”？（未定义行为的风险）</h6><p>C 语言标准明确规定：<strong>非 void 函数如果没有显式 return，返回值是 “未定义行为”</strong>（编译器想怎么处理都可以）。</p><p>你的代码能跑通，只是因为：</p><ul><li>VS 编译器在 Debug 模式下，不会主动清空<code>eax</code>寄存器的值；</li><li>递归过程中，没有其他操作覆盖<code>eax</code>里的正确答案。</li></ul><p>但只要满足以下任何一个条件，答案就会出错 &#x2F; 程序崩溃：</p><ol><li>换个编译器（比如 GCC、Clang）：有些编译器会在函数结束时，把<code>eax</code>寄存器清零或设为随机值，返回的就是垃圾值；</li><li>函数里加更多代码：比如在<code>else</code>分支里加一句<code>printf</code>（会修改<code>eax</code>寄存器），正确答案就被覆盖了；</li><li>递归次数更多：中间某个函数的操作覆盖了<code>eax</code>，最后返回随机值。</li></ol><h6 id="验证：加一句代码，正确答案就没了！"><a href="#验证：加一句代码，正确答案就没了！" class="headerlink" title="验证：加一句代码，正确答案就没了！"></a>验证：加一句代码，正确答案就没了！</h6><p>给你的<code>else</code>分支加一句<code>printf</code>（模拟修改寄存器），再运行：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;加一句打印\n&quot;</span>);  <span class="hljs-comment">// 新增：修改eax寄存器</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行结果会变成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Input a=?2<br>加一句打印<br>加一句打印<br>加一句打印<br><br>a=2.000000,x=0.000000  // 答案变成垃圾值！<br></code></pre></td></tr></table></figure><p>原因：<code>printf</code>函数执行后，会修改<code>eax</code>寄存器的值（把<code>printf</code>的返回值放进寄存器），覆盖了之前的正确答案 1.4142，最后主函数拿到的就是<code>printf</code>的返回值（或随机值）。</p><h6 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h6><ol><li>你能得到正确答案，是「寄存器残留正确值」的巧合，不是代码逻辑正确；</li><li>非 void 函数必须在所有分支都写<code>return</code>—— 这是 C 语言的 “语法铁律”，不写就是未定义行为，今天运气好跑通，明天换环境就可能崩；</li><li>你的代码简化后，正确写法应该是：</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">return</span> Fx(a, new_x);  <span class="hljs-comment">// 直接返回递归结果，不用else和中间赋值</span><br>&#125;<br></code></pre></td></tr></table></figure><p>简单说：「没写 return 还能对」是 C 语言给你开的 “运气挂”，但编程不能靠运气，规范写法才是王道～</p><h3 id="【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。"><a href="#【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。" class="headerlink" title="【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。"></a>【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。</h3><p>直接在Fx的定义中添加if终止循环：</p><p>代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<br>    <span class="hljs-type">float</span> new_x = x;<br>    <span class="hljs-keyword">do</span> &#123;<br>        x = new_x;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>        (*i)++;<br>        <span class="hljs-keyword">if</span> (*i &gt;= <span class="hljs-number">20</span>) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br>    <span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="【4】i-自加时的注意事项"><a href="#【4】i-自加时的注意事项" class="headerlink" title="【4】i 自加时的注意事项"></a>【4】i 自加时的注意事项</h3><p>写代码时发现<code>*i++</code>时i无法正常自加</p><p>由于<code>++</code>运算符的优先级高于<code>*</code>（解引用运算符），这行代码会被解析为：<code>*(i++)</code></p><p>这导致<strong>指针<code>i</code>本身在自增</strong>，而不是对它指向的变量（主函数中的<code>i</code>）进行自增。由于指针<code>i</code>指向的地址发生了偏移，后续的自增操作实际上是在操作一个无效的内存地址，最终主函数中的<code>i</code>值没有被正确修改。</p><p>需要通过括号强制改变优先级，先解引用指针获取变量，再对变量自增：</p><p>即<code>(*i)++</code></p><h3 id="【5】简单且高效的代码："><a href="#【5】简单且高效的代码：" class="headerlink" title="【5】简单且高效的代码："></a>【5】简单且高效的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5  <span class="hljs-comment">// 精度要求：0.00001</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_ITER 20  <span class="hljs-comment">// 最大迭代次数</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">float</span> a, x, new_x;<br>    <span class="hljs-type">int</span> iter = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 迭代次数</span><br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);  <span class="hljs-comment">// 标准输入函数，兼容性更好</span><br>    <br>    x = a;  <span class="hljs-comment">// 初始值x0=a</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);  <span class="hljs-comment">// 牛顿迭代公式</span><br>        iter++;  <span class="hljs-comment">// 迭代次数加1</span><br>        <span class="hljs-keyword">if</span> (iter &gt;= MAX_ITER) &#123;<br>            <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// 超过20次迭代则停止</span><br>        &#125;<br>        x = new_x;  <span class="hljs-comment">// 更新x为新迭代值</span><br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);  <span class="hljs-comment">// 精度未满足则继续迭代</span><br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, new_x, iter);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结:"></a>总结:</h2><ol><li>减少冗余的参数传递，让代码更简洁。</li><li>递归调用的注意事项</li><li>全局变量的运用</li></ol><p>​</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>含5的自然数的和</title>
    <link href="/2025/11/18/%E5%90%AB5%E7%9A%84%E8%87%AA%E7%84%B6%E6%95%B0%E7%9A%84%E5%92%8C/"/>
    <url>/2025/11/18/%E5%90%AB5%E7%9A%84%E8%87%AA%E7%84%B6%E6%95%B0%E7%9A%84%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="含5的自然数的和"><a href="#含5的自然数的和" class="headerlink" title="含5的自然数的和"></a>含5的自然数的和</h1><p>这绝对是我目前写过最优美的代码了！！！</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>编程计算n以内(包括n，0&lt;n&lt;1000）含5的所有自然数（例如：5，15，25，50，405等，不超过三位数）的和。其中n的值由键盘输入。<br>注：（1）不能使用指针、结构体、共用体、文件、goto、枚举类型进行编程。<br>    （2）用标准C语言编程，所有变量必须在第一条可执行语句前定义。<br>    （3）输入输出格式要和以下给定格式完全一致。<br>**输入提示信息：”Input n(0&lt;n&lt;1000)\n”<br>**输入数据格式：”%d”<br>**输出格式：”%d\n”<br>运行示例：<br>Input n(0&lt;n&lt;1000)<br>500<br>24450</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//函数的声明</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_contianfive</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n, sum=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n(0&lt;n&lt;1000)\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (;n &gt; <span class="hljs-number">0</span>;n--) &#123;<br><span class="hljs-keyword">if</span> (is_contianfive(n)) &#123;<span class="hljs-comment">//函数的调用</span><br>sum += n;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//判断是否含5</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_contianfive</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-type">int</span> last;<br><span class="hljs-keyword">while</span> (n != <span class="hljs-number">0</span>) &#123;<br>last = n % <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (last == <span class="hljs-number">5</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>n /= <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">return</span> last == <span class="hljs-number">5</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>利用了刚学的函数封装</p><p>是我自己独立写的哟，既然又是给自己看，我在这里就不再分析代码里了</p><p>慢慢欣赏吧~</p><h2 id="ai写的代码："><a href="#ai写的代码：" class="headerlink" title="ai写的代码："></a>ai写的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> n, i, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> hundreds, tens, units;  <span class="hljs-comment">// 分别存储百位、十位、个位数字</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n(0&lt;n&lt;1000)\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-comment">// 提取各位数字</span><br>        hundreds = i / <span class="hljs-number">100</span>;    <span class="hljs-comment">// 百位数字（0表示不足三位）</span><br>        tens = (i / <span class="hljs-number">10</span>) % <span class="hljs-number">10</span>;  <span class="hljs-comment">// 十位数字</span><br>        units = i % <span class="hljs-number">10</span>;        <span class="hljs-comment">// 个位数字</span><br><br>        <span class="hljs-comment">// 判断是否包含数字5</span><br>        <span class="hljs-keyword">if</span> (hundreds == <span class="hljs-number">5</span> || tens == <span class="hljs-number">5</span> || units == <span class="hljs-number">5</span>) &#123;<br>            sum += i;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>嗯，怎么说呢，可读性比我高，思路不一样</p><ul><li>AI写的代码需要计算每一位是否为5，而我利用循环从个位开始取值，一旦出现5就终止循环</li><li>AI的代码有局限性（根据题目要求三位数的范围），而我写的代码可以适用高位数（小于2147483647）</li></ul><p>也是好代码</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>回文数|逻辑非” 运算符|函数封装</title>
    <link href="/2025/11/17/%E5%9B%9E%E6%96%87%E6%95%B0%E3%80%81%E9%80%BB%E8%BE%91%E9%9D%9E%E2%80%9D%20%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85/"/>
    <url>/2025/11/17/%E5%9B%9E%E6%96%87%E6%95%B0%E3%80%81%E9%80%BB%E8%BE%91%E9%9D%9E%E2%80%9D%20%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="回文数Palindrome-number"><a href="#回文数Palindrome-number" class="headerlink" title="回文数Palindrome number"></a>回文数Palindrome number</h1><p>这绝对是我目前写过最久的程序！</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>回文数的形成。任取一个十进制整数，将其倒过来后与原来的整数相加，得到一个新的整数后，重复以上步骤，最终可得到一个回文数，请编程验证。<br>**输入格式要求：”%ld” 提示信息：”please enter a number optionaly:”  “The generation process of palindrome:\n”  “  input error, break.\n”<br>**输出格式要求：”   [%d]: %ld+%ld&#x3D;%ld\n”  “Here we reached the aim at last !\n”<br>程序运行示例如下：<br>please enter a number optionaly:345<br>The generation process of palindrome:</p><p>Here we reached the aim at last !</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">long</span> number, reversenumber = <span class="hljs-number">0</span>, last, newnumber, initial;<br><span class="hljs-type">int</span> count = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter a number optionaly:&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%ld&quot;</span>, &amp;number);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The generation process of palindrome:\n&quot;</span>);<br>initial = number;<br><span class="hljs-keyword">while</span> (<span class="hljs-number">10086</span>) &#123;<br><span class="hljs-keyword">while</span> (number != <span class="hljs-number">0</span>) &#123;<br>last = number % <span class="hljs-number">10</span>;<br>number = number / <span class="hljs-number">10</span>;<br>reversenumber = reversenumber * <span class="hljs-number">10</span> + last;<br>&#125;<br>newnumber = initial + reversenumber;<br><span class="hljs-keyword">if</span> (initial == reversenumber) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, count, initial, reversenumber, newnumber);<br>number = newnumber;<br>initial = number;<br>reversenumber = <span class="hljs-number">0</span>;<br>last = <span class="hljs-number">0</span>;<br>count++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Here we reached the aim at last !\n&quot;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="中途遇到的问题："><a href="#中途遇到的问题：" class="headerlink" title="中途遇到的问题："></a>中途遇到的问题：</h3><ul><li><p><code>%ld</code>是什么？</p><p>​全称是 “long decimal”，用于**整数类型 <code>long</code>**（长整型）的输入输出。</p></li><li><p><code>int</code>和<code>long</code>有什么区别？</p><ul><li><p>**<code>int</code>**：</p><p>通常占 4 字节（32 位），可表示的范围约为 <strong>-21 亿～+21 亿</strong>（-2³¹ ~ 2³¹-1）。</p><p>例如：<code>int</code> 最大能精确存储 2147483647，超过这个数就会 “溢出”（结果错误）。</p></li><li><p>**<code>long</code>**：</p><p>至少占 4 字节（32 位系统），64 位系统中通常占 8 字节，可表示的范围约为 <strong>-922 亿亿～+922 亿亿</strong>（-2⁶³ ~ 2⁶³-1）。</p><p>例如：8 字节的 <code>long</code> 能轻松存储像 123456789012345 这样的大整数，而 <code>int</code> 会溢出。</p></li><li><p>内存占用不同</p><p><code>int</code>：固定 4 字节（几乎所有系统）。</p><p><code>long</code>：32 位系统中 4 字节，64 位系统中 8 字节（目的是利用更大的内存空间扩展表示范围）。</p></li><li><p>什么时候用 <code>int</code>？什么时候用 <code>long</code>？</p><p>​用 <code>int</code>：处理普通大小的整数（比如年龄、数量、10 亿以内的数），更节省内存，效率略高。</p><p>​用 <code>long</code>：处理超过 <code>int</code> 范围的大整数（比如身份证号、天文数字、大金额），避免溢出错误。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">2147483647</span>;    <span class="hljs-comment">// int 的最大值</span><br>    <span class="hljs-type">long</span> b = <span class="hljs-number">2147483648</span>;   <span class="hljs-comment">// 超过 int 范围，必须用 long</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;int 最大值+1: %d\n&quot;</span>, a + <span class="hljs-number">1</span>);  <span class="hljs-comment">// 溢出，结果错误（变成-2147483648）</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;long 存储大整数: %ld\n&quot;</span>, b);   <span class="hljs-comment">// 正确输出 2147483648</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>简单说：<code>int</code> 是 “普通整数”，<code>long</code> 是 “大整数”，根据需要存储的数值大小选择即可。</p></li></ul></li></ul><p>最后写的我头皮发麻，浑身燥热，饥渴难耐…….不过还好，自己还是把这个几把代码写出来了</p><p>看看AI是怎么写的把！</p><h2 id="AI的代码："><a href="#AI的代码：" class="headerlink" title="AI的代码："></a>AI的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">long</span> num, original, reversed, sum;<br>    <span class="hljs-type">int</span> step = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// 提示用户输入数字</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter a number optionaly:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%ld&quot;</span>, &amp;num);<br><br>    <span class="hljs-comment">// 输出回文数生成过程标题</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The generation process of palindrome:\n&quot;</span>);<br><br>    original = num;<br><br>    <span class="hljs-comment">// 循环直到得到回文数</span><br>    <span class="hljs-keyword">while</span> (!is_palindrome(original)) &#123;<br>        step++;<br>        reversed = reverse_num(original);<br>        sum = original + reversed;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>        original = sum;<br>    &#125;<br><br>    <span class="hljs-comment">// 如果初始数就是回文数，需要显示第一步</span><br>    <span class="hljs-keyword">if</span> (step == <span class="hljs-number">0</span>) &#123;<br>        step++;<br>        reversed = reverse_num(original);<br>        sum = original + reversed;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>    &#125;<br><br>    <span class="hljs-comment">// 输出最终结果</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Here we reached the aim at last !\n&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 函数：将数字反转</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-type">long</span> reversed = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (num != <span class="hljs-number">0</span>) &#123;<br>        reversed = reversed * <span class="hljs-number">10</span> + num % <span class="hljs-number">10</span>;<br>        num /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> reversed;<br>&#125;<br><br><span class="hljs-comment">// 函数：判断是否为回文数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-keyword">return</span> num == reverse_num(num);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="解读："><a href="#解读：" class="headerlink" title="解读："></a>解读：</h3><ol><li>将反转数字和判断回文数封装到两个函数中，使代码可读性强</li><li>封装到两个独立函数，避免循环嵌套的时候出现变量需不断重新归零，或避免在主函数中定义过多变量，降低大妈可读性</li></ol><p>看看是怎么实现的把：</p><h4 id="反转数字："><a href="#反转数字：" class="headerlink" title="反转数字："></a>反转数字：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>; <span class="hljs-comment">// 函数声明</span><br><br><span class="hljs-comment">// 函数的定义：将数字反转  //定义reverse_num()函数</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-type">long</span> reversed = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (num != <span class="hljs-number">0</span>) &#123;<br>        reversed = reversed * <span class="hljs-number">10</span> + num % <span class="hljs-number">10</span>;<br>        num /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> reversed;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>这个里面的的reversed不是在主函数中已经定义了吗，还需要定义？</p><p>在 C 语言中，变量的作用域（即变量能被访问的范围）是由定义它的位置决定的。 <code>reversed</code> 变量在 <strong>主函数（<code>main</code>）</strong> 和 <strong><code>reverse_num</code> 函数</strong> 中是完全独立的两个变量，原因如下：</p><ol><li>变量的 “作用域” 不同</li></ol><ul><li>在 <code>reverse_num</code> 函数中定义的 <code>long reversed = 0;</code>，其作用域 <strong>仅限于 <code>reverse_num</code> 函数内部</strong>。离开这个函数后，这个变量就不存在了，其他函数（包括 <code>main</code> 函数）无法直接访问它。</li><li>主函数（<code>main</code>）中如果定义了 <code>reversed</code> 变量（比如你可能在 <code>main</code> 里写了 <code>long reversed;</code>），它的作用域 <strong>仅限于 <code>main</code> 函数内部</strong>。<code>reverse_num</code> 函数无法访问 <code>main</code> 中的这个变量。</li></ul><ol start="2"><li>为什么需要在 <code>reverse_num</code> 中重新定义？</li></ol><ul><li><code>reverse_num</code> 函数的功能是 “计算一个数字的反转数”，这个过程需要一个临时变量来存储反转后的结果（比如从 0 开始，逐步拼接原数字的每一位）。这个临时变量只在函数内部使用，和 <code>main</code> 函数中可能存在的 <code>reversed</code> 变量没有任何关系。</li></ul><p>即使两个变量名字相同，由于作用域不同，它们会被编译器视为 <strong>两个完全独立的变量</strong>（可以理解为 “同名不同人”），各自占用不同的内存空间，互不影响。</p></li><li><p><code>num /= 10</code>是什么意思？</p><p><code>num /= 10</code> 等价于 <code>num = num / 10</code></p></li><li><p><code>reversed = reversed * 10 + num % 10</code>中将”取最后一位数字”整合到递推中，使代码更简洁</p></li><li><p>函数独立封装的好处</p><ul><li>避免循环嵌套，导致reverse_num在上一次循环中的值，运用在了下一次循环<code>reversed = reversed * 10 + num % 10</code>的第二个reverse中（每一次循环reverse的初始值都要为0），当然实现方法就是在每一个循环的开头重新定义reverse的初始值‘0’</li></ul></li></ul><h4 id="判断是否为回文数："><a href="#判断是否为回文数：" class="headerlink" title="判断是否为回文数："></a>判断是否为回文数：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<span class="hljs-comment">// 函数声明</span><br><br><span class="hljs-comment">// 函数：判断是否为回文数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-keyword">return</span> num == reverse_num(num);<br>&#125;<br><br><span class="hljs-comment">//函数的调用</span><br><span class="hljs-keyword">while</span> (!is_palindrome(original))&#123;<br>    <br>    <br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p><code>return num == reverse_num(num)</code> 是什么意思？</p><p>这行代码的作用是<strong>判断一个数是否为回文数</strong>，并返回判断结果。</p><ul><li><code>==</code> 是 “等于” 运算符，用于比较左右两边的值是否相等，相等则返回 <code>1</code>（真），不相等则返回 <code>0</code>（假）。</li><li><code>reverse_num(num)</code> 会计算 <code>num</code> 的反转数（例如 <code>num=345</code> 时，反转数是 <code>543</code>）。</li></ul><p>因此：</p><ul><li>如果 <code>num</code> 和它的反转数相等（比如 <code>num=888</code>，反转数也是 <code>888</code>），则 <code>num == reverse_num(num)</code> 为 <code>1</code>，函数返回 <code>1</code>（表示是回文数）。</li><li>如果不相等（比如 <code>num=345</code>，反转数是 <code>543</code>），则返回 <code>0</code>（表示不是回文数）。</li></ul></li><li><p>这里的<code>!is_palindrome(original)</code>的感叹号！是什么意思？</p><p>由于这里循环继续进行的条件是original不是回文数，而<code>is_palindrome(original)</code>判断不是回文数会返回0从而终止循环</p><p>所以这里需要反转一下：</p><p>感叹号 <code>!</code> 是 “逻辑非” 运算符，作用是<strong>取相反的布尔值</strong>（真变假，假变真）。</p><p><code>is_palindrome(original)</code> 的返回值是：</p><ul><li>如果 <code>original</code> 是回文数，返回 <code>1</code>（真）；</li><li>如果不是回文数，返回 <code>0</code>（假）。</li></ul><p>因此 <code>!is_palindrome(original)</code> 的意思是：</p><ul><li>当 <code>original</code> <strong>不是</strong> 回文数时，条件为 <code>真</code>（1），循环继续执行（继续相加反转数）；</li><li>当 <code>original</code> <strong>是</strong> 回文数时，条件为 <code>假</code>（0），循环停止。</li></ul></li><li><p>简单明了地呈现循环条件，避免使用if中的条件判断和break使代码更复杂，同时也避免了非要使用if来打破循环时if语句不知道放哪的烧脑与尴尬</p></li></ul><h4 id="单独列出特殊情况"><a href="#单独列出特殊情况" class="headerlink" title="单独列出特殊情况"></a>单独列出特殊情况</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c">   <span class="hljs-comment">//如果初始值original通过函数is_palindrome()判断是回文数并返回1</span><br><span class="hljs-comment">//经过！反转布尔值后为假，则无法进入while循环并打印[%d]: %ld+%ld=%ld\n</span><br><span class="hljs-comment">//从而无法达到题目要求，又无法改变‘！‘语法，所以要单独说明</span><br><span class="hljs-keyword">while</span> (!is_palindrome(original)) &#123;<br>       <br>   &#125;<br><br><br>   <span class="hljs-keyword">if</span> (step == <span class="hljs-number">0</span>) &#123;<br>       step++;<span class="hljs-comment">//step = 2</span><br>       reversed = reverse_num(original);<br>       sum = original + reversed;<br>       <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>   &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>泰勒展开式</title>
    <link href="/2025/11/16/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80%E5%BC%8F/"/>
    <url>/2025/11/16/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="泰勒展开式"><a href="#泰勒展开式" class="headerlink" title="泰勒展开式"></a>泰勒展开式</h1><h3 id="一、题目："><a href="#一、题目：" class="headerlink" title="一、题目："></a>一、题目：</h3><p>利用泰勒级数sin(x) &#x3D; x - x^3&#x2F;3! + x^5&#x2F;5! - x^7&#x2F;7! + x^9&#x2F;9! …</p><p>计算sin(x) 的值。要求最后一项的绝对值小于10^(-5)，并统计出此时累加了多少项。</p><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> n = <span class="hljs-number">1</span>,count = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">float</span> x;<br>    <span class="hljs-type">double</span> sum , term;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input x: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;x);<br><br>    sum = x;<br>    term = x;<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>        term = (<span class="hljs-number">-1</span>)*term*x*x/((n+<span class="hljs-number">1</span>)*(n+<span class="hljs-number">2</span>));<br>        <span class="hljs-comment">//printf(&quot;wbs&quot;);                            //代码调试</span><br>        <span class="hljs-comment">//printf(&quot;%lf&quot;,term);//代码调试</span><br>        sum = sum + term;<br>        n=n+<span class="hljs-number">2</span>;<br>        count++;<br>    &#125;<span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(term) &gt;= EPS);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sin(x) = %lf, count = %d\n&quot;</span>, sum, count);<br>&#125;<br></code></pre></td></tr></table></figure><p>觉得这个代码很优美，很好地运用了递推，再加上高中时候对泰勒展开式（比较大小题中）不是很熟，故记了一篇markdown</p><hr><hr><h1 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h1><ul><li>C语言中，我想表示： a&#x3D;-a+1的递推，直接这么写在代码中是不是对的？</li></ul><p>​还是非要要写成这个吗？： </p><p>​<code>a=(-1)*a+1</code></p><p>在 C 语言中，<code>a = -a + 1</code> 这样的写法是完全正确的，和 <code>a = (-1) * a + 1</code> 是等价的，两者在逻辑和运算结果上没有任何区别。</p><p>C 语言的运算符优先级中，负号（<code>-</code>，单目运算符）的优先级高于加法（<code>+</code>）和乘法（<code>*</code>），因此 <code>a = -a + 1</code> 会被编译器自动解析为 <code>a = (-a) + 1</code>，即先计算 <code>-a</code>，再加上 1，这正是你需要的递推逻辑。</p><p>两种写法都可以正常工作，实际开发中更推荐 <code>a = -a + 1</code>，因为它更简洁直观，符合常规的数学表达习惯。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>函数的调用与指针初探</title>
    <link href="/2025/11/16/%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%88%9D%E6%8E%A2/"/>
    <url>/2025/11/16/%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="函数的调用与指针初探"><a href="#函数的调用与指针初探" class="headerlink" title="函数的调用与指针初探"></a>函数的调用与指针初探</h1><h3 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h3><p>利用二分法求函数的根</p><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;                      <span class="hljs-comment">//函数的声明</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">double</span> x1, x2, x0;<br><span class="hljs-type">double</span> fx1, fx2, fx0;<br><span class="hljs-type">double</span> left, right;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>left = x1;<br>right = x2;<br><span class="hljs-keyword">do</span> &#123;<br>fx1 = f(x1);<span class="hljs-comment">//函数的调用</span><br>fx2 = f(x2);<br>x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>fx0 = f(x0);<br><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>x1 = x0;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>x2 = x0;<br>&#125;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0) &gt;= EPS);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<span class="hljs-comment">//函数的定义</span><br><span class="hljs-type">double</span> value;<br>value = x * x - x - <span class="hljs-number">2</span>;<br><span class="hljs-keyword">return</span> value;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>函数的声明</p><p>提前告诉编译器 “存在这样一个函数”，并说明函数的返回值类型、名称和参数类型</p><p>编译器先看到<code>f()</code>的声明，知道它是一个接收两个<code>double</code>、返回<code>double</code>的函数</p></li><li><p>函数的定义</p><p>完整描述函数的功能逻辑，包括参数的具体处理步骤和返回结果</p></li><li><p>函数的调用</p><p>在需要的地方（如<code>main</code>函数中）通过函数名和实际参数，触发函数定义中的逻辑执行，完成特定任务（如计算、打印、数据处理等）</p></li></ul><h3 id="三、科学计数法"><a href="#三、科学计数法" class="headerlink" title="三、科学计数法"></a>三、科学计数法</h3><p>在 C 语言（以及多数编程语言）中，科学计数法的写法略有简化，用 <strong><code>e</code> 或 <code>E</code></strong> 代替 “×10ⁿ”，格式为：<code>数字e指数</code> 或 <code>数字E指数</code></p><h4 id="举例说明："><a href="#举例说明：" class="headerlink" title="举例说明："></a>举例说明：</h4><ol><li>**<code>1e-2</code>**对应数学中的 <strong>1 × 10⁻²</strong>，即 (1 \div 10^2 &#x3D; 1 \div 100 &#x3D; 0.01)。</li><li>**<code>2.5e3</code>**对应 <strong>2.5 × 10³</strong>，即 (2.5 \times 1000 &#x3D; 2500)。</li><li>**<code>3e-5</code>**对应 <strong>3 × 10⁻⁵</strong>，即 (3 \div 100000 &#x3D; 0.00003)。</li><li>**<code>6.02E23</code>**（科学常数阿伏伽德罗常数）对应 <strong>6.02 × 10²³</strong>，是一个极大的数。</li></ol><h4 id="核心规则："><a href="#核心规则：" class="headerlink" title="核心规则："></a>核心规则：</h4><ul><li>指数为 <strong>正数</strong> 时，表示乘以 10 的幂（数值变大）；</li><li>指数为 <strong>负数</strong> 时，表示除以 10 的幂（数值变小）；</li><li>尾数可以是整数（如 <code>1e3</code>）或小数（如 <code>2.5e-2</code>）。</li></ul><h3 id="四、备注"><a href="#四、备注" class="headerlink" title="四、备注"></a>四、备注</h3><h5 id="1-可以没有函数的声明，直接把函数的定义放到主函数的前面吗？"><a href="#1-可以没有函数的声明，直接把函数的定义放到主函数的前面吗？" class="headerlink" title="1.可以没有函数的声明，直接把函数的定义放到主函数的前面吗？"></a>1.可以没有函数的声明，直接把函数的定义放到主函数的前面吗？</h5><p>可以。如果将函数的定义放在主函数（<code>main</code>函数）之前，此时函数定义本身就兼具了 “声明” 的作用，因此可以省略单独的函数声明。</p><p>只适合函数代码比较简单的程序，否则如果头重脚轻，程序就显得不好看</p><h5 id="2-可以将函数返回值类型改为void吗？"><a href="#2-可以将函数返回值类型改为void吗？" class="headerlink" title="2.可以将函数返回值类型改为void吗？"></a>2.可以将函数返回值类型改为<code>void</code>吗？</h5><p>可以，但需要注意：<code>void</code>表示函数<strong>没有返回值</strong>，因此函数体内不能有return 表达式，如果改为<code>void f()</code>，函数的功能需要调整 —— 比如直接在函数内部打印结果，而不是通过<code>return</code>返回给调用者</p><p>​例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 1. 函数声明（返回值类型改为void）</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;  <span class="hljs-comment">// 无返回值，仅执行操作</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num1 = <span class="hljs-number">5</span>, num2 = <span class="hljs-number">3</span>;<br>    <br>    <span class="hljs-comment">// 3. 函数调用：无需接收返回值，直接调用即可</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;计算%d和%d的乘积：\n&quot;</span>, num1, num2);<br>    multiply(num1, num2);  <span class="hljs-comment">// 调用后直接在函数内打印结果</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 2. 函数定义（返回值类型为void，无return语句）</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-type">int</span> result = a * b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;乘积是：%d\n&quot;</span>, result);  <span class="hljs-comment">// 直接在函数内输出结果</span><br>    <span class="hljs-comment">// 无需return（或可写 return; 但无实际意义）</span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="3、函数定义的括号里面参数名称可以省略吗？"><a href="#3、函数定义的括号里面参数名称可以省略吗？" class="headerlink" title="3、函数定义的括号里面参数名称可以省略吗？"></a>3、函数定义的括号里面参数名称可以省略吗？</h5><p>在函数定义中，<strong>参数名称不能省略</strong>。</p><p>函数定义的核心是实现函数的具体逻辑，而参数名称是函数体内操作输入数据的 “标识”。如果省略参数名称，函数体中将无法引用这些参数，导致逻辑无法实现，编译器会直接报错。</p><h1 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h1><p>可以将中间的<code>if</code>判断逻辑封装到独立函数中吗</p><p>可以，代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> fx0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> x1, x2, x0;<br>    <span class="hljs-type">double</span> fx1, fx2, fx0;<br>    <span class="hljs-type">double</span> left, right;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>    left = x1;<br>    right = x2;<br>    <span class="hljs-keyword">do</span> &#123;<br>        fx1 = f(x1);<br>        fx2 = f(x2);<br>        x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>        fx0 = f(x0);<br>        <span class="hljs-comment">// 调用独立函数处理区间更新逻辑</span><br>        judge(fx0, fx1, &amp;x1, &amp;x2, x0);<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0) &gt;= EPS);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-comment">// 封装区间更新的逻辑</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> fx0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0)</span> &#123;<br>    <span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>        *x1 = x0;  <span class="hljs-comment">// 通过指针修改外部变量x1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        *x2 = x0;  <span class="hljs-comment">// 通过指针修改外部变量x2</span><br>    &#125;<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<br>    <span class="hljs-keyword">return</span> x * x - x - <span class="hljs-number">2</span>;  <span class="hljs-comment">// 原函数保持不变</span><br>&#125;<br></code></pre></td></tr></table></figure><p>我自己写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">double</span> x1, x2, x0;<br><span class="hljs-type">double</span> fx1, fx2, fx0;<br><span class="hljs-type">double</span> left, right;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>left = x1;<br>right = x2;<br><span class="hljs-keyword">do</span> &#123;<br>fx1 = f(x1);<br>fx2 = f(x2);<br>x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>fx0 = f(x0);<br>judge(x1, x2, x0, fx1, fx0);<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0)&gt;=EPS);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<br><span class="hljs-type">double</span> value;<br>value = x * x - x - <span class="hljs-number">2</span>;<br><span class="hljs-keyword">return</span> value;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> x1, <span class="hljs-type">double</span> x2, <span class="hljs-type">double</span> x0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> fx0)</span> &#123;<br><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>x1 = x0;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>x2 = x0;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>密码的，竟然报错了! </p><p>问了一下豆包：</p><p>你的代码中存在一个典型的 “值传递” 导致的逻辑错误，具体问题出在 <code>judge</code> 函数对 <code>x1</code> 和 <code>x2</code> 的修改无法作用到 <code>main</code> 函数中。</p><h3 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h3><p>C 语言函数参数传递默认是 <strong>值传递</strong>—— 函数接收的是实参的 “副本”（复制了一份值），而非变量本身。在你的代码中：</p><ul><li><code>main</code> 函数中的 <code>x1</code> 和 <code>x2</code> 是原始变量。</li><li>调用 <code>judge(x1, x2, x0, fx1, fx0)</code> 时，<code>judge</code> 函数接收的是 <code>x1</code> 和 <code>x2</code> 的 “副本”（函数内部的局部变量 <code>x1</code> 和 <code>x2</code>）。</li><li>在 <code>judge</code> 函数中修改 <code>x1 = x0</code> 或 <code>x2 = x0</code>，只能改变这个 “副本” 的值，无法影响 <code>main</code> 函数中原始的 <code>x1</code> 和 <code>x2</code>。</li></ul><p>因此，循环中 <code>x1</code> 和 <code>x2</code> &#x3D;&#x3D;始终保持初始值不变&#x3D;&#x3D;，导致二分法无法正常缩小区间，可能陷入死循环或计算错误。</p><h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><p>需要通过 <strong>指针</strong> 传递 <code>x1</code> 和 <code>x2</code> 的地址，让 <code>judge</code> 函数能直接修改 <code>main</code> 函数中的原始变量。</p><h3 id="问题解决："><a href="#问题解决：" class="headerlink" title="问题解决："></a>问题解决：</h3><p>AI在这里解释的很清楚，”仔细翻翻，看看有什么好东西”：</p><p>在 C 语言中，指针是一个非常核心的概念，它的本质是<strong>存储变量的内存地址</strong>。理解指针的作用和实现方式，能帮你搞清楚为什么之前的代码需要用指针才能正确修改<code>main</code>函数中的<code>x1</code>和<code>x2</code>。</p><h4 id="一、指针的核心作用：间接访问和修改变量"><a href="#一、指针的核心作用：间接访问和修改变量" class="headerlink" title="一、指针的核心作用：间接访问和修改变量"></a>一、指针的核心作用：间接访问和修改变量</h4><p>C 语言函数参数默认是 “值传递”—— 函数内部的参数只是外部变量的<strong>副本</strong>（复制了一份值）。如果想让函数内部修改外部变量的值，就必须通过指针 “绕个弯”，直接操作变量的内存地址。</p><p>举个生活例子：</p><ul><li>假设<code>main</code>函数中的<code>x1</code>是一个放在 “房间 A” 里的变量（内存地址是<code>0x1000</code>，值为<code>1.0</code>）。</li><li>如果不用指针，<code>judge</code>函数拿到的<code>x1</code>是 “房间 A” 里值的副本（放在 “房间 B”，地址<code>0x2000</code>，值也是<code>1.0</code>）。此时在<code>judge</code>里改<code>x1</code>，只是改了 “房间 B” 的值，“房间 A” 的<code>x1</code>完全不变。</li><li>如果用指针，<code>judge</code>函数拿到的是 “房间 A” 的地址（<code>0x1000</code>）。通过这个地址，<code>judge</code>可以直接去 “房间 A” 里修改<code>x1</code>的值，<code>main</code>函数自然能看到变化。</li></ul><h4 id="二、指针的实现方式（结合你的代码）"><a href="#二、指针的实现方式（结合你的代码）" class="headerlink" title="二、指针的实现方式（结合你的代码）"></a>二、指针的实现方式（结合你的代码）</h4><p>我们通过修改后的<code>judge</code>函数，一步步看指针是如何工作的：</p><h5 id="1-指针变量的定义"><a href="#1-指针变量的定义" class="headerlink" title="1. 指针变量的定义"></a>1. 指针变量的定义</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> fx0)</span><br></code></pre></td></tr></table></figure><ul><li><code>double *x1</code> 表示：<code>x1</code>是一个<strong>指针变量</strong>，它专门用来存储<code>double</code>类型变量的内存地址。</li><li><code>*</code> 在这里是 “指针声明符”，告诉编译器 “<code>x1</code>不是普通的<code>double</code>变量，而是指向<code>double</code>变量的指针”。</li></ul><h5 id="2-传递变量的地址（调用函数时）"><a href="#2-传递变量的地址（调用函数时）" class="headerlink" title="2. 传递变量的地址（调用函数时）"></a>2. 传递变量的地址（调用函数时）</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">judge(&amp;x1, &amp;x2, x0, fx1, fx0);<br></code></pre></td></tr></table></figure><ul><li><code>&amp;x1</code> 中的 <code>&amp;</code> 是 “取地址符”，作用是获取<code>main</code>函数中<code>x1</code>变量的内存地址（比如<code>0x1000</code>）。</li><li>此时，<code>judge</code>函数的参数<code>x1</code>（指针变量）会接收到这个地址（<code>0x1000</code>），即<code>x1</code>指向了<code>main</code>中的<code>x1</code>变量。</li></ul><h5 id="3-通过指针修改外部变量（函数内部）"><a href="#3-通过指针修改外部变量（函数内部）" class="headerlink" title="3. 通过指针修改外部变量（函数内部）"></a>3. 通过指针修改外部变量（函数内部）</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>    *x1 = x0;  <span class="hljs-comment">// 修改指针指向的变量</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    *x2 = x0;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>*x1</code> 中的 <code>*</code> 是 “解引用符”，作用是 “通过指针<code>x1</code>存储的地址，找到它指向的变量”（即<code>main</code>中的<code>x1</code>）。</li><li><code>*x1 = x0</code> 等价于 “把<code>x0</code>的值放到指针<code>x1</code>指向的内存地址中”，也就是直接修改了<code>main</code>函数中的<code>x1</code>变量。</li></ul><h4 id="三、总结：指针如何解决你的问题"><a href="#三、总结：指针如何解决你的问题" class="headerlink" title="三、总结：指针如何解决你的问题"></a>三、总结：指针如何解决你的问题</h4><p>在你最初的代码中，<code>judge</code>函数接收的是<code>x1</code>和<code>x2</code>的副本，修改副本不会影响原始变量，导致二分法无法缩小区间。</p><p>通过指针：</p><ol><li><code>judge</code>函数拿到了<code>main</code>中<code>x1</code>和<code>x2</code>的内存地址（通过<code>&amp;x1</code>、<code>&amp;x2</code>传递）；</li><li>用<code>*x1</code>、<code>*x2</code>直接操作这个地址对应的变量，实现了 “在函数内部修改外部变量” 的效果；</li><li>最终<code>main</code>函数中的<code>x1</code>和<code>x2</code>能正确更新，二分法正常工作。</li></ol><p>简单说，指针就像一个 “遥控器”，拿着它（指针变量），你可以远程操作它指向的变量（不管这个变量在哪个函数里）。这也是 C 语言中实现函数间数据共享和修改的核心方式。</p><h2 id="我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒"><a href="#我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒" class="headerlink" title="我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒"></a>我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒</h2>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>排序逻辑与赋值运算符</title>
    <link href="/2025/11/16/%E6%8E%92%E5%BA%8F%E9%80%BB%E8%BE%91%E4%B8%8E%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/16/%E6%8E%92%E5%BA%8F%E9%80%BB%E8%BE%91%E4%B8%8E%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="排序逻辑与赋值运算符"><a href="#排序逻辑与赋值运算符" class="headerlink" title="排序逻辑与赋值运算符"></a>排序逻辑与赋值运算符</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天上课做题的时候碰见一个有趣的题目，关于怎么排序</p><p>这是题干：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex">请进行程序设计，从键盘上输入三个字符，根据其在计算机内的存储方式按照从小到大的顺序输出这三个字符。<br>字符输入方式可以使用scanf()或者getchar()<br>输入格式：&quot;<span class="hljs-comment">%c%c%c&quot;</span><br>输出格式：&quot;<span class="hljs-comment">%c %c %c\n&quot;</span><br></code></pre></td></tr></table></figure><p>根本不会写，后来问了豆包，我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">char</span> k,f,c,pron;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c%c%c&quot;</span>,&amp;k,&amp;f,&amp;c);<br>    <span class="hljs-keyword">if</span>(k&gt;f)&#123;<br>        pron=k;<br>        k=f;<br>        f=pron;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(k&gt;c)&#123;<br>        pron=k;<br>        k=c;<br>        c=pron;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(f&gt;c)&#123;<br>        pron=f;<br>        f=c;<br>        c=pron;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c %c\n&quot;</span>,k,f,c);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="排序逻辑"><a href="#排序逻辑" class="headerlink" title="排序逻辑"></a>排序逻辑</h3><p>核心是通过“两两比较、交换位置”的方式，把最小的放到最前面，中间的放中间，最大的放最后。</p><p>以输入的三个字符  a、b、c  为例，我们的目标是让  a ≤ b ≤ c （这里的“≤”是按字符的ASCII码比较）。</p><p>第一步：确保  a  是  a  和  b  中较小的</p><p>比如输入的  a&#x3D;’r’ 、 b&#x3D;’d’ ：</p><ul><li>因为  ‘r’ &gt; ‘d’ ，所以交换  a  和  b ，交换后  a&#x3D;’d’ 、 b&#x3D;’r’ 。</li><li>这一步完成后， a  一定是  a、b  里更小的那个。</li></ul><p>第二步：确保  a  是三个字符中最小的</p><p>经过第一步， a  已经是  a、b  里最小的了，但还要和  c  比：<br>比如现在  a&#x3D;’d’ 、 c&#x3D;’k’ ：</p><ul><li>因为  ‘d’ &lt; ‘k’ ，不需要交换；<br>如果  c  更小（比如  c&#x3D;’a’ ），就交换  a  和  c ，让  a  变成最小的。</li><li>这一步完成后， a  一定是三个字符中最小的那个。</li></ul><p>第三步：确保  b  是剩下两个里较小的</p><p>经过前两步， a  已经是最小的了，现在只需要比较  b  和  c ：<br>比如现在  b&#x3D;’r’ 、 c&#x3D;’k’ ：</p><ul><li>因为  ‘r’ &gt; ‘k’ ，交换  b  和  c ，交换后  b&#x3D;’k’ 、 c&#x3D;’r’ 。</li><li>这一步完成后， b  一定是  b、c  里更小的，而  a  已经是最小的，所以最终  a ≤ b ≤ c 。</li></ul><p>举个具体例子（对应题目输入  dnk ）</p><p>输入的三个字符是  a&#x3D;’d’ 、 b&#x3D;’n’ 、 c&#x3D;’k’ ：</p><ol><li>第一步：比较  a  和  b （ ‘d’ &lt; ‘n’ ）→ 不用交换， a&#x3D;’d’ 、 b&#x3D;’n’ ；</li><li>第二步：比较  a  和  c （ ‘d’ &lt; ‘k’ ）→ 不用交换， a  还是最小的；</li><li>第三步：比较  b  和  c （ ‘n’ &gt; ‘k’ ）→ 交换  b  和  c ，交换后  b&#x3D;’k’ 、 c&#x3D;’n’ ；</li></ol><p>最终结果就是  a&#x3D;’d’ 、 b&#x3D;’k’ 、 c&#x3D;’n’ ，输出  d k n （和题目示例一致）。</p><p>总结</p><p>这个逻辑的本质是：</p><ul><li>先把最小的字符“挑出来”放到  a  的位置；</li><li>再把剩下两个里较小的放到  b  的位置；</li><li>最后剩下的  c  自然是最大的。</li></ul><p>相当于“先定最小的，再定中间的，最后定最大的”，是不是更清楚啦~</p><h4 id="定义temp变量在这里的作用"><a href="#定义temp变量在这里的作用" class="headerlink" title="定义temp变量在这里的作用"></a>定义temp变量在这里的作用</h4><p>要理解 temp 的作用，首先得明确“交换两个变量的值”的逻辑——<strong>需要一个“临时容器”来暂存数据，避免交换时数据被覆盖丢失</strong>。</p><ol><li>temp 的含义</li></ol><p> temp 是一个临时变量（ temp 是“temporary（临时）”的缩写），用来临时存储字符的值，辅助完成两个字符变量的交换。</p><ol start="2"><li>交换的实现过程（以 if (a &gt; b) 的交换为例）</li></ol><p>假设输入的 a&#x3D;’d’ 、 b&#x3D;’n’ （实际是字符对应的ASCII码值比较， ‘d’ 的ASCII是100， ‘n’ 是110，所以 a &gt; b 不成立；这里举个反例，比如 a&#x3D;’n’ 、 b&#x3D;’d’ ，此时 a &gt; b 成立）：</p><ul><li>初始状态： a&#x3D;’n’ ， b&#x3D;’d’ </li><li>第一步： temp &#x3D; a;  → 把 a 的值（ ‘n’ ）暂存到 temp 里，此时 temp&#x3D;’n’ </li><li>第二步： a &#x3D; b;  → 把 b 的值（ ‘d’ ）赋值给 a ，此时 a&#x3D;’d’ </li><li>第三步： b &#x3D; temp;  → 把 temp 里暂存的 ‘n’ 赋值给 b ，此时 b&#x3D;’n’</li></ul><p>最终 a&#x3D;’d’ 、 b&#x3D;’n’ ，完成了 a 和 b 的交换，实现了 a ≤ b 。</p><ol start="3"><li>整个排序中 temp 的作用</li></ol><p>代码里的3次 if 判断，都是通过 temp 做“临时容器”，依次保证：</p><ul><li>第一次 if ： a  ≤  b </li><li>第二次 if ： a  ≤  c （此时 a 已经是前两个里最小的，再和 c 比较，确保 a 是三个里最小的）</li><li>第三次 if ： b  ≤  c （此时 a 是最小的，再调整 b 和 c 的顺序，最终 a ≤ b ≤ c ）</li></ul><p>简单说： temp 就像一个“中转站”，在交换两个变量时，先把其中一个值存起来，避免交换过程中数据被覆盖，从而完成两个变量的数值互换。</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>在C语言中，赋值运算符 &#x3D; 的逻辑是“把右边的值，赋给左边的变量”，核心是“右值给左变量”，所以等号两边的位置绝对不能交换，交换后逻辑会完全改变（甚至报错）。</p><p>具体逻辑关系：</p><ul><li>等号左边：必须是一个<strong>“可被赋值的变量”</strong>（也叫“左值”，是内存中有明确存储地址的容器）。</li><li>等号右边：可以是“变量、常量、表达式”（也叫“右值”，是一个具体的数值&#x2F;结果）。</li></ul><p>C语言的 <code>=</code> 是<strong>“右→左”的赋值方向</strong>，右边是“数据源”，左边是“数据的存储目标”，位置一旦颠倒，逻辑就会错误。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>fabs函数与abs函数</title>
    <link href="/2025/11/16/fabs%E5%87%BD%E6%95%B0%E4%B8%8Eabs%E5%87%BD%E6%95%B0/"/>
    <url>/2025/11/16/fabs%E5%87%BD%E6%95%B0%E4%B8%8Eabs%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="fabs函数与abs函数"><a href="#fabs函数与abs函数" class="headerlink" title="fabs函数与abs函数"></a>fabs函数与abs函数</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天在回顾我写的md时，注意到了我曾经写的一篇”震惊：fabs函数的使用注意”中对fabs函数返回值问题</p><p>瞬间，我联想到了舍友装逼写程序使用的abs函数</p><p>于是，我想看看abs函数和fabs函数有什么区别</p><p>于是我问了问AI（不要质疑我老是用AI，感觉老师也不教啊）</p><h3 id="二者的区别"><a href="#二者的区别" class="headerlink" title="二者的区别"></a>二者的区别</h3><p>在 C 语言中，<code>fabs</code> 和 <code>abs</code> 都是用于计算绝对值的函数，但它们在<strong>处理的数据类型</strong>和<strong>所属头文件</strong>上有明显区别，具体如下：</p><h4 id="1-处理的数据类型不同"><a href="#1-处理的数据类型不同" class="headerlink" title="1. 处理的数据类型不同"></a>1. 处理的数据类型不同</h4><ul><li><strong><code>abs</code> 函数</strong>：仅用于计算<strong>整数（<code>int</code> 类型）</strong> 的绝对值。例如：<code>abs(-5)</code> 的结果是 <code>5</code>（整数）。</li><li><strong><code>fabs</code> 函数</strong>：用于计算<strong>浮点数（<code>double</code> 类型）</strong> 的绝对值。例如：<code>fabs(-3.14)</code> 的结果是 <code>3.14</code>（双精度浮点数）。</li></ul><h4 id="2-所属头文件不同"><a href="#2-所属头文件不同" class="headerlink" title="2. 所属头文件不同"></a>2. 所属头文件不同</h4><ul><li><strong><code>abs</code> 函数</strong>：定义在 <code>&lt;stdlib.h&gt;</code> 头文件中，使用前需包含：<code>#include &lt;stdlib.h&gt;</code></li><li><strong><code>fabs</code> 函数</strong>：定义在 <code>&lt;math.h&gt;</code> 头文件中，使用前需包含：<code>#include &lt;math.h&gt;</code>（注意：部分编译器可能需要链接数学库，如 GCC 需加 <code>-lm</code> 选项）</li></ul><h4 id="3-扩展函数（针对其他类型）"><a href="#3-扩展函数（针对其他类型）" class="headerlink" title="3. 扩展函数（针对其他类型）"></a>3. 扩展函数（针对其他类型）</h4><p>为了处理更多数据类型，C 语言还提供了以下扩展函数：</p><ul><li><code>labs</code>：计算长整数（<code>long int</code>）的绝对值（头文件 <code>&lt;stdlib.h&gt;</code>）。</li><li><code>llabs</code>：计算长长整数（<code>long long int</code>）的绝对值（头文件 <code>&lt;stdlib.h&gt;</code>）。</li><li><code>fabsf</code>：计算单精度浮点数（<code>float</code>）的绝对值（头文件 <code>&lt;math.h&gt;</code>）。</li><li><code>fabsl</code>：计算长双精度浮点数（<code>long double</code>）的绝对值（头文件 <code>&lt;math.h&gt;</code>）。</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><table><thead><tr><th>函数</th><th>处理类型</th><th>头文件</th><th>示例</th></tr></thead><tbody><tr><td><code>abs</code></td><td><code>int</code>（整数）</td><td><code>&lt;stdlib.h&gt;</code></td><td><code>abs(-10) → 10</code></td></tr><tr><td><code>fabs</code></td><td><code>double</code>（浮点数）</td><td><code>&lt;math.h&gt;</code></td><td><code>fabs(-3.14) → 3.14</code></td></tr></tbody></table><p>使用时需根据变量类型选择对应函数，避免因类型不匹配导致错误（例如用 <code>abs</code> 处理浮点数会截断小数部分）。</p><h2 id="星皓你搞错了，abs函数是头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！"><a href="#星皓你搞错了，abs函数是头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！" class="headerlink" title="星皓你搞错了，abs函数是&lt;stdlib.h&gt;头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！"></a>星皓你搞错了，abs函数是&lt;stdlib.h&gt;头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！</h2><p>同时也要谢谢你让我学习了新知识</p><p>​（不知道星皓会不会视奸我的blog，又会不会在视奸我的时候看到这篇不起眼的markdown）</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>输入合法性的校验与条件的真假</title>
    <link href="/2025/11/16/%E8%BE%93%E5%85%A5%E5%90%88%E6%B3%95%E6%80%A7%E6%A0%A1%E9%AA%8C%E4%B8%8E%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%9C%9F%E5%81%87/"/>
    <url>/2025/11/16/%E8%BE%93%E5%85%A5%E5%90%88%E6%B3%95%E6%80%A7%E6%A0%A1%E9%AA%8C%E4%B8%8E%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%9C%9F%E5%81%87/</url>
    
    <content type="html"><![CDATA[<h1 id="输入合法性校验"><a href="#输入合法性校验" class="headerlink" title="输入合法性校验"></a>输入合法性校验</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>在学习C语言过程中，输入并判断是否是闰年的题我已经做了很多了，但今天再次做这个题的时候，涉及到了输入合法性的校验<br>这个题目要求实现对输入合法性的校验，我直接傻眼了，不会写，</p><p>这是那一题的代码，看看AI怎么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year;<br>    <span class="hljs-comment">// 读取输入并判断是否为合法整数</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;year) != <span class="hljs-number">1</span> || year &lt; <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 闰年判断逻辑</span><br>    <span class="hljs-type">int</span> is_leap = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>        is_leap = <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 输出结果</span><br>    <span class="hljs-keyword">if</span> (is_leap) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="如何实现"><a href="#如何实现" class="headerlink" title="如何实现"></a>如何实现</h3><p>这里的<code>scanf(&quot;%d&quot;, &amp;year) != 1</code>判断的是输入是否成功读取为整数，原理是利用 <code>scanf</code> 的返回值是<strong>「成功读取的变量个数」</strong>。比如 <code>scanf(&quot;%d&quot;, &amp;year) </code>尝试读取1个整数变量：</p><ul><li>如果输入的是整数（比如 2015 ），<code>scanf</code>成功读取1个变量，返回 1 ；</li><li>如果输入的不是整数（比如 a ），<code>scanf</code>无法读取，返回 0 ；</li><li>如果输入失败（比如输入结束），返回 EOF （一个负数，通常是 -1 ）。</li></ul><p>所以<code>scanf(...) != 1</code>的含义是：<code> scanf</code> 没有成功读取1个整数” → 说明输入不是合法的整数。</p><p>举个例子：</p><ul><li>当你输入 a 时， <code>scanf(&quot;%d&quot;, &amp;year)</code> 无法把 a 解析成整数，返回 0 ，此时 0 !&#x3D; 1 成立，执行 <code>printf(&quot;Input error!&quot;)</code> ；</li><li>当你输入 2016 时， <code>scanf</code> 返回 1 ， 1 !&#x3D; 1 不成立，继续执行后续逻辑。</li></ul><h3 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h3><p>如果仔细观察代码</p><p>会发现代码实现了输入合法性检验后定义了一个变量’’is_leap’’</p><p>并且后面的if语法中的条件表达式好像和老师教的不一样！！！</p><ol><li>先看 int is_leap &#x3D; 0; 的作用</li></ol><p> is_leap 是一个标志变量（用来标记“是否是闰年”）：</p><ul><li>初始值设为 0 （在C语言中， 0 代表“假”），默认假设“不是闰年”；</li><li>如果满足闰年条件，就把 is_leap 设为 1 （ 1 代表“真”），表示“是闰年”。</li></ul><ol start="2"><li>再看 if (is_leap) 的逻辑</li></ol><p>在C语言的 if 判断中，条件表达式的结果会被当作“布尔值”处理：</p><ul><li>如果条件表达式的结果是 0 ，视为“假”，不执行 if 后的代码块；</li><li>如果条件表达式的结果非0（比如 1 、 -5 等），视为“真”，执行 if 后的代码块。</li></ul><p>所以 <strong>if (is_leap) 等价于 if (is_leap !&#x3D; 0)</strong> ——判断 is_leap 的值是否“非0”：</p><ul><li>当 is_leap&#x3D;1 （满足闰年条件）时， if (is_leap) 为“真”，执行 <code>printf(&quot;Yes\n&quot;);</code> ；</li><li>当 is_leap&#x3D;0 （不满足闰年条件）时， if (is_leap) 为“假”，执行 else 后的 <code>printf(&quot;No\n&quot;);</code> 。</li></ul><h5 id="为什么这么写？"><a href="#为什么这么写？" class="headerlink" title="为什么这么写？"></a>为什么这么写？</h5><p>这是C语言中很常见的“<strong>简化写法</strong>”——当变量本身就是“标志（0&#x2F;非0）”时，直接用变量作为条件，比写 if (is_leap &#x3D;&#x3D; 1) 更简洁（逻辑完全一致）。</p><p>举个类似的例子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (flag) &#123; <span class="hljs-comment">// 等价于 if(flag != 0)</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;真\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>同理，我想起老师讲if的时候</li></ul><p>如果括号中：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (<span class="hljs-number">0</span>)&#123;<br><span class="hljs-comment">//这个中括号逼用没有，0即为假，不会执行if代码块</span><br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>如果是非0数字，比如1，100，-10086则被视为真，会继续执行if代码块</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>getchar与循环</title>
    <link href="/2025/11/14/getchar%E4%B8%8E%E5%BE%AA%E7%8E%AF/"/>
    <url>/2025/11/14/getchar%E4%B8%8E%E5%BE%AA%E7%8E%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="getchar与循环"><a href="#getchar与循环" class="headerlink" title="getchar与循环"></a>getchar与循环</h1><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>统计用户输入<br>从键盘读取用户输入直到遇到#字符，编写程序统计读取的空格数目、读取的换行符数目以及读取的所有其他字符数目。(要求用getchar()输入字符)</p><p>程序运行结果示例1：<br>Please input a string end by #:<br>abc def↙<br>jklm op↙<br>zkm #↙<br>space: 3,newline: 2,others: 15</p><p>程序运行结果示例2：<br>Please input a string end by #:<br>hello friend!#↙<br>space: 1,newline: 0,others: 12</p><p>输入格式: getchar()<br>输出格式：<br>输入提示信息：”Please input a string end by #:\n”<br>输出格式：”space: %d,newline: %d,others: %d\n”</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> space=<span class="hljs-number">0</span>,newline=<span class="hljs-number">0</span>,other=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">char</span> content;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a string end by #:\n&quot;</span>);<br>    <span class="hljs-keyword">while</span>((content=getchar())!=<span class="hljs-string">&#x27;#&#x27;</span>)&#123;<br>        <span class="hljs-keyword">if</span>(content==<span class="hljs-string">&#x27; &#x27;</span>)&#123;<br>            space++;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(content==<span class="hljs-string">&#x27;\n&#x27;</span>)&#123;<br>            newline++;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            other++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;space: %d,newline: %d,others: %d\n&quot;</span>,space,newline,other);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><h4 id="1-为什么要把content-getchar-整个括起来"><a href="#1-为什么要把content-getchar-整个括起来" class="headerlink" title="1.为什么要把content&#x3D;getchar()整个括起来"></a>1.为什么要把content&#x3D;getchar()整个括起来</h4><p><code>=</code> 是赋值运算符，优先级低于 <code>!=</code></p><h4 id="2-为什么不能在while-条件中直接定义（如-while-char-content-getchar-）"><a href="#2-为什么不能在while-条件中直接定义（如-while-char-content-getchar-）" class="headerlink" title="2.为什么不能在while 条件中直接定义（如 while (char content = getchar() != &#39;#&#39;)）"></a>2.为什么不能在while 条件中直接定义（如 <code>while (char content = getchar() != &#39;#&#39;)</code>）</h4><p>不符合 C 语言语法规范</p><h4 id="3-getchar每次只读取一个字符？"><a href="#3-getchar每次只读取一个字符？" class="headerlink" title="3.getchar每次只读取一个字符？"></a>3.getchar每次只读取一个字符？</h4><p>是的，<code>getchar()</code> 函数每次<strong>仅读取一个字符</strong>。</p><p>它的工作机制是从标准输入（通常是键盘）中读取一个字符，包括空格、换行符等所有可输入的字符，每次调用只处理一个字符。这也是我们在统计空格、换行符和其他字符时，能通过循环多次调用 <code>getchar()</code> 来逐个字符判断的原因。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>辗转相除法</title>
    <link href="/2025/11/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95/"/>
    <url>/2025/11/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="辗转相除法"><a href="#辗转相除法" class="headerlink" title="辗转相除法"></a>辗转相除法</h1><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>求最大公约数</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, b, r;<br>    a = <span class="hljs-number">27</span>, b = <span class="hljs-number">18</span>;<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>        r = a % b;  <br>        a = b;      <br>        b = r;    <br>    &#125; <span class="hljs-keyword">while</span> (r != <span class="hljs-number">0</span>);  <span class="hljs-comment">// 余数不为0时继续循环</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是：%d\n&quot;</span>, a);  <span class="hljs-comment">// 循环结束后，a就是最大公约数</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="代码分析："><a href="#代码分析：" class="headerlink" title="代码分析："></a>代码分析：</h3><ul><li>辗转相除法（欧几里得算法）</li></ul><p>核心逻辑：<br>两个数的最大公约数，等于「（较大数 ÷ 较小数）的余数」和「较小数」的最大公约数。<br>一直重复这个过程，直到余数为0，此时的“除数”就是最大公约数。</p><p>举个生活例子：<br>你有27个苹果、18个橘子，想分成一样多的份数（每份数量相同）<br>27-18&#x3D;9<br>如果能分27和18，肯定也能分剩下的9和18</p><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><p>其实我上课看到这一个题的时候第一反应使用while循环进行循环：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp, i;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>注意</strong></p><p>我第一次写这个代码的时候是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><p>我在for循环中定义int i，运行的时候提示i是未定义的标识符！！！</p><ul><li>在 C 语言中，<strong>在<code>for</code>循环的初始化部分声明的变量（如<code>int i = b</code>），其作用域仅限于<code>for</code>循环内部</strong>。当循环结束后，变量<code>i</code>就会被销毁，外部的<code>printf</code>语句无法访问到它，因此会报错 “未声明的标识符<code>i</code>”。</li></ul><p>故修改后：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp, i;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ascll码值</title>
    <link href="/2025/11/14/ascll%E7%A0%81%E5%80%BC/"/>
    <url>/2025/11/14/ascll%E7%A0%81%E5%80%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="ascll码值"><a href="#ascll码值" class="headerlink" title="ascll码值"></a>ascll码值</h1><p>ASCII 码（American Standard Code for Information Interchange，美国信息交换标准代码）是一套用于表示字符的编码系统，它规定了英文字母、数字、标点符号和控制字符与整数之间的对应关系，是计算机早期为解决字符存储和传输而制定的标准。</p><h3 id="基本特点："><a href="#基本特点：" class="headerlink" title="基本特点："></a>基本特点：</h3><ul><li>标准 ASCII 码使用 <strong>7 位二进制数</strong> 表示，因此共能表示 <code>2^7 = 128</code> 个不同的字符（取值范围 0~127）。</li><li>扩展 ASCII 码（非标准）使用 8 位二进制数，可表示 256 个字符，但不同系统可能有差异，因此通常以标准 ASCII 码为基础。</li></ul><h3 id="标准-ASCII-码的分类及常用值："><a href="#标准-ASCII-码的分类及常用值：" class="headerlink" title="标准 ASCII 码的分类及常用值："></a>标准 ASCII 码的分类及常用值：</h3><p>ASCII 码的 128 个字符可分为两大类：<strong>控制字符</strong>（不可见）和 <strong>可打印字符</strong>（可见）。</p><h4 id="1-控制字符（0-31-和-127）"><a href="#1-控制字符（0-31-和-127）" class="headerlink" title="1. 控制字符（0~31 和 127）"></a>1. 控制字符（0~31 和 127）</h4><p>这类字符不对应可见符号，主要用于控制设备（如打印机、终端）的操作，例如：</p><ul><li><code>0</code>（NUL）：空字符，用于表示字符串结束（C 语言中<code>\0</code>）。</li><li><code>10</code>（LF，<code>\n</code>）：换行符，使光标移到下一行。</li><li><code>13</code>（CR，<code>\r</code>）：回车符，使光标回到行首。</li><li><code>9</code>（HT，<code>\t</code>）：水平制表符（Tab 键），通常等价于 4 或 8 个空格。</li><li><code>127</code>（DEL）：删除字符，早期用于删除光标前的字符。</li></ul><h4 id="2-可打印字符（32-126）"><a href="#2-可打印字符（32-126）" class="headerlink" title="2. 可打印字符（32~126）"></a>2. 可打印字符（32~126）</h4><p>这类字符是可见的，包括空格、数字、字母、标点符号等，常用范围及值如下：</p><ul><li><strong>空格</strong>：<code>32</code>（唯一的空白可打印字符）。</li><li><strong>数字 0~9</strong>：<code>48~57</code>（连续排列，<code>&#39;0&#39;=48</code>，<code>&#39;1&#39;=49</code>，…，<code>&#39;9&#39;=57</code>）。</li><li><strong>大写字母 A~Z</strong>：<code>65~90</code>（连续排列，<code>&#39;A&#39;=65</code>，<code>&#39;B&#39;=66</code>，…，<code>&#39;Z&#39;=90</code>）。</li><li><strong>小写字母 a~z</strong>：<code>97~122</code>（连续排列，<code>&#39;a&#39;=97</code>，<code>&#39;b&#39;=98</code>，…，<code>&#39;z&#39;=122</code>）。</li><li><strong>标点符号</strong>：例如 <code>&#39;!&#39;=33</code>、<code>&#39;+&#39;=43</code>、<code>&#39;,&#39;=44</code>、<code>&#39;=&#39;=61</code>、<code>&#39;?&#39;=63</code> 等。</li></ul><h3 id="重要规律："><a href="#重要规律：" class="headerlink" title="重要规律："></a>重要规律：</h3><ul><li>数字、大写字母、小写字母的 ASCII 码值都是 <strong>连续递增</strong> 的，这一特性在编程中非常实用。例如：<ul><li>可通过 <code>字符 - &#39;0&#39;</code> 将数字字符（如 <code>&#39;5&#39;</code>）转换为整数（如 <code>5</code>），因为 <code>&#39;5&#39; - &#39;0&#39; = 53 - 48 = 5</code>。</li><li>大写字母转小写字母可直接 <code>+32</code>（如 <code>&#39;A&#39; + 32 = &#39;a&#39;</code>），反之 <code>-32</code>。</li></ul></li></ul><h3 id="在编程中的作用："><a href="#在编程中的作用：" class="headerlink" title="在编程中的作用："></a>在编程中的作用：</h3><p>在 C、Python 等语言中，字符本质上以 ASCII 码值（整数）存储，因此可以直接对字符进行整数运算。例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 判断字符是否为大写字母</span><br><span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123; ... &#125;<br><br><span class="hljs-comment">// 数字字符转整数</span><br><span class="hljs-type">int</span> num = <span class="hljs-string">&#x27;7&#x27;</span> - <span class="hljs-string">&#x27;0&#x27;</span>;  <span class="hljs-comment">// num = 7</span><br></code></pre></td></tr></table></figure><h3 id="常见题目："><a href="#常见题目：" class="headerlink" title="常见题目："></a>常见题目：</h3><p>将输入的大写字母转换为小写字母，并输出小写字母 ASCII 码值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> upper_char, lower_char;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个大写字母：&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c&quot;</span>, &amp;upper_char);<br><br>    <span class="hljs-comment">// 检查输入是否为大写字母</span><br>    <span class="hljs-keyword">if</span> (upper_char &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; upper_char &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123;<br>        <span class="hljs-comment">// 大写转小写（ASCII码值 + 32）</span><br>        lower_char = upper_char + <span class="hljs-number">32</span>;<br>        <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;对应的小写字母是：%c\n&quot;</span>, lower_char);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;该小写字母的ASCII码值是：%d\n&quot;</span>, lower_char);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入错误，请输入大写字母（A-Z）！\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>当使用 <code>%d</code> 格式输出时，会自动将其转换为对应的整数值（ASCII码），而使用 <code>%c</code> 格式时则显示为字符本身。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环中的递推</title>
    <link href="/2025/11/14/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E9%80%92%E6%8E%A8/"/>
    <url>/2025/11/14/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E9%80%92%E6%8E%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="循环中的递推"><a href="#循环中的递推" class="headerlink" title="循环中的递推"></a>循环中的递推</h1><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>输入一正整数 k，求出它是几位数，并按逆序输出该数。</p><p>例如，<br>原数是 321，应输出 123</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> k, count = <span class="hljs-number">0</span>, reverse_num = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个正整数：&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>    <span class="hljs-keyword">while</span> (k &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-type">int</span> digit = k % <span class="hljs-number">10</span>;  <span class="hljs-comment">// 取最后一位数字</span><br>        reverse_num = reverse_num * <span class="hljs-number">10</span> + digit;  <span class="hljs-comment">// 拼接逆序数字</span><br>        k = k / <span class="hljs-number">10</span>;  <span class="hljs-comment">// 去掉最后一位</span><br>        count++;  <span class="hljs-comment">// 位数加1</span><br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;该数是%d位数，逆序输出为%d\n&quot;</span>, count, reverse_num);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><p>这里运用了递推的方法</p><ol><li>取最后一位数字</li><li>将已经得到的数字*10，空出个位，再加上取得的最后一位数字</li><li>去掉取得的最后一位数字，以此往复</li></ol><p>因为我上课时想半天没有想出来递推，一直在想我那几把数组，故特此记笔记！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>计算天数（progress）</title>
    <link href="/2025/11/11/%E8%AE%A1%E7%AE%97%E5%A4%A9%E6%95%B0%EF%BC%88progress%EF%BC%89/"/>
    <url>/2025/11/11/%E8%AE%A1%E7%AE%97%E5%A4%A9%E6%95%B0%EF%BC%88progress%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="计算天数（progress）"><a href="#计算天数（progress）" class="headerlink" title="计算天数（progress）"></a>计算天数（progress）</h1><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>请用循环语句进行程序设计(也可能用到if或switch语句)，实现从键盘上输入一个日期，日期格式为：2018-7-9，判断这一天是这一年中的第几天。</p><p>注：本题涉及到闰年、平年的判断，已知符合下列条件之一者是润年：<br>   （1）能被4整除，但不能被100整除；<br>   （2）能被400整除。</p><p>输入提示信息：”Please Input the Date:\n”<br>输入格式：”%d-%d-%d”<br>输出格式：”Result&#x3D;%d\n”<br>如果输入月份不在1到12月份之间输出错误提示信息”Input error!\n”<br>(注：为了便于实现，本题暂不考虑日的合法性)<br>输入输出用例1：<br>Please Input the Date:<br>2010-10-2<br>Result&#x3D;275</p><p>输入输出用例2：<br>Please Input the Date:<br>2000-4-5<br>Result&#x3D;96<br>输入输出用例3：<br>Please Input the date:<br>2017-17-2<br>Input error!</p><h3 id="我写的代码："><a href="#我写的代码：" class="headerlink" title="我写的代码："></a>我写的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> result = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> uncertian;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);<br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month&gt;<span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">do</span> &#123;<br>            <span class="hljs-keyword">if</span> (i &lt; month) &#123;<br>                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span> || i == <span class="hljs-number">3</span> || i == <span class="hljs-number">5</span> || i == <span class="hljs-number">7</span> || i == <span class="hljs-number">8</span> || i == <span class="hljs-number">10</span> || i == <span class="hljs-number">12</span>) &#123;<br>                    result = result + <span class="hljs-number">31</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span>) &#123;<br>                    uncertian = (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span> ? <span class="hljs-number">29</span> : <span class="hljs-number">28</span>;<br>                    result = result + uncertian;<br>                &#125;<br>                <span class="hljs-keyword">else</span> &#123;<br>                    result = result + <span class="hljs-number">30</span>;<br>                &#125;<br>            &#125;<br>            i++;<br>        &#125; <span class="hljs-keyword">while</span> (i &lt;= month);<br>        result = result + day;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, result);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>仅仅用了30多行，但是还是感觉很麻烦</p><h4 id="代码修改"><a href="#代码修改" class="headerlink" title="代码修改"></a>代码修改</h4><p>于是我让豆包进行修改：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> day_of_year = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 存储一年中的第几天</span><br>    <span class="hljs-type">int</span> i;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);  <span class="hljs-comment">// 标准编译器使用scanf即可</span><br><br>    <span class="hljs-comment">// 检查月份合法性</span><br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month &gt; <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 累加前几个月的天数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; month; i++) &#123;<br>        <span class="hljs-keyword">switch</span> (i) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                day_of_year += <span class="hljs-number">31</span>;  <span class="hljs-comment">// 大月</span><br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                day_of_year += <span class="hljs-number">30</span>;  <span class="hljs-comment">// 小月</span><br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:  <span class="hljs-comment">// 二月，判断闰年</span><br>                <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>                    day_of_year += <span class="hljs-number">29</span>;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    day_of_year += <span class="hljs-number">28</span>;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 加上当月的天数</span><br>    day_of_year += day;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, day_of_year);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用for循环；使用switch替代多个if和if else</p><p>增加了代码的可读性，对比起来我写的已经很不错了</p><h4 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h4><p>我没有按照题目中的swich要求写代码，是因为不知道case还能并列</p><ul><li>在 C 语言的 <code>switch</code> 语句中，多个 <code>case</code> 可以并列使用，这是一种常见的语法特性，用于表示 “多个条件执行相同的操作”</li></ul><p>例如代码中的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>    total_days += <span class="hljs-number">31</span>;<br>    <span class="hljs-keyword">break</span>;<br></code></pre></td></tr></table></figure><p>表示当 <code>i</code> 的值是 1、3、5、7、8、10、12 中的任意一个时，都会执行 <code>total_days += 31;</code> 这条语句。</p><p>原理是：<code>case</code> 标签本身只是一个 “入口点”，如果没有 <code>break</code> 语句，程序会从匹配的 <code>case</code> 开始往下执行所有后续代码。因此，将多个 <code>case</code> 并列且不写中间的 <code>break</code>，就能实现 “多个值对应同一操作” 的效果，这样写比每个 <code>case</code> 单独写一遍相同的代码更简洁。</p><p>这种写法完全符合 C 语言语法规范，且在处理 “多个条件对应同一逻辑” 的场景时非常实用（比如这里的 “大月都有 31 天”）。</p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol><li>以后遇到月份的问题可以使用switch语法</li><li>case可以并列使用，作用可以替代if条件判断句中的condition1 || condition2 || condition3 ||…….</li></ol><hr><hr><h3 id="AI写的代码"><a href="#AI写的代码" class="headerlink" title="AI写的代码"></a>AI写的代码</h3><p>我直接把题目喂给AI：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> days_in_month[] = &#123;<span class="hljs-number">31</span>, <span class="hljs-number">28</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>&#125;;<br>    <span class="hljs-type">int</span> total_days = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> i;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);<br><br>    <span class="hljs-comment">// 检查月份是否合法</span><br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month &gt; <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 判断是否为闰年，调整2月天数</span><br>    <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>        days_in_month[<span class="hljs-number">1</span>] = <span class="hljs-number">29</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 使用循环计算前几个月的总天数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; month - <span class="hljs-number">1</span>; i++) &#123;<br>        total_days += days_in_month[i];<br>    &#125;<br><br>    <span class="hljs-comment">// 加上当月的天数</span><br>    total_days += day;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, total_days);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>密码的，竟然使用了禁忌的力量—数组！</p><p>看来数组是真好用</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>计算数字位数</title>
    <link href="/2025/11/11/%E8%AE%A1%E7%AE%97%E4%BD%8D%E6%95%B0/"/>
    <url>/2025/11/11/%E8%AE%A1%E7%AE%97%E4%BD%8D%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="计算数字位数"><a href="#计算数字位数" class="headerlink" title="计算数字位数"></a>计算数字位数</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>早就想知道怎么实现了，今天恰好碰到了这个题：</p><blockquote><p>判断一个整型数据有几位v2.0<br>从键盘输入一个整型数据(int型)，用switch语句和循环语句编写程序判断该整数共有几位，并输出包含各个数字的个数。例如，从键盘输入整数16644,该整数共有5位，其中有1个1,2个6,2个4。</p><p>程序运行结果示例1：<br>Please enter the number:<br>12226↙<br>12226: 5 bits<br>1: 1<br>2: 3<br>6: 1</p><p>程序运行结果示例2：<br>Please enter the number:<br>-12243↙<br>-12243: 5 bits<br>1: 1<br>2: 2<br>3: 1<br>4: 1</p><p>输入格式: “%d”<br>输出格式：<br>输入提示信息：”Please enter the number:\n”<br>判断该整数共有几位：”%d: %d bits\n”<br>包含数字0的个数：”0: %d\n”<br>包含数字1的个数：”1: %d\n”<br>包含数字2的个数：”2: %d\n”<br>包含数字3的个数：”3: %d\n”<br>包含数字4的个数：”4: %d\n”<br>包含数字5的个数：”5: %d\n”<br>包含数字6的个数：”6: %d\n”<br>包含数字7的个数：”7: %d\n”<br>包含数字8的个数：”8: %d\n”<br>包含数字9的个数：”9: %d\n”</p></blockquote><h3 id="我写的代码"><a href="#我写的代码" class="headerlink" title="我写的代码"></a>我写的代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num, current;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> zero = <span class="hljs-number">0</span>, one = <span class="hljs-number">0</span>, two = <span class="hljs-number">0</span>, three = <span class="hljs-number">0</span>, four = <span class="hljs-number">0</span>, five = <span class="hljs-number">0</span>, six = <span class="hljs-number">0</span>, seven = <span class="hljs-number">0</span>, eight = <span class="hljs-number">0</span>, nine = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please enter the number:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>    current = <span class="hljs-built_in">fabs</span>(num);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;;i++) &#123;<br>        <span class="hljs-keyword">switch</span> (current % <span class="hljs-number">10</span>) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>            zero++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>            one++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>            two++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>            three++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>            four++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>            five++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>            six++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>            seven++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>            eight++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>            nine++;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        current = current / <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d bits\n&quot;</span>, num, i);<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (zero != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0: %d\n&quot;</span>, zero);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (one != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;1: %d\n&quot;</span>, one);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (two != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;2: %d\n&quot;</span>, two);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (three != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;3: %d\n&quot;</span>, three);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (four != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;4: %d\n&quot;</span>, four);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (five != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5: %d\n&quot;</span>, five);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (six != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;6: %d\n&quot;</span>, six);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (seven != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7: %d\n&quot;</span>, seven);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (eight != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;8: %d\n&quot;</span>, eight);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (nine != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;9: %d\n&quot;</span>, nine);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>还是屎山代码~~，我怎么只会这么写！</p><h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num, current;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> count[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please enter the number:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>    current = <span class="hljs-built_in">fabs</span>(num);<br><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;; i++) &#123;<br>        count[current % <span class="hljs-number">10</span>]++;<br>current = current / <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d bits\n&quot;</span>, num, i);<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (count[i] != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d\n&quot;</span>, i, count[i]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>看看我自己写的80行，AI写的才30行</p><p>利用<strong>数组</strong>代替10个单独变量，大幅简化代码</p><p>我们可以把数组想象成一排 “小盒子”，每个盒子都有一个编号（就是<code>[]</code>里的数字，叫 “下标”），盒子里可以放一个值。</p><p>以代码里的<code>count[10]</code>为例：</p><ul><li>它有 10 个小盒子，编号是<code>0</code>到<code>9</code>（<strong>注意</strong>：数组下标从 0 开始，不是 1）。</li><li>每个盒子专门用来记一个数字出现的次数：<code>count[0]</code>记数字 0 出现几次，<code>count[1]</code>记数字 1 出现几次……<code>count[9]</code>记数字 9 出现几次。</li></ul><p>举个生活例子：假设你在统计班级同学的生日月份，1 月到 12 月。你可以准备 12 个盒子，编号 1 到 12。</p><ul><li>有人说 “我 1 月生日”，就往编号 1 的盒子里放 1 个小球。</li><li>又有人说 “我 1 月生日”，再往编号 1 的盒子里放 1 个小球（现在里面有 2 个）。</li><li>有人说 “3 月生日”，往编号 3 的盒子里放 1 个小球……</li></ul><p>这里的 “盒子编号” 就相当于数组的<code>[]</code>里的下标，“盒子里的小球数量” 就是数组元素的值。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>计算输入的数字有几位时写的代码很好</li><li>但因为不会数组，导致自己写的计算数字出现的次数的代码的时候极为复杂</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数组</title>
    <link href="/2025/11/11/%E6%95%B0%E7%BB%84/"/>
    <url>/2025/11/11/%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="初窥门径"><a href="#初窥门径" class="headerlink" title="初窥门径"></a>初窥门径</h2><p>我在计算天数，和计算位数的md中都接触了数组</p><p>包括可汗大点兵中的数组</p><p>所记下来的笔记：</p><h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>​int days_in_month[] &#x3D; {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};</p><p>​和 </p><p>​int count[10] &#x3D; { 0 }; </p><p>​这两个数组用法有什么不同，这个[]里面和{}的区别与联系</p><h4 id="回答："><a href="#回答：" class="headerlink" title="回答："></a>回答：</h4><h6 id="1-本质区别"><a href="#1-本质区别" class="headerlink" title="1. 本质区别"></a>1. 本质区别</h6><ol><li><strong><code>days_in_month[]</code> 的特点</strong><ul><li>数组初始化时明确指定了每个元素的值 <code>&#123;31, 28, ..., 31&#125;</code>，共 12 个元素。</li><li>数组声明时 <code>[]</code> 内未写长度，编译器会根据初始化列表中元素的数量（12 个）自动推断数组长度为 12。</li><li>用途是存储每个月的天数（非闰年），元素值是预先确定的固定值。</li></ul></li><li><strong><code>count[10] = &#123;0&#125;</code> 的特点</strong><ul><li>数组声明时 <code>[]</code> 内明确指定了长度为 10，即数组有 10 个元素。</li><li>初始化列表只给了一个值 <code>0</code>，根据 C 语言规则：<strong>未明确初始化的元素会被自动赋为 0</strong>（对于全局 &#x2F; 静态数组）或默认值（局部数组未初始化时是随机值，但这里显式初始化了第一个元素，其余会被补 0）。</li><li>用途通常是作为计数器，初始化为全 0 方便后续累加。</li></ul></li></ol><h6 id="2-联系"><a href="#2-联系" class="headerlink" title="2. 联系"></a>2. 联系</h6><ul><li>两者配合使用完成数组的声明与初始化：<code>类型 数组名[长度] = &#123;初始化值&#125;;</code>。</li><li>当 <code>[]</code> 省略长度时，<code>&#123;&#125;</code> 中元素的数量直接决定数组的长度（如 <code>days_in_month</code> 因 <code>&#123;&#125;</code> 中有 12 个值，故长度为 12）。</li><li>当 <code>[]</code> 指定长度时，<code>&#123;&#125;</code> 中值的数量可以少于该长度，未指定的元素会被自动初始化（数值型数组补 0，字符数组补 <code>&#39;\0&#39;</code> 等）。</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li><code>[]</code> 负责定义数组的长度（容量），<code>&#123;&#125;</code> 负责给数组元素赋初始值。</li><li><code>days_in_month[]</code> 依赖 <code>&#123;&#125;</code> 中的元素数量确定长度，且所有元素都显式初始化；<code>count[10] = &#123;0&#125;</code> 明确指定了长度，仅显式初始化第一个元素，其余自动补 0。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环嵌套</title>
    <link href="/2025/11/10/%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/"/>
    <url>/2025/11/10/%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/</url>
    
    <content type="html"><![CDATA[<h1 id="循环嵌套"><a href="#循环嵌套" class="headerlink" title="循环嵌套"></a>循环嵌套</h1><h2 id="一、题目"><a href="#一、题目" class="headerlink" title="一、题目"></a>一、题目</h2><p>求 s &#x3D; a+aa+aaa+… …+aaa…a的值，其中a是一个数字，如2+22+222+2222,a的值和加数个数n，均从键盘获取。要求a属于[1,9],n小于10（如果不满足此条件，就重新输入）。<br>输入：输入a值和n值<br>输入提示信息：”Please input a:”<br>输入格式：”%d”<br>输入提示信息：”Please input n:”<br>输入格式：”%d”</p><p>输出：算式及和<br>输出提示信息：<br>“Sum&#x3D;算式”，输出格式提示：采用 “Sum&#x3D;”,  “%ld”, “+%ld”<br>“Sum&#x3D;和”，输出格式”\nSum&#x3D;%ld\n”</p><p>程序运行示例：<br>Please input a:8<br>Please input n:9<br>Sum&#x3D;8+88+888+8888+88888+888888+8888888+88888888+888888888<br>Sum&#x3D;987654312</p><h2 id="二、我写的代码"><a href="#二、我写的代码" class="headerlink" title="二、我写的代码"></a>二、我写的代码</h2><p>这是我的写的第一个双循环，总共花了我一个小时，中途没有借助豆包等大语言模型，仅仅使用了visual studio实现了代码的逐句执行</p><p>以下是我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">2</span>, j = <span class="hljs-number">1</span>, k, p = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> solo = <span class="hljs-number">0</span>, each = <span class="hljs-number">0</span>, Sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=%d&quot;</span>, a);<br>    <span class="hljs-keyword">while</span> (i &lt;= n) &#123;<span class="hljs-comment">//打印的循环</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%d&quot;</span>, a);<br>        <span class="hljs-keyword">while</span> (j &lt;= i - <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br>            j++;<br>        &#125;<br>        j = <span class="hljs-number">1</span>;<br>        i++;<br>    &#125;<span class="hljs-comment">//计算的循环</span><br>    <span class="hljs-keyword">for</span> (k = <span class="hljs-number">1</span>;k &lt;= n;k++) &#123;<br>        <span class="hljs-keyword">while</span> (p &lt;= k) &#123;<br>            solo = a * <span class="hljs-built_in">pow</span>(<span class="hljs-number">10</span>, p - <span class="hljs-number">1</span>);              <span class="hljs-comment">//solo为每一项的每一位！</span><br>            each += solo; <span class="hljs-comment">//each为每一项</span><br>            p++;<br>        &#125;<br>        Sum += each;<span class="hljs-comment">//sum把每一项加起来</span><br>        p = <span class="hljs-number">1</span>;<span class="hljs-comment">//必要的归位，不然每一次循环后p都不是从1开始自加到k</span><br>        each = <span class="hljs-number">0</span>;<span class="hljs-comment">//同理避免计算下一项的时候下一项已经有初始值了</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nSum=%ld\n&quot;</span>, Sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>虽然很复杂，但总归是实现了题目中的要求。</p><h2 id="三、自我反思"><a href="#三、自我反思" class="headerlink" title="三、自我反思"></a>三、自我反思</h2><p>我所反思出来的：</p><ul><li><p><strong>优点</strong></p><ul><li>“Sum&#x3D;算式”这部分代码应该是最简，可读性也高</li></ul></li><li><p><strong>缺点</strong></p><ul><li>“Sum&#x3D;和” 这部分代码可读性低</li><li>被迫使用了pow函数，有没有更好的解决方法？</li><li>p和each需要归位，我觉得有更好的解决方法</li><li>变量太多，可读性差</li></ul></li></ul><p></p><h2 id="四、自我优化"><a href="#四、自我优化" class="headerlink" title="四、自我优化"></a>四、自我优化</h2><p>优化个蛋，我什么都不懂，感觉改不了，直接甩给豆包吧！</p><h2 id="五、求助豆包"><a href="#五、求助豆包" class="headerlink" title="五、求助豆包"></a>五、求助豆包</h2><p>你的代码存在几个问题，以下是具体分析和修改后的代码：</p><h3 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h3><ol><li><strong>输入合法性校验缺失</strong>：没有对输入的<code>a</code>（需在 [1,9]）和<code>n</code>（需小于 10）进行校验，不符合题目要求。</li><li><strong>算式输出逻辑复杂且低效</strong>：使用嵌套循环打印每一项，实际上可以通过迭代计算每一项的值并直接打印。</li><li><strong>计算精度问题</strong>：使用<code>pow(10, p-1)</code>可能因浮点数精度误差导致计算错误，建议用整数迭代计算。</li><li><strong>变量类型问题</strong>：当<code>a=9</code>且<code>n=9</code>时，和为 987654312，超过<code>int</code>类型的最大范围（2147483647 在某些环境下可能刚好，但为保险起见应使用<code>long</code>类型）。</li></ol><h3 id="修改后的代码："><a href="#修改后的代码：" class="headerlink" title="修改后的代码："></a>修改后的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-comment">// 输入a并校验</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    &#125; <span class="hljs-keyword">while</span> (a &lt; <span class="hljs-number">1</span> || a &gt; <span class="hljs-number">9</span>); <span class="hljs-comment">// 确保a在[1,9]</span><br><br>    <span class="hljs-comment">// 输入n并校验</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    &#125; <span class="hljs-keyword">while</span> (n &gt;= <span class="hljs-number">10</span>); <span class="hljs-comment">// 确保n小于10</span><br><br>    <span class="hljs-type">long</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">long</span> current = <span class="hljs-number">0</span>; <span class="hljs-comment">// 存储当前项（如8,88,888等）</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        current = current * <span class="hljs-number">10</span> + a; <span class="hljs-comment">// 迭代计算当前项，避免浮点数误差</span><br>        sum += current;<br><br>        <span class="hljs-comment">// 打印算式，第一项不打印&quot;+&quot;，后续项前加&quot;+&quot;</span><br>        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%ld&quot;</span>, current);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%ld&quot;</span>, current);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 打印总和</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nSum=%ld\n&quot;</span>, sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="关键改进："><a href="#关键改进：" class="headerlink" title="关键改进："></a>关键改进：</h3><ol><li><strong>增加输入校验</strong>：使用<code>do-while</code>循环确保<code>a</code>和<code>n</code>满足题目要求的范围。</li><li><strong>简化算式输出</strong>：通过<code>current = current * 10 + a</code>迭代计算每一项（如 8→88→888），直接打印该值，避免嵌套循环。</li><li><strong>避免精度问题</strong>：用整数迭代替代<code>pow</code>函数，确保计算准确。</li><li><strong>使用长整数类型</strong>：<code>long</code>类型能容纳更大的计算结果，避免溢出。</li></ol><p>程序运行示例与题目要求一致，且输入不合法时会重新提示输入。</p><h2 id="六、自我改正"><a href="#六、自我改正" class="headerlink" title="六、自我改正"></a>六、自我改正</h2><p>重新自己写了一份：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> each=<span class="hljs-number">0</span>,sum=<span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=&quot;</span>);<br><br>    <span class="hljs-keyword">while</span> (i &lt;= n) &#123;<br>        each = each * <span class="hljs-number">10</span> + a;<br>        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%d&quot;</span>, each);<br>        &#125;<br>        i++;<br>        sum += each;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum=%d&quot;</span>, sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>只是没有用豆包给的for循环，我用的while，确实简单很多了！！！</p><ol><li>实现了每一项的叠加，这种每一项既可用于打印，也可用于求和</li><li>在循环中使用了if，将第一项的打印特殊化，避免另外说明</li></ol><h2 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h2><ul><li>先分析每一项与前一项的关系，是否可以通过方程迭代</li><li>尽量把每一项表示出来，会方便很多</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>水仙花数</title>
    <link href="/2025/11/10/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/"/>
    <url>/2025/11/10/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="水仙花数"><a href="#水仙花数" class="headerlink" title="水仙花数"></a>水仙花数</h1><h3 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h3><ul><li>水仙花数（narcissistic number）也叫“自恋数”，指一个n位数，各位数字的n次幂之和恰好等于它本身。</li></ul><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> gw, sw, bw;<br><span class="hljs-keyword">do</span>&#123;<br>gw = a % <span class="hljs-number">10</span>;<br>sw = a / <span class="hljs-number">10</span> % <span class="hljs-number">10</span>;<br>bw = a / <span class="hljs-number">100</span> % <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">pow</span>(gw, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(sw, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(bw, <span class="hljs-number">3</span>) == a) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d是水仙花数\n&quot;</span>,a);<br>a++;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>a++;<br>&#125;<br>&#125; <span class="hljs-keyword">while</span> (a &lt;= <span class="hljs-number">999</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>输入月份判断天数</title>
    <link href="/2025/11/10/%E8%BE%93%E5%85%A5%E6%9C%88%E4%BB%BD%E5%88%A4%E6%96%AD%E5%A4%A9%E6%95%B0/"/>
    <url>/2025/11/10/%E8%BE%93%E5%85%A5%E6%9C%88%E4%BB%BD%E5%88%A4%E6%96%AD%E5%A4%A9%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="输入月份判断天数"><a href="#输入月份判断天数" class="headerlink" title="输入月份判断天数"></a>输入月份判断天数</h1><h3 id="代码要求"><a href="#代码要求" class="headerlink" title="代码要求"></a>代码要求</h3><ul><li>判断闰年</li><li>判断大小月</li><li>使用switch（我觉得没必要）</li></ul><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> big=<span class="hljs-number">31</span>, small=<span class="hljs-number">30</span>, two29=<span class="hljs-number">29</span>, two28=<span class="hljs-number">28</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d&quot;</span>, &amp;year, &amp;month);<br>    <span class="hljs-keyword">switch</span> (month) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, (year%<span class="hljs-number">4</span>==<span class="hljs-number">0</span>&amp;&amp;year%<span class="hljs-number">100</span>!=<span class="hljs-number">0</span>) || year%<span class="hljs-number">400</span>==<span class="hljs-number">0</span> ? two29 : two28);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">default</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="亮点！！！"><a href="#亮点！！！" class="headerlink" title="亮点！！！"></a>亮点！！！</h4><p>我第一次使用了三目运算符！！！</p><p>见第14行代码：</p><blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, (year%<span class="hljs-number">4</span>==<span class="hljs-number">0</span>&amp;&amp;year%<span class="hljs-number">100</span>!=<span class="hljs-number">0</span>) || year%<span class="hljs-number">400</span>==<span class="hljs-number">0</span> ? two29 : two28);<br></code></pre></td></tr></table></figure></blockquote><p>实现判断闰年并同时输出2月的天数</p><h4 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h4><p>这是我第一反应想写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> big = <span class="hljs-number">31</span>, small = <span class="hljs-number">30</span>, two29 = <span class="hljs-number">29</span>, two28 = <span class="hljs-number">28</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d-%d&quot;</span>, &amp;year, &amp;month);<br>    <span class="hljs-keyword">if</span> (month == <span class="hljs-number">1</span> || month == <span class="hljs-number">3</span> || month == <span class="hljs-number">5</span> || month == <span class="hljs-number">7</span> || month == <span class="hljs-number">8</span> || month == <span class="hljs-number">10</span> || month == <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (month == <span class="hljs-number">4</span> || month == <span class="hljs-number">6</span> || month == <span class="hljs-number">9</span> || month == <span class="hljs-number">11</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (month == <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">if</span> (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, two29);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, two28);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>确实。可读性没有用switch那么高.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>日历calender</title>
    <link href="/2025/11/10/%E6%97%A5%E5%8E%86calender/"/>
    <url>/2025/11/10/%E6%97%A5%E5%8E%86calender/</url>
    
    <content type="html"><![CDATA[<h1 id="日历calender"><a href="#日历calender" class="headerlink" title="日历calender"></a>日历calender</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天做火车回武汉，在车上无聊，想起来老师教的，用C语言写日历，我便试了试。</p><p>但是考虑到每月有30天，也有31天的，年还有闰年的，我只写了2025年一月和二月的日历</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> year;<br><span class="hljs-type">int</span> i,j=<span class="hljs-number">1</span>,g=<span class="hljs-number">1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;seven one   two   three four  five  six\n                  &quot;</span>);<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;i &lt;= <span class="hljs-number">31</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%2.d    &quot;</span>, j);<br>j++;<br><span class="hljs-keyword">if</span> ((i + <span class="hljs-number">7</span>) % <span class="hljs-number">7</span> == <span class="hljs-number">4</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n    &quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= <span class="hljs-number">28</span>;k++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%2.d    &quot;</span>, g);<br>g++;<br><span class="hljs-keyword">if</span> ((k + <span class="hljs-number">7</span>) % <span class="hljs-number">7</span> == <span class="hljs-number">1</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>金字塔</title>
    <link href="/2025/11/10/%E7%94%9F%E6%88%90%E9%87%91%E5%AD%97%E5%A1%94Pyramid/"/>
    <url>/2025/11/10/%E7%94%9F%E6%88%90%E9%87%91%E5%AD%97%E5%A1%94Pyramid/</url>
    
    <content type="html"><![CDATA[<h1 id="让电脑生成金字塔Pyramid"><a href="#让电脑生成金字塔Pyramid" class="headerlink" title="让电脑生成金字塔Pyramid"></a>让电脑生成金字塔Pyramid</h1><h4 id="老师上课讲过这个代码"><a href="#老师上课讲过这个代码" class="headerlink" title="- 老师上课讲过这个代码"></a>- 老师上课讲过这个代码</h4><p>现在在回武汉的火车上，于是复刻了一下，听课的时候感觉很难，但其实理清楚</p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="- 代码实现"></a>- 代码实现</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> n,i,j,k;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-keyword">for</span> (j = <span class="hljs-number">1</span>;j &lt;= n - i;j++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (k = <span class="hljs-number">1</span>;k &lt;= <span class="hljs-number">2</span> * i - <span class="hljs-number">1</span>;k++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*&quot;</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这不最近老是用scanf输入吗，突发奇想试一试用getchar输入，结果好像发现我学的知识只能让我输入0-9的数字，以后再学吧。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>可汗大点兵</title>
    <link href="/2025/11/10/%E5%8F%AF%E6%B1%97%E5%A4%A7%E7%82%B9%E5%85%B5/"/>
    <url>/2025/11/10/%E5%8F%AF%E6%B1%97%E5%A4%A7%E7%82%B9%E5%85%B5/</url>
    
    <content type="html"><![CDATA[<h1 id="可汗大点兵"><a href="#可汗大点兵" class="headerlink" title="可汗大点兵"></a>可汗大点兵</h1><p>妈的，都不想做早操是吧，现在挑出宿舍里面两个人去做操!</p><h4 id="代码1"><a href="#代码1" class="headerlink" title="代码1"></a>代码1</h4><p>这个是王柏森写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>num = rand()%<span class="hljs-number">6</span>+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">switch</span> (num) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;去做早操&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这个代码很简单，用了我的毕生所学，但代码具有局限性，每次只能选出一个人。</p><p>我觉得还行吧~</p><p>后面针对问题修改了一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num1,num2;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>num1 = rand() % <span class="hljs-number">6</span> + <span class="hljs-number">1</span>;<br>num2 = rand() % <span class="hljs-number">6</span> + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">switch</span> (num1) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">switch</span> (num2) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;去做早操&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>我勒个豆，什么<strong>屎山代码</strong></p><p>虽然实现了一次选两个人出来，但是无法避免所选的两个人一样的情况，看看别人写的：</p><h4 id="代码2"><a href="#代码2" class="headerlink" title="代码2"></a>代码2</h4><p>这是我舍友 王星皓 写的代码，他真是一个IT天才</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">char</span> name[<span class="hljs-number">6</span>][<span class="hljs-number">20</span>]=&#123;<span class="hljs-string">&quot;莫奈&quot;</span>,<span class="hljs-string">&quot;石安锐&quot;</span>,<span class="hljs-string">&quot;肖鑫灿&quot;</span>,<span class="hljs-string">&quot;姚祉恒&quot;</span>,<span class="hljs-string">&quot;王星皓&quot;</span>,<span class="hljs-string">&quot;王柏森&quot;</span>&#125;;<span class="hljs-comment">//6个元素，每个元素20个字符              </span><br><span class="hljs-type">int</span> idx1,idx2;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>)); <span class="hljs-comment">//以当前时间生成随机数</span><br>idx1 = rand() % <span class="hljs-number">6</span>; <span class="hljs-comment">//得出一个0-5的数</span><br><span class="hljs-keyword">do</span>&#123;<br>idx2 = rand() % <span class="hljs-number">6</span>; <br>&#125; <span class="hljs-keyword">while</span>(idx1==idx2); <span class="hljs-comment">//确保不重复</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;人见人爱的早操究竟花落谁家呢\n&quot;</span>);<br>sleep(<span class="hljs-number">3</span>); <span class="hljs-comment">//暂停3秒钟</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;今日幸运儿：%s,%s\n&quot;</span>,name[idx1],name[idx2]);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>生成一个随机数</title>
    <link href="/2025/11/05/%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E6%95%B0/"/>
    <url>/2025/11/05/%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="利用time-h函数生成一个随机数"><a href="#利用time-h函数生成一个随机数" class="headerlink" title="利用time.h函数生成一个随机数"></a>利用<code>time.h</code>函数生成一个随机数</h1><h3 id="生成一个”随机数”："><a href="#生成一个”随机数”：" class="headerlink" title="生成一个”随机数”："></a>生成一个”随机数”：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 包含rand()、srand()的头文件</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num;<br>num = rand();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, num);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//直接运行，得到41</span><br><span class="hljs-comment">//再次运行，得到41</span><br><span class="hljs-comment">//再再再次运行，还是得到41</span><br></code></pre></td></tr></table></figure><p>会发现这个随机数有个蛋用！！！</p><h3 id="问题根源"><a href="#问题根源" class="headerlink" title="问题根源"></a>问题根源</h3><p> rand() 函数本身是伪随机数生成器，它的输出是基于一个“种子（seed）”的固定序列：</p><ul><li>默认情况下， rand() 的种子是固定值（通常是 1 ），所以每次运行程序，都会生成相同的随机数序列。</li></ul><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>需要通过 <code>srand()</code> 函数设置随机种子，通常用“当前时间”作为种子（因为时间是持续变化的），步骤如下：</p><ol><li>包含头文件<code> &lt;stdlib.h&gt;</code> 和<code>&lt;time.h&gt;</code>（获取当前时间的函数）；</li><li>在调用 rand() 之前，用 time(NULL) 作为参数调用<code>srand() </code>，<strong>设置动态种子</strong>。</li></ol><h4 id="修正后的代码"><a href="#修正后的代码" class="headerlink" title="修正后的代码"></a>修正后的代码</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 包含rand()、srand()的头文件</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span>   <span class="hljs-comment">// 包含time()的头文件</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num;     <span class="hljs-comment">// 设置随机种子（用当前时间，确保每次运行种子不同）</span><br>    srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>    num = rand();<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, num);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol><li>unsigned int 的基本含义</li></ol><ul><li>unsigned 表示“无符号”，即该类型的变量只能存储非负整数（取值范围是 0 到 2^位数 - 1 ，例如 unsigned int 通常占4字节，范围是 0 ~ 4294967295 ）；</li><li>与之相对的，是普通的 int （有符号整型），可以存储正、负整数和0。</li></ul><ol start="2"><li>这里用 unsigned int 的原因</li></ol><p>​代码中 <code>srand((unsigned int)time(NULL))</code> 是将 time(NULL) 的返回值（ <strong>time_t 类型</strong>，通常是有符号整数）强制转换为 <code>srand() </code>要求的<strong>unsigned int 类型</strong></p><ul><li>time(NULL) 返回当前系统时间的“时间戳”（从1970年1月1日至今的秒数），是一个整数</li><li>强制转换为 unsigned int 是为了匹配 <code>srand() </code>的参数类型，避免类型不匹配的警告&#x2F;错误。</li></ul><p>简单说： unsigned int 是“无符号的整数类型”，这里用来适配 <code>srand() </code>的参数要求。</p><h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><ul><li>rand() 生成的是0到 RAND_MAX （通常是 32767 ）之间的整数；</li><li>若需要指定范围的随机数（比如 [a, b] ），可以用公式： rand() % (b - a + 1) + a 。</li></ul><h6 id="生成一个范围在【0，100】的随机数："><a href="#生成一个范围在【0，100】的随机数：" class="headerlink" title="生成一个范围在【0，100】的随机数："></a>生成一个范围在【0，100】的随机数：</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//简化</span><br>srand(time(<span class="hljs-literal">NULL</span>));<br>a = rand()%<span class="hljs-number">100</span> + <span class="hljs-number">1</span> ;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环中RETRY的用法</title>
    <link href="/2025/11/05/%E5%BE%AA%E7%8E%AF%E4%B8%ADRETRY%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <url>/2025/11/05/%E5%BE%AA%E7%8E%AF%E4%B8%ADRETRY%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="循环中RETRY的用法"><a href="#循环中RETRY的用法" class="headerlink" title="循环中RETRY的用法"></a>循环中RETRY的用法</h1><p>需求：要求用户输入正整数，若输入不合法则重试。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num;<br>RETRY: <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个正整数：&quot;</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num) != <span class="hljs-number">1</span> || num &lt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// 清空输入缓冲区的无效内容</span><br>        <span class="hljs-keyword">while</span> (getchar() != <span class="hljs-string">&#x27;\n&#x27;</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入不合法！请重新输入\n&quot;</span>);<br>        <span class="hljs-keyword">goto</span> RETRY; <span class="hljs-comment">// 跳转到RETRY标记处，重新执行输入逻辑</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;你输入的正整数是：%d\n&quot;</span>, num);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>说明</p><ul><li>RETRY:  是一个标签（Label），用于标记代码中的位置；</li><li>goto RETRY;  表示跳转到 RETRY 标签对应的代码行，实现“重试”的循环逻辑；</li><li>这种方式常用于循环内的局部重试（但需谨慎使用 goto ，避免代码逻辑混乱）。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数字字符</title>
    <link href="/2025/11/05/%E6%95%B0%E5%AD%97%E5%92%8C%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6/"/>
    <url>/2025/11/05/%E6%95%B0%E5%AD%97%E5%92%8C%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="数字和数字字符"><a href="#数字和数字字符" class="headerlink" title="数字和数字字符"></a>数字和数字字符</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>今天遇到一个C语言编程题：</p><p>要求实现”输入字符并判断是否为数字字符，是则转换为整数，否则输出错误”的功能</p><p>我第一次写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">char</span> a;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input an digit character:&quot;</span>);<br>    a = getchar();<br>    <span class="hljs-keyword">if</span> (a &lt;= <span class="hljs-number">9</span> &amp;&amp; a &gt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;character &#x27;%c&#x27; is changed to integer %d&quot;</span>, a, a );<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;INPUT ERROR!&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以说写了个几把<br>无论我输入什么，结果都是INPUT ERROR!</p><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><ol><li>判断条件错误</li></ol><p>代码中 if (a &lt;&#x3D; 9 &amp;&amp; a &gt;&#x3D; 0) 的含义是：判断字符 a 对应的ASCII码值是否在0<del>9之间。<br>但数字字符（ ‘0’</del>‘9’ ）的ASCII码值是48~57，因此这个条件永远无法匹配数字字符，导致：</p><ul><li>输入数字字符（比如 ‘2’ ，ASCII码是50）时，会进入 else 分支，输出 INPUT ERROR! ；</li><li>只有输入ASCII码为0~9的字符（比如空字符、控制字符）时，才会进入 if 分支，但这些不是数字字符。</li></ul><ol start="2"><li>数字转换错误，没有搞懂数字字符转整数的原理</li></ol><p>即使条件正确，代码中 <code>printf </code>里的 a （输出整数）也会直接输出字符的ASCII码值，而非对应的数字。<br>比如输入 ‘2’ ， a 的ASCII码是50，会输出 integer 50 ，而非期望的 2 。</p><h3 id="代码改正"><a href="#代码改正" class="headerlink" title="代码改正"></a>代码改正</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cx">#include &lt;stdio.h&gt;<br>int main()<br>&#123;<br>    char a;<br>    printf(&quot;please input an digit character:&quot;);<br>    a = getchar();<br>    if (a &lt;= &#x27;9&#x27; &amp;&amp; a &gt;= &#x27;0&#x27;) &#123;<br>        printf(&quot;character &#x27;%c&#x27; is changed to integer %d&quot;, a, a - &#x27;0&#x27;);<br>    &#125; else &#123;<br>        printf(&quot;INPUT ERROR!&quot;);<br>    &#125;<br>    return 0;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="改正分析"><a href="#改正分析" class="headerlink" title="改正分析"></a>改正分析</h3><ol><li>为什么  ‘9’   ‘0’  要打引号？</li></ol><p>在C语言中，单引号包裹的内容是“<strong>字符常量</strong>”，代表该字符对应的<strong>ASCII码值</strong>：</p><ul><li>字符  ‘0’  对应的ASCII码值是48， ‘9’  对应的ASCII码值是57；</li><li>代码中  a &lt;&#x3D; ‘9’ &amp;&amp; a &gt;&#x3D; ‘0’ ，实际是判断变量  a  存储的ASCII码值是否在48~57之间，以此确定  a  是否是数字字符。</li></ul><p>如果不打引号（直接写  9  或  0 ），表示的是整数9、0，其ASCII码对应的字符不是数字字符，会导致判断逻辑错误。</p><ol start="2"><li>为什么  a - ‘0’  中的  ‘0’  要打引号？</li></ol><p>&#x3D;&#x3D;数字字符转整数的原理&#x3D;&#x3D;，是利用数字字符的ASCII码是连续的：</p><ul><li>字符  ‘0’  的ASCII码是48， ‘1’  是49，…， ‘9’  是57；</li><li>当  a  是数字字符时， a - ‘0’  等价于“该字符的ASCII码值 - 48”，<strong>结果正好是对应的整数</strong>（比如  ‘2’ - ‘0’  等于  50 - 48 &#x3D; 2 ）。</li></ul><p>如果  0  不打引号（写成  a - 0 ），只是把字符  a  对应的ASCII码值作为整数输出（比如  ‘2’ - 0  会得到50），无法得到正确的数字。</p><hr><h2 id="数字字符"><a href="#数字字符" class="headerlink" title="数字字符"></a>数字字符</h2><h3 id="一、核心定义"><a href="#一、核心定义" class="headerlink" title="一、核心定义"></a>一、核心定义</h3><p>在 C 语言中，<strong>数字字符</strong> 指的是在源代码中用来构成 <strong>数字常量</strong> 的字符。这些字符告诉编译器：“这里是一个数字值”。</p><h3 id="二、具体分类与含义"><a href="#二、具体分类与含义" class="headerlink" title="二、具体分类与含义"></a>二、具体分类与含义</h3><p>C 语言中的数字字符主要分为以下几类：</p><h4 id="1-十进制数字字符"><a href="#1-十进制数字字符" class="headerlink" title="1. 十进制数字字符"></a>1. 十进制数字字符</h4><p>这是最常见的形式。</p><ul><li><p><strong>字符集</strong>： <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code></p></li><li><p><strong>用途</strong>： 用于构成十进制整数和浮点数常量。</p></li><li><p><strong>示例</strong>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> age = <span class="hljs-number">25</span>;          <span class="hljs-comment">// ‘2’和‘5’是数字字符</span><br><span class="hljs-type">float</span> price = <span class="hljs-number">9.99</span>;    <span class="hljs-comment">// ‘9’, ‘.’, ‘9’, ‘9’ 共同构成一个浮点数常量</span><br></code></pre></td></tr></table></figure></li></ul><blockquote><h4 id="2-八进制数字字符"><a href="#2-八进制数字字符" class="headerlink" title="2. 八进制数字字符"></a>2. 八进制数字字符</h4><p>当数字以 <code>0</code> 开头时，C 语言会将其解释为八进制数。</p><ul><li><p><strong>字符集</strong>： <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code></p></li><li><p><strong>注意</strong>： <code>8</code> 和 <code>9</code> <strong>不是</strong>有效的八进制数字字符。如果出现，编译器会报错。</p></li><li><p><strong>示例</strong>：</p></li></ul> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> perm = <span class="hljs-number">0644</span>;       <span class="hljs-comment">// 这是一个八进制数，对应十进制的420</span><br><span class="hljs-comment">// int error = 089;    // 错误！‘8’和‘9’不是八进制数字字符</span><br></code></pre></td></tr></table></figure><h4 id="3-十六进制数字字符"><a href="#3-十六进制数字字符" class="headerlink" title="3. 十六进制数字字符"></a>3. 十六进制数字字符</h4><p>当数字以 <code>0x</code> 或 <code>0X</code> 开头时，C 语言会将其解释为十六进制数。</p><ul><li><p><strong>字符集</strong>： <code>0</code>-<code>9</code>, <code>a</code>-<code>f</code>, <code>A</code>-<code>F</code></p></li><li><p>这里的字母 <code>a</code>-<code>f</code>（或 <code>A</code>-<code>F</code>）<strong>也是数字字符</strong>，它们分别代表十进制的 10 到 15。</p></li><li><p><strong>示例</strong>：</p></li></ul> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> mask = <span class="hljs-number">0xFF</span>;       <span class="hljs-comment">// ‘F’和‘F’是十六进制数字字符，代表十进制的255</span><br><span class="hljs-type">int</span> error_code = <span class="hljs-number">0x1A3F</span>; <span class="hljs-comment">// ‘1’, ‘A’, ‘3’, ‘F’ 都是数字字符</span><br></code></pre></td></tr></table></figure></blockquote><h4 id="4-浮点数特有的数字字符"><a href="#4-浮点数特有的数字字符" class="headerlink" title="4. 浮点数特有的数字字符"></a>4. 浮点数特有的数字字符</h4><p>除了 <code>0</code>-<code>9</code> 之外，还有两个特殊字符：</p><ul><li><strong>小数点</strong>： <code>.</code><ul><li>用于区分整数和浮点数，例如 <code>3.14</code>。</li></ul></li><li><strong>指数标记</strong>： <code>e</code> 或 <code>E</code><ul><li>用于科学计数法，例如 <code>1.23e4</code>（表示 1.23 × 10⁴）。这里的 <code>e</code> 或 <code>E</code> 也被视为构成数字常量的一部分。</li></ul></li></ul><hr><h3 id="三、重要区别：数字字符-vs-字符‘0’到‘9’"><a href="#三、重要区别：数字字符-vs-字符‘0’到‘9’" class="headerlink" title="三、重要区别：数字字符 vs. 字符‘0’到‘9’"></a>三、重要区别：数字字符 vs. 字符‘0’到‘9’</h3><p>这是 C 语言中一个至关重要的概念。</p><ul><li><p><strong>数字字符（作为值）</strong>： 是源代码中字面意义上的数字，直接参与构成一个数值。</p><ul><li><code>int x = 5;</code> &#x2F;&#x2F; 这里的 <code>5</code> 是一个<strong>整数值</strong>。</li></ul></li><li><p><strong>字符‘0’到‘9’</strong>： 当它们被放在<strong>单引号</strong>内时，表示一个字符常量。每个这样的字符都有一个对应的 ASCII 码值。</p><ul><li><code>char c = &#39;5&#39;;</code> &#x2F;&#x2F; 这里的 <code>‘5’</code> 是一个<strong>字符</strong>，它在内存中存储的是其 ASCII 码值 <code>53</code>（十进制）。</li></ul></li></ul><p>你不能直接对字符进行算术运算，而是对其 ASCII 码值进行运算。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> result1 = <span class="hljs-number">5</span> + <span class="hljs-number">3</span>;   <span class="hljs-comment">// 结果是 8 (整数加法)</span><br><span class="hljs-type">int</span> result2 = ‘<span class="hljs-number">5</span>’ + ‘<span class="hljs-number">3</span>’; <span class="hljs-comment">// 结果是 53 + 51 = 104 (ASCII码值相加)</span><br><span class="hljs-type">int</span> result3 = ‘<span class="hljs-number">5</span>’ + <span class="hljs-number">3</span>;  <span class="hljs-comment">// 结果是 53 + 3 = 56</span><br></code></pre></td></tr></table></figure><h4 id="如何将字符数字转换为整数值？"><a href="#如何将字符数字转换为整数值？" class="headerlink" title="如何将字符数字转换为整数值？"></a>如何将字符数字转换为整数值？</h4><p>因为字符 <code>‘0’</code> 到 <code>‘9’</code> 的 ASCII 码是连续的（48 到 57），所以可以通过减去 <code>‘0’</code> 的 ASCII 码来轻松转换。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> digit_char = ‘<span class="hljs-number">8</span>’;<br><span class="hljs-type">int</span> digit_value = digit_char - ‘<span class="hljs-number">0</span>’; <span class="hljs-comment">// 相当于 56 - 48 = 8</span><br><span class="hljs-comment">// 现在 digit_value 的值是整数 8，可以进行数学运算了。</span><br></code></pre></td></tr></table></figure><p>&#x3D;&#x3D;C 标准库函数 <code>isdigit()</code> 就是用来判断一个字符是否是 <code>‘0’</code> 到 <code>‘9’</code> 之间的数字字符。&#x3D;&#x3D;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ctype.h&gt;</span></span><br><span class="hljs-type">char</span> c = getchar();<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(c)) &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&#x27;%c&#x27; 是一个数字字符，其值为 %d\n&quot;</span>, c, c - ‘<span class="hljs-number">0</span>’);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h3><p>在 C 语言中，“数字字符”的含义是上下文相关的：</p><ol><li><strong>在源代码中</strong>： 指构成数字常量（十进制、八进制、十六进制、浮点数）的字符 <code>0-9</code>, <code>a-f</code>, <code>A-F</code>, <code>.</code>, <code>e</code>, <code>E</code>。</li><li><strong>在数据处理中</strong>： 通常指单引号内的字符 <code>‘0’</code>-<code>‘9’</code>，它们在内存中以其 ASCII 码值存储。要进行数学运算，必须先将其转换为整数值（例如，通过 <code>c - ‘0’</code>）。</li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>putchar后面括号的用法</title>
    <link href="/2025/11/05/putchar%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8B%AC%E5%8F%B7/"/>
    <url>/2025/11/05/putchar%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8B%AC%E5%8F%B7/</url>
    
    <content type="html"><![CDATA[<p><code>putchar</code> 括号里面的参数使用规则如下：</p><h2 id="1-使用单引号的情况"><a href="#1-使用单引号的情况" class="headerlink" title="1. 使用单引号的情况"></a>1. 使用单引号的情况</h2><p><strong>用于表示单个字符常量：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// 单个字符 - 必须用单引号</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;A&#x27;</span>);      <span class="hljs-comment">// 正确：输出字符 A</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;5&#x27;</span>);      <span class="hljs-comment">// 正确：输出数字字符 5</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27; &#x27;</span>);      <span class="hljs-comment">// 正确：输出空格</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);     <span class="hljs-comment">// 正确：输出换行符</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\t&#x27;</span>);     <span class="hljs-comment">// 正确：输出制表符</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-不使用引号的情况"><a href="#2-不使用引号的情况" class="headerlink" title="2. 不使用引号的情况"></a>2. 不使用引号的情况</h2><p><strong>使用字符变量或整数值：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> ch = <span class="hljs-string">&#x27;B&#x27;</span>;<br>    <span class="hljs-type">int</span> num = <span class="hljs-number">67</span>;  <span class="hljs-comment">// 67 是 &#x27;C&#x27; 的ASCII码</span><br>    <br>    <span class="hljs-comment">// 使用变量 - 不加引号</span><br>    <span class="hljs-built_in">putchar</span>(ch);       <span class="hljs-comment">// 正确：输出 B</span><br>    <span class="hljs-built_in">putchar</span>(num);      <span class="hljs-comment">// 正确：输出 C</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-number">68</span>);       <span class="hljs-comment">// 正确：输出 D (ASCII 68)</span><br>    <br>    <span class="hljs-comment">// 使用函数返回值</span><br>    <span class="hljs-type">char</span> input = getchar();<br>    <span class="hljs-built_in">putchar</span>(input);    <span class="hljs-comment">// 正确：不加引号</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-错误的使用方法"><a href="#3-错误的使用方法" class="headerlink" title="3. 错误的使用方法"></a>3. 错误的使用方法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// 错误示例</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&quot;A&quot;</span>);      <span class="hljs-comment">// 错误：双引号表示字符串</span><br>    <span class="hljs-built_in">putchar</span>(AB);       <span class="hljs-comment">// 错误：AB 会被当作变量名</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;AB&#x27;</span>);     <span class="hljs-comment">// 错误：单引号内只能有一个字符</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-总结规则"><a href="#4-总结规则" class="headerlink" title="4. 总结规则"></a>4. 总结规则</h2><table><thead><tr><th>情况</th><th>示例</th><th>是否正确</th><th>说明</th></tr></thead><tbody><tr><td>字符常量</td><td><code>putchar(&#39;A&#39;)</code></td><td>✅ 正确</td><td>必须用单引号</td></tr><tr><td>字符变量</td><td><code>putchar(ch)</code></td><td>✅ 正确</td><td>不加引号</td></tr><tr><td>整数值</td><td><code>putchar(65)</code></td><td>✅ 正确</td><td>不加引号，输出ASCII字符</td></tr><tr><td>转义字符</td><td><code>putchar(&#39;\n&#39;)</code></td><td>✅ 正确</td><td>单引号</td></tr><tr><td>字符串</td><td><code>putchar(&quot;A&quot;)</code></td><td>❌ 错误</td><td>双引号表示字符串</td></tr><tr><td>多个字符</td><td><code>putchar(&#39;AB&#39;)</code></td><td>❌ 错误</td><td>单引号内只能一个字符</td></tr></tbody></table><h2 id="5-实际对比示例"><a href="#5-实际对比示例" class="headerlink" title="5. 实际对比示例"></a>5. 实际对比示例</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> letter = <span class="hljs-string">&#x27;X&#x27;</span>;<br>    <br>    <span class="hljs-comment">// 正确的用法</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;H&#x27;</span>);          <span class="hljs-comment">// 输出: H</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-number">101</span>);          <span class="hljs-comment">// 输出: e (ASCII 101)</span><br>    <span class="hljs-built_in">putchar</span>(letter);       <span class="hljs-comment">// 输出: X</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);         <span class="hljs-comment">// 输出换行</span><br>    <br>    <span class="hljs-comment">// 与printf的对比</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, <span class="hljs-string">&#x27;H&#x27;</span>);     <span class="hljs-comment">// 同样输出 H，但更复杂</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;H&#x27;</span>);          <span class="hljs-comment">// 更简单直接</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-记忆技巧"><a href="#6-记忆技巧" class="headerlink" title="6. 记忆技巧"></a>6. 记忆技巧</h2><ul><li><strong>单引号</strong>：用于直接的字符常量，如 <code>&#39;A&#39;</code>, <code>&#39;\n&#39;</code></li><li><strong>无引号</strong>：用于变量、数字、表达式</li><li><strong>永远不用双引号</strong>：双引号表示字符串，<code>putchar</code> 只能处理单个字符</li></ul><p>记住：<strong>putchar 的参数要么是单引号的单个字符，要么是不加引号的变量&#x2F;数字。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>fabs函数的使用注意</title>
    <link href="/2025/11/05/%E9%9C%87%E6%83%8A%EF%BC%9Afabs%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F/"/>
    <url>/2025/11/05/%E9%9C%87%E6%83%8A%EF%BC%9Afabs%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="震惊：fabs函数的使用注意"><a href="#震惊：fabs函数的使用注意" class="headerlink" title="震惊：fabs函数的使用注意"></a>震惊：fabs函数的使用注意</h1><p>那天我正在做一个很简单的题：</p><blockquote><p>求输入数字的绝对值</p></blockquote><p>我立马想到了调用<code>math.h</code>函数解决这个问题</p><p>这是我写的代码，并且我希望将取绝对值这个步骤整合到用于输出的代码中</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-built_in">fabs</span>(a));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//输入-123</span><br><span class="hljs-comment">//输出0</span><br></code></pre></td></tr></table></figure><p>apparently，我写的代码出错了</p><p>因为fabs函数的作用是计算<strong>浮点数</strong>的绝对值，返回值是<code>double</code>类型</p><p>显然，我的<code>a</code>是int类型</p><p>我是这么改的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>a = <span class="hljs-built_in">fabs</span>(a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>“十四五”规划下，推动钢铁循环利用</title>
    <link href="/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8/"/>
    <url>/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁"><a href="#“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁" class="headerlink" title="“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁"></a><strong>“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁</strong></h3><p>“十四五”时期是我国迈向高质量发展、落实“双碳”目标的关键五年。作为国民经济的重要基础产业，钢铁行业的绿色低碳转型至关重要。其中，大力促进钢铁的重复利用与循环经济，不仅是行业自身降本增效的内在需求，更是国家构建资源节约型、环境友好型社会的战略抉择。推动钢铁从“资源-产品-废物”的线性模式，向“资源-产品-再生资源-产品”的循环模式转变，将为我国工业体系的绿色现代化筑牢坚实基础。</p><h4 id="一、-循环利用：钢铁工业绿色转型的必然路径"><a href="#一、-循环利用：钢铁工业绿色转型的必然路径" class="headerlink" title="一、 循环利用：钢铁工业绿色转型的必然路径"></a><strong>一、 循环利用：钢铁工业绿色转型的必然路径</strong></h4><p>钢铁，作为可无限循环使用的金属材料，其回收再利用具备显著的经济和环境价值。与使用铁矿石进行传统长流程炼钢相比，利用废钢进行短流程电炉炼钢，可节能60%以上，减少二氧化碳排放超过70%，同时减少约40%的用水量，并大幅降低固体废物排放。</p><p>“十四五”规划纲要中明确提出“推动钢铁、石化、建材等原材料产业布局优化和结构调整”，并“全面提高资源利用效率”，构建“废旧物资循环利用体系”。这为钢铁重复利用赋予了前所未有的战略高度。在碳达峰、碳中和的宏观背景下，推动废钢资源的高效回收与绿色利用，无疑是钢铁行业实现碳减排最直接、最有效的抓手，是行业生存与发展的“生命线”。</p><h4 id="二、-面临的挑战与亟待突破的瓶颈"><a href="#二、-面临的挑战与亟待突破的瓶颈" class="headerlink" title="二、 面临的挑战与亟待突破的瓶颈"></a><strong>二、 面临的挑战与亟待突破的瓶颈</strong></h4><p>尽管前景广阔，但我国钢铁循环利用产业在“十四五”期间仍面临诸多挑战：</p><ol><li><p><strong>废钢资源供给与质量不稳定。</strong> 我国社会钢铁蓄积量虽已进入加速释放期，但废钢回收体系仍显分散、无序。回收渠道多以“拾荒大军”为主，缺乏规模化、规范化的回收企业，导致资源供应波动大，且分类混杂，杂质含量高，直接影响后续冶炼的稳定性和钢材质量。</p></li><li><p><strong>技术工艺与标准体系有待提升。</strong> 废钢中常含有铜、锡等残留元素，其在循环过程中会不断累积，影响高端钢材的性能。如何通过先进的分选、加工和冶炼技术“净化”废钢，是行业的技术难点。同时，关于废钢质量判定、再生钢材标准等体系尚不完善，制约了其在高附加值领域的应用。</p></li><li><p><strong>政策与市场环境需进一步优化。</strong> 短流程电炉炼钢在电价、环保等方面的成本优势尚未完全显现。增值税发票链条不畅、区域间资源竞争无序等问题，也影响了废钢资源的市场化高效配置。</p></li></ol><h4 id="三、-“十四五”期间的破局之道与战略举措"><a href="#三、-“十四五”期间的破局之道与战略举措" class="headerlink" title="三、 “十四五”期间的破局之道与战略举措"></a><strong>三、 “十四五”期间的破局之道与战略举措</strong></h4><p>为破解上述难题，真正将钢铁重复利用推向新高度，需从国家到行业、企业层面协同发力：</p><ol><li><p><strong>构建现代化废钢回收网络，保障资源“稳”与“净”。</strong> 应依托“城市矿产”示范基地、大型钢铁企业，培育一批区域性的废钢回收、加工、配送一体化示范企业。利用物联网、大数据等技术，建立废钢资源溯源与信息共享平台，实现回收渠道的规范化、网络化，从源头提升废钢质量。</p></li><li><p><strong>强化科技创新驱动，攻克“质”的难题。</strong> 鼓励企业研发和引进智能分选、高效打包、绿色除杂等先进预处理技术。支持电炉炼钢流程优化、节能降耗技术的攻关，如超高功率电炉、量子电弧炉等。同时，建立健全再生钢铁原料产品标准体系，引导下游用户消除对再生钢材的偏见，拓展其在汽车、家电、建筑等高端市场的应用。</p></li><li><p><strong>完善政策支持体系，优化市场“软环境”。</strong> 落实对短流程炼钢的扶持政策，如在电价上给予优惠，在碳排放交易中体现其减排价值。进一步简化、优化废钢增值税优惠政策，解决进项税抵扣难题，让合规企业“轻装上阵”。加强行业监管，打击“地条钢”死灰复燃，为合法合规的钢铁循环利用创造公平竞争的市场秩序。</p></li><li><p><strong>倡导全生命周期绿色设计，从源头为循环“赋能”。</strong> 推动“绿色制造”理念向上游延伸，鼓励钢材生产企业和装备制造商在产品设计阶段就考虑易拆解、易回收和再制造，推行“绿色设计”，减少有害残留元素的使用，为未来的循环利用扫清障碍。</p></li></ol><h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a><strong>结语</strong></h4><p>“十四五”规划为钢铁行业的未来描绘了清晰的绿色蓝图。大力促进钢铁的重复利用，已不再是一道“选择题”，而是一道关乎行业可持续发展和国家生态安全的“必答题”。它要求我们以系统思维，贯通回收、加工、制造、应用的全产业链，通过政策引导、技术创新和市场机制的三轮驱动，将废钢这一“城市矿产”真正转化为支撑高质量发展的“绿色富矿”。当每一块废旧钢铁都能物尽其用，我们不仅锻造了更加坚韧的工业脊梁，更是在铸造一个人与自然和谐共生的美好未来。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>逻辑运算符</title>
    <link href="/2025/11/01/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/01/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<p>逻辑运算符</p><p>关键特性：短路求值</p><p> &amp;&amp; 会遵循“短路”规则：</p><ul><li>若左侧表达式的结果为假，则右侧表达式不会被执行（因为此时整体结果已经可以确定为假）；</li><li>只有左侧表达式为真时，才会执行右侧表达式。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>常用 Markdown 语法速查表</title>
    <link href="/2025/11/01/%E5%B8%B8%E7%94%A8%20Markdown%20%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5%E8%A1%A8/"/>
    <url>/2025/11/01/%E5%B8%B8%E7%94%A8%20Markdown%20%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="常用-Markdown-语法速查表（可直接复制使用）"><a href="#常用-Markdown-语法速查表（可直接复制使用）" class="headerlink" title="常用 Markdown 语法速查表（可直接复制使用）"></a>常用 Markdown 语法速查表（可直接复制使用）</h1><h2 id="一、标题"><a href="#一、标题" class="headerlink" title="一、标题"></a>一、标题</h2><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><hr><h2 id="二、文本格式"><a href="#二、文本格式" class="headerlink" title="二、文本格式"></a>二、文本格式</h2><ul><li>加粗：<strong>加粗文本</strong></li><li>斜体：<em>斜体文本</em></li><li>加粗斜体：<em><strong>加粗斜体文本</strong></em></li><li>删除线：<del>删除线文本</del></li><li>下划线：下划线文本</li><li>高亮：&#x3D;&#x3D; 高亮文本 &#x3D;&#x3D;（部分编辑器支持）</li></ul><hr><h2 id="三、列表"><a href="#三、列表" class="headerlink" title="三、列表"></a>三、列表</h2><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><ul><li>列表项 1</li><li>列表项 2<ul><li>子列表项 2-1</li><li>子列表项 2-2</li></ul></li></ul><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><ol><li>列表项 1</li><li>列表项 2<ol><li>子列表项 2-1</li><li>子列表项 2-2</li></ol></li></ol><h3 id="任务列表"><a href="#任务列表" class="headerlink" title="任务列表"></a>任务列表</h3><ul><li>已完成任务</li><li>未完成任务</li></ul><hr><h2 id="四、引用"><a href="#四、引用" class="headerlink" title="四、引用"></a>四、引用</h2><blockquote><p>一级引用</p><blockquote><p>二级引用</p><blockquote><p>三级引用</p></blockquote></blockquote></blockquote><hr><h2 id="五、代码块"><a href="#五、代码块" class="headerlink" title="五、代码块"></a>五、代码块</h2><hr><h2 id="六、链接与图片"><a href="#六、链接与图片" class="headerlink" title="六、链接与图片"></a>六、链接与图片</h2><h3 id="普通链接"><a href="#普通链接" class="headerlink" title="普通链接"></a>普通链接</h3><p><a href="https://www.example.com/">链接名称</a></p><h3 id="锚点链接（跳转到当前文档标题）"><a href="#锚点链接（跳转到当前文档标题）" class="headerlink" title="锚点链接（跳转到当前文档标题）"></a>锚点链接（跳转到当前文档标题）</h3><p><a href="https://www.doubao.com/chat/26502464248456706#%E4%B8%80%E7%BA%A7%E6%A0%87%E9%A2%98">跳转到一级标题</a></p><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><h3 id="带链接的图片"><a href="#带链接的图片" class="headerlink" title="带链接的图片"></a>带链接的图片</h3><hr><h2 id="七、表格"><a href="#七、表格" class="headerlink" title="七、表格"></a>七、表格</h2><table><thead><tr><th>表头 1</th><th>表头 2</th><th>表头 3</th></tr></thead><tbody><tr><td>内容 1</td><td>内容 2</td><td>内容 3</td></tr><tr><td>内容 4</td><td>内容 5</td><td>内容 6</td></tr></tbody></table><h3 id="对齐方式"><a href="#对齐方式" class="headerlink" title="对齐方式"></a>对齐方式</h3><table><thead><tr><th>左对齐</th><th>居中对齐</th><th>右对齐</th></tr></thead><tbody><tr><td>内容 1</td><td>内容 2</td><td>内容 3</td></tr></tbody></table><hr><h2 id="八、分割线"><a href="#八、分割线" class="headerlink" title="八、分割线"></a>八、分割线</h2><hr><hr><hr><hr><h2 id="九、其他常用语法"><a href="#九、其他常用语法" class="headerlink" title="九、其他常用语法"></a>九、其他常用语法</h2><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>这是需要脚注的文本<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.doubao.com/chat/脚注内容">[1]</span></a></sup></p><h3 id="表情符号（部分编辑器支持）"><a href="#表情符号（部分编辑器支持）" class="headerlink" title="表情符号（部分编辑器支持）"></a>表情符号（部分编辑器支持）</h3><p>:smile: :heart: :star:</p><h3 id="数学公式（需支持-LaTeX）"><a href="#数学公式（需支持-LaTeX）" class="headerlink" title="数学公式（需支持 LaTeX）"></a>数学公式（需支持 LaTeX）</h3><p>(E&#x3D;mc^2)（行内公式）</p><p>$</p><p>(\sum_{i&#x3D;1}^n i &#x3D; \frac{n(n+1)}{2})</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.doubao.com/chat/%E8%84%9A%E6%B3%A8%E5%86%85%E5%AE%B9">https://www.doubao.com/chat/脚注内容</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>时间时钟</title>
    <link href="/2025/11/01/%E6%97%B6%E9%97%B4%E6%97%B6%E9%92%9F/"/>
    <url>/2025/11/01/%E6%97%B6%E9%97%B4%E6%97%B6%E9%92%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="时间时钟"><a href="#时间时钟" class="headerlink" title="时间时钟"></a>时间时钟</h1><p>碰见个题目：输入爱尔兰的当前时间，并显示其对应的华盛顿时间（减5个小时），莫斯科时间（加3个小时），北京时间（加7个小时）。输入的时间采用24小时制，如22：35（晚上10：35）。</p><p>很简单，但比较复杂，总之，就是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> min;<br>    <span class="hljs-type">int</span> ire, was, mos, bei;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:%d&quot;</span>, &amp;ire, &amp;min);<br>    was = ire - <span class="hljs-number">5</span>;<br>    mos = ire + <span class="hljs-number">3</span>;<br>    bei = ire + <span class="hljs-number">7</span>;<br><br>    <span class="hljs-keyword">if</span> (ire &gt;= <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was, min);<br>        <span class="hljs-keyword">if</span> (mos &gt; <span class="hljs-number">24</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos - <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos, min);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (bei &gt; <span class="hljs-number">24</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei - <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei, min);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">if</span> (was &lt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was + <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was, min);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos, min);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei, min);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>三目运算符</title>
    <link href="/2025/11/01/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/01/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h1><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">condition ? expression1 : expression2<br></code></pre></td></tr></table></figure><h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><ul><li>首先计算 <code>condition</code> 的值</li><li>如果 <code>condition</code> 为真（非零），则计算并返回 <code>expression1</code> 的值</li><li>如果 <code>condition</code> 为假（零），则计算并返回 <code>expression2</code> 的值</li></ul><h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>, b = <span class="hljs-number">20</span>;<br>    <br>    <span class="hljs-comment">// 基本用法</span><br>    <span class="hljs-type">int</span> max = (a &gt; b) ? a : b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;较大的数是: %d\n&quot;</span>, max);  <span class="hljs-comment">// 输出: 20</span><br>    <br>    <span class="hljs-comment">// 判断奇偶</span><br>    <span class="hljs-type">int</span> num = <span class="hljs-number">15</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d 是%s\n&quot;</span>, num, (num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) ? <span class="hljs-string">&quot;偶数&quot;</span> : <span class="hljs-string">&quot;奇数&quot;</span>);<br>    <span class="hljs-comment">// 输出: 15 是奇数</span><br>    <br>    <span class="hljs-comment">// 赋值给不同变量类型</span><br>    <span class="hljs-type">double</span> result = (a &gt; b) ? <span class="hljs-number">3.14</span> : <span class="hljs-number">2.71</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;结果: %.2f\n&quot;</span>, result);  <span class="hljs-comment">// 输出: 2.71</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li><strong>优先级</strong>：三目运算符的优先级较低，建议使用括号明确运算顺序</li><li><strong>类型兼容</strong>：<code>expression1</code> 和 <code>expression2</code> 的类型应该兼容</li><li><strong>副作用</strong>：避免在表达式中使用有副作用的操作</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 不推荐的写法（有副作用）</span><br><span class="hljs-type">int</span> x = <span class="hljs-number">5</span>, y = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> z = (x++ &gt; <span class="hljs-number">3</span>) ? x : y;  <span class="hljs-comment">// 难以预测的行为</span><br><br><span class="hljs-comment">// 推荐的写法</span><br><span class="hljs-type">int</span> z = (x &gt; <span class="hljs-number">3</span>) ? (x + <span class="hljs-number">1</span>) : y;<br>x++;  <span class="hljs-comment">// 明确的自增操作</span><br></code></pre></td></tr></table></figure><h2 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h2><ul><li>简单的条件赋值</li><li>返回两个值中的一个</li><li>简化简单的 if-else 逻辑</li><li>在宏定义中使用</li></ul><p><strong>三目运算符可以使代码更简洁，但过度使用或嵌套过多会降低代码可读性。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>“十四五”规划下，推动钢铁循环利用（手搓版）</title>
    <link href="/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8(%E6%89%8B%E6%90%93%E7%89%88)/"/>
    <url>/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8(%E6%89%8B%E6%90%93%E7%89%88)/</url>
    
    <content type="html"><![CDATA[<p>​“十四五”规划下，推动钢铁循环利用</p><p>“十四五”时期是我国迈向高质量发展、落实“双碳”目标的关键五年，作为国民经济的重要基础产业，钢铁行业的绿色低碳转型至关重要。其中，大力促进钢铁的重复利用与循环经济，不仅是行业自身降低成本、增加效率的内在需求，更是国家构建资源节约型、环境友好型社会的战略抉择。推动我国钢铁行业转行，将为我国工业体系的绿色现代化夯实基础。</p><p>钢铁对于一个国家而言，是工业的“粮食”，是国防的“脊梁”。钢铁是几乎所有工业部门的基础材料，例如建筑用的钢筋，汽车用的板材，机械设备的零部件，数码产品的各种组件等等。此外，没有钢铁，就没有现代国防。坦克、军舰、飞机、导弹、枪支弹药等都以钢铁作为战略物资。可见，钢铁虽然是一种传统材料，但不可否认它至今仍是衡量国家实力的硬指标。</p><p>从清代中国到如今的综合国力第二大国，在中华这片大地上，随着钢铁行业的不断转型，钢铁的重要性也在不断提高。晚清时期，清政府为了“师夷长技以制夷”，发起洋务运动，建立了汉阳铁厂，引入了西方技术和设备，但因技术依赖与人才匮乏等因素，最终失败。直到建国后，由“大跃进”中“以钢为纲”的失败转型，到改革开放后，引入世界先进钢铁生产技术和管理理念后所进行的“规模化、现代化”转型，钢铁产量从建国初期的535万吨，到文革等经济震荡的3000万吨，再到1996年突破亿吨，超越日本成为世界第一。2020年，钢铁产量突破10亿大关，达到10.65亿，更是占全球总产量57%。可见，钢铁行业的转型至关重要。</p><p>那么，现如今的“十四五”规划下，钢铁行业是否需要继续转型？明显，由于绝对产能过剩，我国钢铁行业急需转型。在最严重时期（约2015年前后），中国粗钢产能高达12亿吨，而国内实际消费量仅在7-8亿吨左右，存在巨大供需缺口。近年来，钢铁过剩不仅导致国内钢铁企业亏损，金融风险激增，还导致环境污染和安全隐患突出。</p><p>关于如何转型，由什么型转向什么型，先要弄清钢铁从矿石中提取出来的过程，即冶金工程。传统冶金工程分为两大步骤：一是从矿石中提取金属或金属化合物；二是将其加工成具有良好使用性能的材料。2000年左右，为了提高这两个步骤的效率，进而提高钢铁产能，钢铁企业新建工厂，扩大生产线，降低污染标准，以“粗放规模型”“资源消耗型”盲目抢占市场份额。为了促进钢铁行业转向“集约高效型”“绿色低碳型”，2015年以来，中国政府将“去产能”作为钢铁行业供给侧的首要任务。如今看来，行业转型已取得显著成效，然而，面临绿色转型带来的成本压力，行业转型仍需引领以及一定的缓冲区来适应。</p><p>为此，在“十四五”期间，国家层面出台了一系列规划和政策，进一步解决钢铁过剩问题并促进钢铁回收。一方面，通过严格的产能与总量调控从源头做减法。全国范围内执行不低于1.5:1的钢铁产能置换比例，严禁在京津冀等重点区域新增产能，并持续压减粗钢产量。另一方面，通过大力促进废钢回收与利用为发展寻出路。国家设定了到2025年废钢铁利用量超过3亿吨的目标，并配套了“反向开票”、增值税即征即退等税收优惠，以及利用超长期特别国债资金支持高水平回收项目，显著提升了废钢回收产业的规范化水平和经济性。</p><p>站在“十四五”的关键节点上，钢铁循环利用的深入推进，既是行业破局的现实路径，更是国家绿色发展的长远布局。当“粗放规模”转向“集约循环”，当“资源消耗”升级为“高效再生”，钢铁行业的转型不仅将筑牢工业体系的绿色根基，更能为“双碳”目标的落地、高质量发展的迈进注入持久动力。未来，随着政策体系的持续完善，以及技术创新的不断突破，钢铁循环经济必将在构建资源节约、环境友好的现代化产业布局中，书写下更具分量的时代答卷。</p><p>字数统计：约890字</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>海伦公式</title>
    <link href="/2025/10/27/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F/"/>
    <url>/2025/10/27/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="海伦公式"><a href="#海伦公式" class="headerlink" title="海伦公式"></a>海伦公式</h1><p>已知三角形三边长度<strong>a</strong>,<strong>b</strong>,<strong>c</strong>，求三角形的面积 <strong>S</strong></p><blockquote><p>(p&#x3D;\frac{a+b+c}{2})</p><p> S&#x3D;$\sqrt{p(p-a)p-b)(p-c)}$</p></blockquote><p>以上在高中是不是算的头昏眼花? 现在可以雇佣计算机帮你算！</p><p>以下是代码:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">float</span> a,b,c,p;<br>    <span class="hljs-type">double</span> area;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter 3 floats:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f,%f,%f&quot;</span>,&amp;a,&amp;b,&amp;c);<br>    p=(a+b+c)/<span class="hljs-number">2.0</span>;<br>    area=p*(p-a)*(p-b)*(p-c);<br>    area=<span class="hljs-built_in">sqrt</span>(area);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;area=%.2f\n&quot;</span>,area);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>测父母性别</title>
    <link href="/2025/10/25/%E6%B5%8B%E8%AF%95%E7%88%B6%E6%AF%8D%E6%80%A7%E5%88%AB/"/>
    <url>/2025/10/25/%E6%B5%8B%E8%AF%95%E7%88%B6%E6%AF%8D%E6%80%A7%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="一键测试父母性别"><a href="#一键测试父母性别" class="headerlink" title="一键测试父母性别"></a>一键测试父母性别</h1><p>不知道父母性别是啥，快来测测吧！</p><p>以下是程序代码(待改进):</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">char</span> parent[<span class="hljs-number">20</span>],a[<span class="hljs-number">20</span>],b[<span class="hljs-number">20</span>],c[<span class="hljs-number">20</span>],d[<span class="hljs-number">20</span>],e[<span class="hljs-number">20</span>],f[<span class="hljs-number">20</span>];<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;这是一个测试父母性别的程序\n******* made by王柏森 *******\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您想测父亲|母亲的性别?\n请输入father or mother： &quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;parent,(<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(parent, <span class="hljs-string">&quot;father&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃早饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;a, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃中饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;b, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃晚饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;c, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您父亲的性别是 男&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(parent, <span class="hljs-string">&quot;mother&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃早饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;d, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃中饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;e, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃晚饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;f, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您母亲的性别是 女&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入错误，请输入father或mother&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br><br><br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>解决scanf读取回车</title>
    <link href="/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/"/>
    <url>/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="解决scanf读取回车"><a href="#解决scanf读取回车" class="headerlink" title="解决scanf读取回车"></a>解决scanf读取回车</h1><h3 id="一、问题"><a href="#一、问题" class="headerlink" title="一、问题"></a>一、问题</h3><p>对于<strong>两个连续的scanf</strong>中，下一个scanf读取了上一个scanf输入的回车键</p><p>导致程序无法正常进行</p><p>eg:这是一个计算年利率的程序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>会得到</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Enter money:<br>1000<br>Enter year:<br></code></pre></td></tr></table></figure><hr><h3 id="二、解决方法"><a href="#二、解决方法" class="headerlink" title="二、解决方法"></a>二、解决方法</h3><h4 id="1-添加一个空格"><a href="#1-添加一个空格" class="headerlink" title="1.添加一个空格"></a>1.添加一个空格</h4><p>利用空格创造一个缓冲区，将上一个的scanf的回车输入缓存区中，使下一个scanf不读取这个回车</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %d&quot;</span>,&amp;year);          <span class="hljs-comment">//注意%d前面的空格</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %lf&quot;</span>,&amp;rate);         <span class="hljs-comment">//注意%d前面的空格</span><br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);   <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-利用-fflush-stdin"><a href="#2-利用-fflush-stdin" class="headerlink" title="2.利用//fflush(stdin)"></a>2.利用<code>//fflush(stdin)</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-使用-1s"><a href="#3-使用-1s" class="headerlink" title="3.使用%1s"></a>3.使用%1s</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%1s&quot;</span>,&amp;year);       <span class="hljs-comment">//不知道是不是这样的，以后有空问老师</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>宏定义</title>
    <link href="/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/"/>
    <url>/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h1><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><blockquote><p>用更有意义的名称代替数字，<strong>便于统一修改和维护</strong><br>提高代码可读性，避免重复代码，没有函数调用的开销</p></blockquote><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br>&gt;<span class="hljs-comment">// 定义宏常量</span><br>&gt;<span class="hljs-meta">#<span class="hljs-keyword">define</span> TAX_RATE 0.1  <span class="hljs-comment">// 税率10%</span></span><br><br>&gt;<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>   <span class="hljs-type">int</span> money;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入金额: &quot;</span>);<br>   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;money);<br>   <br>   <span class="hljs-comment">// 使用宏计算税费</span><br>   <span class="hljs-type">int</span> tax = money * TAX_RATE;<br>   <span class="hljs-type">int</span> total = money + tax;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;金额: %d元\n&quot;</span>, money);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;税费: %d元\n&quot;</span>, tax);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;总计: %d元\n&quot;</span>, total);<br>   <br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&gt;&#125;<br><br>&gt;<span class="hljs-comment">/*输出</span><br><span class="hljs-comment">&gt;请输入金额: 100</span><br><span class="hljs-comment">&gt;金额: 100元</span><br><span class="hljs-comment">&gt;税费: 10元</span><br><span class="hljs-comment">&gt;总计: 110元</span><br><span class="hljs-comment">&gt;*/</span><br></code></pre></td></tr></table></figure></blockquote><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p><code>#define</code> 是编译预处理命令，不是C语句，结尾无分号</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>math.h中的函数</title>
    <link href="/2025/10/24/math.h/"/>
    <url>/2025/10/24/math.h/</url>
    
    <content type="html"><![CDATA[<h1 id="include-中的函数"><a href="#include-中的函数" class="headerlink" title="#include &lt;math.h&gt;中的函数"></a>#include &lt;math.h&gt;中的函数</h1><h2 id="一、幂函数"><a href="#一、幂函数" class="headerlink" title="一、幂函数"></a>一、幂函数</h2><blockquote><p>m^n^  及m的n次方，利用pow函数<br>即<code>pow(m,n)</code></p><p>eg：计算圆的面积</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">double</span> r,are;<br>    <span class="hljs-type">double</span> pi = <span class="hljs-number">3.1415926</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入圆的半径: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;r);<br>    are = pi * <span class="hljs-built_in">pow</span>(r,<span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;半径为 %.2f 的圆的面积是: %.2f\n&quot;</span>,r,are);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></blockquote><h2 id="二、浮点数绝对值"><a href="#二、浮点数绝对值" class="headerlink" title="二、浮点数绝对值"></a>二、浮点数绝对值</h2><blockquote><p>对一个负数取绝对值 |-123|&#x3D;123<br>即 <code>fabs(n)</code></p><p>eg 1:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> num1 = <span class="hljs-number">-5.7</span>;<br>    <span class="hljs-type">double</span> num2 = <span class="hljs-number">3.2</span>;<br>    <span class="hljs-type">double</span> num3 = <span class="hljs-number">-0.0</span>;<br>    <br>    <span class="hljs-comment">// 使用fabs计算绝对值</span><br>    <span class="hljs-type">double</span> result1 = <span class="hljs-built_in">fabs</span>(num1);<br>    <span class="hljs-type">double</span> result2 = <span class="hljs-built_in">fabs</span>(num2);<br>    <span class="hljs-type">double</span> result3 = <span class="hljs-built_in">fabs</span>(num3);<br>    <br>    <span class="hljs-comment">// 输出结果</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num1, result1);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num2, result2);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num3, result3);<br>    <br>    <span class="hljs-comment">// 实际应用示例</span><br>    <span class="hljs-type">double</span> user_input;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n请输入一个数字: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>, &amp;user_input);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您输入的数字的绝对值是: %.2f\n&quot;</span>, <span class="hljs-built_in">fabs</span>(user_input));<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">运行结果:</span><br><span class="hljs-comment">fabs(-5.7) = 5.7</span><br><span class="hljs-comment">fabs(3.2) = 3.2</span><br><span class="hljs-comment">fabs(-0.0) = 0.0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">请输入一个数字: -8.5</span><br><span class="hljs-comment">您输入的数字的绝对值是: 8.50</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>eg 2:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> g,s,b;<br>    <span class="hljs-type">int</span> x,y;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input x:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    x=<span class="hljs-built_in">fabs</span>(x);<br>    g=x%<span class="hljs-number">10</span>;<br>    s=x/<span class="hljs-number">10</span>%<span class="hljs-number">10</span>;<br>    b=x/<span class="hljs-number">100</span>%<span class="hljs-number">10</span>;<br>    y=g*<span class="hljs-number">100</span>+s*<span class="hljs-number">10</span>+b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;y=%d\n&quot;</span>,y);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*输出</span><br><span class="hljs-comment">Input x:-123</span><br><span class="hljs-comment">y=321</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></blockquote><h2 id="三、平方根"><a href="#三、平方根" class="headerlink" title="三、平方根"></a>三、平方根</h2><p>​即<code>sqrt</code> <strong>(仅支持非负数)</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">16</span>;<br>x = <span class="hljs-built_in">sqrt</span>(x);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,x);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*输出</span><br><span class="hljs-comment">4</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="四、自然对数的幂次方"><a href="#四、自然对数的幂次方" class="headerlink" title="四、自然对数的幂次方"></a>四、自然对数的幂次方</h2><p>​计算 e^x^ 的值，即用函数<code>exp()</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> x = <span class="hljs-number">1.0</span>;<br>    <span class="hljs-type">double</span> result = <span class="hljs-built_in">exp</span>(x);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;e^%.2f = %.6f\n&quot;</span>, x, result);  <span class="hljs-comment">// 输出: e^1.00 = 2.718282</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>​</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
