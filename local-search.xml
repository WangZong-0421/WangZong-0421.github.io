<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>递归调用与指针再探</title>
    <link href="/2025/11/20/%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%86%8D%E6%8E%A2/"/>
    <url>/2025/11/20/%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%86%8D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="递归调用与指针再探"><a href="#递归调用与指针再探" class="headerlink" title="递归调用与指针再探"></a>递归调用与指针再探</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><p>依旧是辗转相除法求最大公约数</p><p>代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">Gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (a % b == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> b;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> Gcd(b, a % b);<br>&#125;<br></code></pre></td></tr></table></figure><p>函数 Gcd 在定义中调用了自身（ return Gcd(b, a % b) ），这就是递归调用的特征——函数内部包含对自身的调用。</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>牛顿迭代法。用牛顿迭代法求，迭代公式为，x0&#x3D;a.要求迭代的精度满足。如果迭代20次之后仍未能达到精度要求，也停止计算。<br>输入格式要求：”%f” 提示信息：”Input a&#x3D;? “<br>输出格式要求：”\na&#x3D;%.6f,x&#x3D;%.6f,i&#x3D;%d”</p><p>example:<br>Input a&#x3D;?<br>9<br>a&#x3D;9.000000,x&#x3D;3.000000,i&#x3D;6</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>, <span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);<br>x = Fx(a, a, &amp;i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<br><span class="hljs-type">float</span> new_x = x;<br><span class="hljs-keyword">do</span> &#123;<br>x = new_x;<br>new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>这个代码是我自己写的，感觉就是在没逼硬装</p><p>我想用新学的递归调用来做这个题的，但是发现递归不是单纯的等于for或者while循环，编程时还遇到了若干函数调用和指针的问题，导致这个程序我大概花了一个小时。总归是写出来了，让我们把这个代码研究清楚吧</p><blockquote><p>我自己写markdown已经一个多月了，也做了很多题目。</p><p>在这个过程中，通过不断调试代码和询问AI，学到了很多关于这门语言的知识和相关注意事项。</p><p>一有所得我就写下来，并发表在github的个人blog上，我不知道这样学习代码的方法对不对，就我个人而言，我感觉我写代码没天赋，只能努力地去解决一个个问题再记下来</p></blockquote><h3 id="【1】减少冗余的参数传递"><a href="#【1】减少冗余的参数传递" class="headerlink" title="【1】减少冗余的参数传递"></a>【1】减少冗余的参数传递</h3><p>在Fx函数的定义中</p><p>起初我是这么写的:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<span class="hljs-comment">//注意这个是错误视力</span><br><span class="hljs-type">float</span> new_x = x;<br><span class="hljs-keyword">do</span> &#123;<br>x = new_x;<br>new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>提示a没有被定义，我才发现还需要把a的初始值传递到封装函数中，于是<br>修改成最终模样：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">x = Fx(a, a, &amp;i);<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span><br></code></pre></td></tr></table></figure><p>会发现在Fx函数的定义中，常量a的值是a，float a 的初始值也是a，那么可不可以简化一下，只用传递一个a，将作为x的初始值、计算式中的常量？</p><p>可以，修改一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">int</span>* i)</span> &#123;  <span class="hljs-comment">// 只接收 a（计算用）和 i（次数统计）</span><br>    <span class="hljs-type">float</span> x = a;  <span class="hljs-comment">// 初始迭代值直接在函数内设为 a，不用从外部传</span><br>    <span class="hljs-type">float</span> new_x;<br>    <span class="hljs-keyword">do</span> &#123;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);  <span class="hljs-comment">// 这里的 a 是参数传递来的（只传了一次）</span><br>        (*i)++;<br>        x = new_x;<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br>    <span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><p>只传递一个a值，并在Fx函数中第一时间把a赋值给x。</p><p><strong>减少冗余的参数传递</strong>，让代码更简洁。</p><h3 id="【2】在Fx函数中实现递归调用"><a href="#【2】在Fx函数中实现递归调用" class="headerlink" title="【2】在Fx函数中实现递归调用"></a>【2】在Fx函数中实现递归调用</h3><p>刚学了这个递归调用，我便想在这题中实现一下。</p><p>我最初根据题目的要求，在Fx函数中是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>    new_x=Fx(new_x);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br>    <span class="hljs-keyword">return</span> new_x;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>发现无法实现终止递归调用和i的自加，即</p><pre><code class=" mermaid">graph TD  A[x] --&gt; B[传入Fx（）]  B --&gt; C[计算得到new_x]  C --&gt; B  C --&gt; D[判断new_x-x（无法到达）]  style D fill:#fcc,stroke:#f00,stroke-width:1px  </code></pre><p>卧槽，写到这里我发现我能做到！！！我重新打开visual studio试了一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> main&#123;<br>    x = Fx(a, a);<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<span class="hljs-comment">//第一次递归将a传递给x作为初始值</span><br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br>        <span class="hljs-keyword">return</span> new_x;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>在试试如何实现i自加：</p><p>代码实现（完整版）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>, <span class="hljs-type">int</span>*)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);<br>x = Fx(a, a,&amp;i);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x,<span class="hljs-type">int</span>* i)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>(*i)++;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x,&amp;i);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>注意Fx()调用时的&amp;符号</p><p>输入9，程序经过我调试得到：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Input a=?9<br><br>a=9.000000,x=3.000000,i=1<br></code></pre></td></tr></table></figure><p>发现i不能自加，我百思不得其解，于是问了问AI：</p><h4 id="为什么不行？（终于找到根因）"><a href="#为什么不行？（终于找到根因）" class="headerlink" title="为什么不行？（终于找到根因）"></a>为什么不行？（终于找到根因）</h4><p>你遇到的是 VS 特有的「栈内存优化 &#x2F; 调试模式干扰」：</p><ol><li>指针传递 <code>i</code> 时，<code>&amp;i</code> 是主函数栈上的地址；</li><li>VS 在 Debug 模式下，会给栈内存加「安全检查标记」，递归调用时，可能误把 <code>i</code> 的指针地址当成 “临时变量” 优化掉；</li><li>导致递归中 <code>(*i)++</code> 改的是 “被优化后的临时地址”，而主函数里的 <code>i</code> 还是原来的 <code>0</code>（最后只加了 1 次，因为第一次调用改的是真地址，后续递归改的是假地址）。</li></ol><h4 id="可以使用全局变量，代码实现："><a href="#可以使用全局变量，代码实现：" class="headerlink" title="可以使用全局变量，代码实现："></a>可以使用全局变量，代码实现：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 把i改成全局变量，不用指针传递！</span><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span>, <span class="hljs-type">float</span>)</span>;  <span class="hljs-comment">// 函数参数去掉int*</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">float</span> a, x;<br>i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 全局变量初始化</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);  <br>x = Fx(a, a);     <span class="hljs-comment">// 调用时不用传&amp;i了</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, x, i);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x)</span> &#123;  <span class="hljs-comment">// 去掉int*参数</span><br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>i++;  <span class="hljs-comment">// 直接用全局变量i自增，不用解引用！</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;调试：i=%d, x=%.6f, new_x=%.6f\n&quot;</span>, i, x, new_x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &lt;= EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a, new_x);  <span class="hljs-comment">// 递归不用传i</span><br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>我没法了，理论上来说我自己写的可以，但仅仅是理论上</p><h4 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h4><p>我刚才写递归调用的时候，起初是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>但其实这么写不规范，容易出现大问题</p><h5 id="先把递归比作-“传话游戏”"><a href="#先把递归比作-“传话游戏”" class="headerlink" title="先把递归比作 “传话游戏”"></a>先把递归比作 “传话游戏”</h5><p>假设：</p><ul><li>你（主函数 <code>main</code>）要找 “最终答案”（√a 的值）；</li><li>递归函数 <code>Fx</code> 是 “传话的人”，一共要传 N 次（递归 N 次）；</li><li>每次传话的人（第 k 次调用 <code>Fx</code>）要做 3 件事：<ol><li>算一个 “新消息”（<code>new_x</code>）；</li><li>把 “新消息” 传给下一个人（第 k+1 次递归），直到有人算出 “最终答案”（满足 <code>fabs(new_x - x) &lt;= EPS</code>）；</li><li>拿到 “最终答案” 后，要<strong>回头告诉上一个人</strong>（函数返回结果），最后传到你手里（主函数 <code>x</code> 接收）。</li></ol></li></ul><h5 id="代码问题：“拿到答案后，不回头传话”"><a href="#代码问题：“拿到答案后，不回头传话”" class="headerlink" title="代码问题：“拿到答案后，不回头传话”"></a>代码问题：“拿到答案后，不回头传话”</h5><p>这个代码，第 3 次调用 <code>Fx</code> 就犯了这个错：</p><ol><li>第 1 次调用（传话人 1）：算 <code>new_x=1.5</code>，<code>i=1</code>，传给传话人 2；</li><li>第 2 次调用（传话人 2）：算 <code>new_x≈1.4167</code>，<code>i=2</code>，传给传话人 3；</li><li>第 3 次调用（传话人 3）：算 <code>new_x≈1.4142</code>，<code>i=3</code>，传给传话人 4；</li><li>第 4 次调用（传话人 4）：算 <code>new_x≈1.4142</code>，<code>i=4</code>，发现 “答案对了”（满足终止条件），于是把 <code>1.4142</code> 回头告诉传话人 3；</li><li>关键问题来了！<strong>传话人 3 拿到答案后，没再回头告诉传话人 2</strong>：<ul><li>你的代码里，传话人 3（第 3 次调用）在 <code>else</code> 分支里，只做了 “接收传话人 4 的答案（给 <code>new_x</code> 赋值）”，但没做 “把答案传给传话人 2”（没写 <code>return new_x</code>）；</li><li>就像传话人 3 拿到答案后，站在原地不说话，传话人 2 等不到回复，只能随便编一个 “乱码消息” 传给传话人 1，最后你拿到的就是 “垃圾值”；</li></ul></li></ol><h5 id="举个生活例子更直观"><a href="#举个生活例子更直观" class="headerlink" title="举个生活例子更直观"></a>举个生活例子更直观</h5><p>比如：</p><ul><li>你（主函数）让小明（传话人 1）去问 “最准确的 √2 是多少”，小明问小红（传话人 2），小红问小刚（传话人 3），小刚问小丽（传话人 4）；</li><li>小丽（传话人 4）算出答案是 <code>1.4142</code>，告诉小刚；</li><li>但小刚（传话人 3）拿到答案后，不告诉小红，小红只能瞎编一个 <code>999</code> 告诉小明，小明再把 <code>999</code> 告诉你；</li></ul><h5 id="修复方案：“拿到答案后，必须回头传话”"><a href="#修复方案：“拿到答案后，必须回头传话”" class="headerlink" title="修复方案：“拿到答案后，必须回头传话”"></a>修复方案：“拿到答案后，必须回头传话”</h5><p>只要在 <code>else</code> 分支里加一句 <code>return new_x</code>，就是让 “传话人拿到答案后，回头告诉上一个人”：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">else</span> &#123;<br>    new_x = Fx(a, new_x, i);  <span class="hljs-comment">// 接收下一个人的答案</span><br>    <span class="hljs-keyword">return</span> new_x;  <span class="hljs-comment">// 把答案回头传给上一个人（关键！）</span><br>&#125;<br></code></pre></td></tr></table></figure><p>这样：</p><ul><li>传话人 4 告诉传话人 3：答案是 <code>1.4142</code>；</li><li>传话人 3 拿到后，马上告诉传话人 2：答案是 <code>1.4142</code>；</li><li>传话人 2 告诉传话人 1：答案是 <code>1.4142</code>；</li><li>传话人 1 告诉你：答案是 <code>1.4142</code>；</li><li>你拿到正确答案</li></ul><h5 id="为什么不加return也可以？"><a href="#为什么不加return也可以？" class="headerlink" title="为什么不加return也可以？"></a>为什么不加return也可以？</h5><p>直接运行这个程序，不加<code>return new_x;</code></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Input a=?     2 <br><br>a=2.000000,x=1.414214<br></code></pre></td></tr></table></figure><p>看看，第4个人告诉第3个人后，第三个人站着发呆，第一个人也能正确得出答案</p><p><strong>秘密：C 语言的 “函数返回值残留”（运气成分）</strong></p><p>C 语言里，函数的返回值是通过「CPU 的特定寄存器」传递的（比如 x86 架构的<code>eax</code>寄存器）—— 这个寄存器是所有函数共用的 “临时中转站”。</p><p>用这个逻辑再看你的代码：</p><ol><li>传话人 4（第 4 次调用）满足终止条件，执行<code>return new_x</code> → 把 1.4142 放进了「eax 寄存器」，然后返回给传话人 3；</li><li>传话人 3（第 3 次调用）接收后，把 1.4142 赋值给<code>new_x</code>，但没写<code>return</code> → 函数执行完后，没有主动修改「eax 寄存器」里的值（还是 1.4142）；</li><li>传话人 3 返回给传话人 2 时，CPU 默认把「eax 寄存器」里的当前值（1.4142）当成返回值传给传话人 2；</li><li>传话人 2（第 2 次调用）同样：接收后赋值给<code>new_x</code>，没写<code>return</code> → 「eax 寄存器」还是 1.4142，返回给传话人 1；</li><li>传话人 1（第 1 次调用）接收后赋值给<code>new_x</code>，没写<code>return</code> → 「eax 寄存器」依然是 1.4142，最终返回给主函数<code>x</code>；</li><li>结果：主函数拿到了正确答案，但这和你的代码逻辑无关，纯粹是「寄存器的值没被覆盖」的巧合！</li></ol><h6 id="举个更直观的例子："><a href="#举个更直观的例子：" class="headerlink" title="举个更直观的例子："></a>举个更直观的例子：</h6><p>就像：</p><ul><li>小丽（传话人 4）把答案 1.4142 放进了一个 “公共快递柜”（eax 寄存器）；</li><li>小刚（传话人 3）拿到快递后，没重新放进柜子，但也没拿走 &#x2F; 替换里面的东西；</li><li>小红（传话人 2）、小明（传话人 1）依次来取，看到柜子里还是 1.4142，就直接拿走了；</li><li>你（主函数）最终拿到答案，但这不是因为小刚、小红主动传了话，而是他们 “没动快递柜里的东西”。</li></ul><h6 id="为什么说这是-“运气好”？（未定义行为的风险）"><a href="#为什么说这是-“运气好”？（未定义行为的风险）" class="headerlink" title="为什么说这是 “运气好”？（未定义行为的风险）"></a>为什么说这是 “运气好”？（未定义行为的风险）</h6><p>C 语言标准明确规定：<strong>非 void 函数如果没有显式 return，返回值是 “未定义行为”</strong>（编译器想怎么处理都可以）。</p><p>你的代码能跑通，只是因为：</p><ul><li>VS 编译器在 Debug 模式下，不会主动清空<code>eax</code>寄存器的值；</li><li>递归过程中，没有其他操作覆盖<code>eax</code>里的正确答案。</li></ul><p>但只要满足以下任何一个条件，答案就会出错 &#x2F; 程序崩溃：</p><ol><li>换个编译器（比如 GCC、Clang）：有些编译器会在函数结束时，把<code>eax</code>寄存器清零或设为随机值，返回的就是垃圾值；</li><li>函数里加更多代码：比如在<code>else</code>分支里加一句<code>printf</code>（会修改<code>eax</code>寄存器），正确答案就被覆盖了；</li><li>递归次数更多：中间某个函数的操作覆盖了<code>eax</code>，最后返回随机值。</li></ol><h6 id="验证：加一句代码，正确答案就没了！"><a href="#验证：加一句代码，正确答案就没了！" class="headerlink" title="验证：加一句代码，正确答案就没了！"></a>验证：加一句代码，正确答案就没了！</h6><p>给你的<code>else</code>分支加一句<code>printf</code>（模拟修改寄存器），再运行：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>new_x = Fx(a,new_x);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;加一句打印\n&quot;</span>);  <span class="hljs-comment">// 新增：修改eax寄存器</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行结果会变成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Input a=?2<br>加一句打印<br>加一句打印<br>加一句打印<br><br>a=2.000000,x=0.000000  // 答案变成垃圾值！<br></code></pre></td></tr></table></figure><p>原因：<code>printf</code>函数执行后，会修改<code>eax</code>寄存器的值（把<code>printf</code>的返回值放进寄存器），覆盖了之前的正确答案 1.4142，最后主函数拿到的就是<code>printf</code>的返回值（或随机值）。</p><h6 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h6><ol><li>你能得到正确答案，是「寄存器残留正确值」的巧合，不是代码逻辑正确；</li><li>非 void 函数必须在所有分支都写<code>return</code>—— 这是 C 语言的 “语法铁律”，不写就是未定义行为，今天运气好跑通，明天换环境就可能崩；</li><li>你的代码简化后，正确写法应该是：</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a,<span class="hljs-type">float</span> x)</span> &#123;<br><span class="hljs-type">float</span> new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(new_x-x)&lt;=EPS) &#123;<br><span class="hljs-keyword">return</span> new_x;<br>&#125;<br><span class="hljs-keyword">return</span> Fx(a, new_x);  <span class="hljs-comment">// 直接返回递归结果，不用else和中间赋值</span><br>&#125;<br></code></pre></td></tr></table></figure><p>简单说：「没写 return 还能对」是 C 语言给你开的 “运气挂”，但编程不能靠运气，规范写法才是王道～</p><h3 id="【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。"><a href="#【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。" class="headerlink" title="【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。"></a>【3】实现功能：如果迭代20次之后仍未能达到精度要求，也停止计算。</h3><p>直接在Fx的定义中添加if终止循环：</p><p>代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span> <span class="hljs-title function_">Fx</span><span class="hljs-params">(<span class="hljs-type">float</span> a, <span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* i)</span> &#123;<br>    <span class="hljs-type">float</span> new_x = x;<br>    <span class="hljs-keyword">do</span> &#123;<br>        x = new_x;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);<br>        (*i)++;<br>        <span class="hljs-keyword">if</span> (*i &gt;= <span class="hljs-number">20</span>) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);<br>    <span class="hljs-keyword">return</span> new_x;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="【4】简单且高效的代码："><a href="#【4】简单且高效的代码：" class="headerlink" title="【4】简单且高效的代码："></a>【4】简单且高效的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5  <span class="hljs-comment">// 精度要求：0.00001</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_ITER 20  <span class="hljs-comment">// 最大迭代次数</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">float</span> a, x, new_x;<br>    <span class="hljs-type">int</span> iter = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 迭代次数</span><br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input a=?&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;a);  <span class="hljs-comment">// 标准输入函数，兼容性更好</span><br>    <br>    x = a;  <span class="hljs-comment">// 初始值x0=a</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        new_x = <span class="hljs-number">0.5</span> * (x + a / x);  <span class="hljs-comment">// 牛顿迭代公式</span><br>        iter++;  <span class="hljs-comment">// 迭代次数加1</span><br>        <span class="hljs-keyword">if</span> (iter &gt;= MAX_ITER) &#123;<br>            <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// 超过20次迭代则停止</span><br>        &#125;<br>        x = new_x;  <span class="hljs-comment">// 更新x为新迭代值</span><br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(new_x - x) &gt;= EPS);  <span class="hljs-comment">// 精度未满足则继续迭代</span><br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\na=%.6f,x=%.6f,i=%d&quot;</span>, a, new_x, iter);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结:"></a>总结:</h2><ol><li>减少冗余的参数传递，让代码更简洁。</li><li>递归调用的注意事项</li><li>全局变量的运用</li></ol><p>​</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>含5的自然数的和</title>
    <link href="/2025/11/18/%E5%90%AB5%E7%9A%84%E8%87%AA%E7%84%B6%E6%95%B0%E7%9A%84%E5%92%8C/"/>
    <url>/2025/11/18/%E5%90%AB5%E7%9A%84%E8%87%AA%E7%84%B6%E6%95%B0%E7%9A%84%E5%92%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="含5的自然数的和"><a href="#含5的自然数的和" class="headerlink" title="含5的自然数的和"></a>含5的自然数的和</h1><p>这绝对是我目前写过最优美的代码了！！！</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>编程计算n以内(包括n，0&lt;n&lt;1000）含5的所有自然数（例如：5，15，25，50，405等，不超过三位数）的和。其中n的值由键盘输入。<br>注：（1）不能使用指针、结构体、共用体、文件、goto、枚举类型进行编程。<br>    （2）用标准C语言编程，所有变量必须在第一条可执行语句前定义。<br>    （3）输入输出格式要和以下给定格式完全一致。<br>**输入提示信息：”Input n(0&lt;n&lt;1000)\n”<br>**输入数据格式：”%d”<br>**输出格式：”%d\n”<br>运行示例：<br>Input n(0&lt;n&lt;1000)<br>500<br>24450</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">//函数的声明</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_contianfive</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n, sum=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n(0&lt;n&lt;1000)\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (;n &gt; <span class="hljs-number">0</span>;n--) &#123;<br><span class="hljs-keyword">if</span> (is_contianfive(n)) &#123;<span class="hljs-comment">//函数的调用</span><br>sum += n;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//判断是否含5</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_contianfive</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-type">int</span> last;<br><span class="hljs-keyword">while</span> (n != <span class="hljs-number">0</span>) &#123;<br>last = n % <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (last == <span class="hljs-number">5</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>n /= <span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">return</span> last == <span class="hljs-number">5</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>利用了刚学的函数封装</p><p>是我自己独立写的哟，既然又是给自己看，我在这里就不再分析代码里了</p><p>慢慢欣赏吧~</p><h2 id="ai写的代码："><a href="#ai写的代码：" class="headerlink" title="ai写的代码："></a>ai写的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> n, i, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> hundreds, tens, units;  <span class="hljs-comment">// 分别存储百位、十位、个位数字</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input n(0&lt;n&lt;1000)\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-comment">// 提取各位数字</span><br>        hundreds = i / <span class="hljs-number">100</span>;    <span class="hljs-comment">// 百位数字（0表示不足三位）</span><br>        tens = (i / <span class="hljs-number">10</span>) % <span class="hljs-number">10</span>;  <span class="hljs-comment">// 十位数字</span><br>        units = i % <span class="hljs-number">10</span>;        <span class="hljs-comment">// 个位数字</span><br><br>        <span class="hljs-comment">// 判断是否包含数字5</span><br>        <span class="hljs-keyword">if</span> (hundreds == <span class="hljs-number">5</span> || tens == <span class="hljs-number">5</span> || units == <span class="hljs-number">5</span>) &#123;<br>            sum += i;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>嗯，怎么说呢，可读性比我高，思路不一样</p><ul><li>AI写的代码需要计算每一位是否为5，而我利用循环从个位开始取值，一旦出现5就终止循环</li><li>AI的代码有局限性（根据题目要求三位数的范围），而我写的代码可以适用高位数（小于2147483647）</li></ul><p>也是好代码</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>回文数|逻辑非” 运算符|函数封装</title>
    <link href="/2025/11/17/%E5%9B%9E%E6%96%87%E6%95%B0%E3%80%81%E9%80%BB%E8%BE%91%E9%9D%9E%E2%80%9D%20%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85/"/>
    <url>/2025/11/17/%E5%9B%9E%E6%96%87%E6%95%B0%E3%80%81%E9%80%BB%E8%BE%91%E9%9D%9E%E2%80%9D%20%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="回文数Palindrome-number"><a href="#回文数Palindrome-number" class="headerlink" title="回文数Palindrome number"></a>回文数Palindrome number</h1><p>这绝对是我目前写过最久的程序！</p><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>回文数的形成。任取一个十进制整数，将其倒过来后与原来的整数相加，得到一个新的整数后，重复以上步骤，最终可得到一个回文数，请编程验证。<br>**输入格式要求：”%ld” 提示信息：”please enter a number optionaly:”  “The generation process of palindrome:\n”  “  input error, break.\n”<br>**输出格式要求：”   [%d]: %ld+%ld&#x3D;%ld\n”  “Here we reached the aim at last !\n”<br>程序运行示例如下：<br>please enter a number optionaly:345<br>The generation process of palindrome:</p><p>Here we reached the aim at last !</p><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">long</span> number, reversenumber = <span class="hljs-number">0</span>, last, newnumber, initial;<br><span class="hljs-type">int</span> count = <span class="hljs-number">1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter a number optionaly:&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%ld&quot;</span>, &amp;number);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The generation process of palindrome:\n&quot;</span>);<br>initial = number;<br><span class="hljs-keyword">while</span> (<span class="hljs-number">10086</span>) &#123;<br><span class="hljs-keyword">while</span> (number != <span class="hljs-number">0</span>) &#123;<br>last = number % <span class="hljs-number">10</span>;<br>number = number / <span class="hljs-number">10</span>;<br>reversenumber = reversenumber * <span class="hljs-number">10</span> + last;<br>&#125;<br>newnumber = initial + reversenumber;<br><span class="hljs-keyword">if</span> (initial == reversenumber) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, count, initial, reversenumber, newnumber);<br>number = newnumber;<br>initial = number;<br>reversenumber = <span class="hljs-number">0</span>;<br>last = <span class="hljs-number">0</span>;<br>count++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Here we reached the aim at last !\n&quot;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="中途遇到的问题："><a href="#中途遇到的问题：" class="headerlink" title="中途遇到的问题："></a>中途遇到的问题：</h3><ul><li><p><code>%ld</code>是什么？</p><p>​全称是 “long decimal”，用于**整数类型 <code>long</code>**（长整型）的输入输出。</p></li><li><p><code>int</code>和<code>long</code>有什么区别？</p><ul><li><p>**<code>int</code>**：</p><p>通常占 4 字节（32 位），可表示的范围约为 <strong>-21 亿～+21 亿</strong>（-2³¹ ~ 2³¹-1）。</p><p>例如：<code>int</code> 最大能精确存储 2147483647，超过这个数就会 “溢出”（结果错误）。</p></li><li><p>**<code>long</code>**：</p><p>至少占 4 字节（32 位系统），64 位系统中通常占 8 字节，可表示的范围约为 <strong>-922 亿亿～+922 亿亿</strong>（-2⁶³ ~ 2⁶³-1）。</p><p>例如：8 字节的 <code>long</code> 能轻松存储像 123456789012345 这样的大整数，而 <code>int</code> 会溢出。</p></li><li><p>内存占用不同</p><p><code>int</code>：固定 4 字节（几乎所有系统）。</p><p><code>long</code>：32 位系统中 4 字节，64 位系统中 8 字节（目的是利用更大的内存空间扩展表示范围）。</p></li><li><p>什么时候用 <code>int</code>？什么时候用 <code>long</code>？</p><p>​用 <code>int</code>：处理普通大小的整数（比如年龄、数量、10 亿以内的数），更节省内存，效率略高。</p><p>​用 <code>long</code>：处理超过 <code>int</code> 范围的大整数（比如身份证号、天文数字、大金额），避免溢出错误。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">2147483647</span>;    <span class="hljs-comment">// int 的最大值</span><br>    <span class="hljs-type">long</span> b = <span class="hljs-number">2147483648</span>;   <span class="hljs-comment">// 超过 int 范围，必须用 long</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;int 最大值+1: %d\n&quot;</span>, a + <span class="hljs-number">1</span>);  <span class="hljs-comment">// 溢出，结果错误（变成-2147483648）</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;long 存储大整数: %ld\n&quot;</span>, b);   <span class="hljs-comment">// 正确输出 2147483648</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>简单说：<code>int</code> 是 “普通整数”，<code>long</code> 是 “大整数”，根据需要存储的数值大小选择即可。</p></li></ul></li></ul><p>最后写的我头皮发麻，浑身燥热，饥渴难耐…….不过还好，自己还是把这个几把代码写出来了</p><p>看看AI是怎么写的把！</p><h2 id="AI的代码："><a href="#AI的代码：" class="headerlink" title="AI的代码："></a>AI的代码：</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 函数声明</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">long</span> num, original, reversed, sum;<br>    <span class="hljs-type">int</span> step = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// 提示用户输入数字</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter a number optionaly:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%ld&quot;</span>, &amp;num);<br><br>    <span class="hljs-comment">// 输出回文数生成过程标题</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The generation process of palindrome:\n&quot;</span>);<br><br>    original = num;<br><br>    <span class="hljs-comment">// 循环直到得到回文数</span><br>    <span class="hljs-keyword">while</span> (!is_palindrome(original)) &#123;<br>        step++;<br>        reversed = reverse_num(original);<br>        sum = original + reversed;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>        original = sum;<br>    &#125;<br><br>    <span class="hljs-comment">// 如果初始数就是回文数，需要显示第一步</span><br>    <span class="hljs-keyword">if</span> (step == <span class="hljs-number">0</span>) &#123;<br>        step++;<br>        reversed = reverse_num(original);<br>        sum = original + reversed;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>    &#125;<br><br>    <span class="hljs-comment">// 输出最终结果</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Here we reached the aim at last !\n&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 函数：将数字反转</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-type">long</span> reversed = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (num != <span class="hljs-number">0</span>) &#123;<br>        reversed = reversed * <span class="hljs-number">10</span> + num % <span class="hljs-number">10</span>;<br>        num /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> reversed;<br>&#125;<br><br><span class="hljs-comment">// 函数：判断是否为回文数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-keyword">return</span> num == reverse_num(num);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="解读："><a href="#解读：" class="headerlink" title="解读："></a>解读：</h3><ol><li>将反转数字和判断回文数封装到两个函数中，使代码可读性强</li><li>封装到两个独立函数，避免循环嵌套的时候出现变量需不断重新归零，或避免在主函数中定义过多变量，降低大妈可读性</li></ol><p>看看是怎么实现的把：</p><h4 id="反转数字："><a href="#反转数字：" class="headerlink" title="反转数字："></a>反转数字：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>; <span class="hljs-comment">// 函数声明</span><br><br><span class="hljs-comment">// 函数的定义：将数字反转  //定义reverse_num()函数</span><br><span class="hljs-type">long</span> <span class="hljs-title function_">reverse_num</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-type">long</span> reversed = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (num != <span class="hljs-number">0</span>) &#123;<br>        reversed = reversed * <span class="hljs-number">10</span> + num % <span class="hljs-number">10</span>;<br>        num /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> reversed;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>这个里面的的reversed不是在主函数中已经定义了吗，还需要定义？</p><p>在 C 语言中，变量的作用域（即变量能被访问的范围）是由定义它的位置决定的。 <code>reversed</code> 变量在 <strong>主函数（<code>main</code>）</strong> 和 <strong><code>reverse_num</code> 函数</strong> 中是完全独立的两个变量，原因如下：</p><ol><li>变量的 “作用域” 不同</li></ol><ul><li>在 <code>reverse_num</code> 函数中定义的 <code>long reversed = 0;</code>，其作用域 <strong>仅限于 <code>reverse_num</code> 函数内部</strong>。离开这个函数后，这个变量就不存在了，其他函数（包括 <code>main</code> 函数）无法直接访问它。</li><li>主函数（<code>main</code>）中如果定义了 <code>reversed</code> 变量（比如你可能在 <code>main</code> 里写了 <code>long reversed;</code>），它的作用域 <strong>仅限于 <code>main</code> 函数内部</strong>。<code>reverse_num</code> 函数无法访问 <code>main</code> 中的这个变量。</li></ul><ol start="2"><li>为什么需要在 <code>reverse_num</code> 中重新定义？</li></ol><ul><li><code>reverse_num</code> 函数的功能是 “计算一个数字的反转数”，这个过程需要一个临时变量来存储反转后的结果（比如从 0 开始，逐步拼接原数字的每一位）。这个临时变量只在函数内部使用，和 <code>main</code> 函数中可能存在的 <code>reversed</code> 变量没有任何关系。</li></ul><p>即使两个变量名字相同，由于作用域不同，它们会被编译器视为 <strong>两个完全独立的变量</strong>（可以理解为 “同名不同人”），各自占用不同的内存空间，互不影响。</p></li><li><p><code>num /= 10</code>是什么意思？</p><p><code>num /= 10</code> 等价于 <code>num = num / 10</code></p></li><li><p><code>reversed = reversed * 10 + num % 10</code>中将”取最后一位数字”整合到递推中，使代码更简洁</p></li><li><p>函数独立封装的好处</p><ul><li>避免循环嵌套，导致reverse_num在上一次循环中的值，运用在了下一次循环<code>reversed = reversed * 10 + num % 10</code>的第二个reverse中（每一次循环reverse的初始值都要为0），当然实现方法就是在每一个循环的开头重新定义reverse的初始值‘0’</li></ul></li></ul><h4 id="判断是否为回文数："><a href="#判断是否为回文数：" class="headerlink" title="判断是否为回文数："></a>判断是否为回文数：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span>;<span class="hljs-comment">// 函数声明</span><br><br><span class="hljs-comment">// 函数：判断是否为回文数</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">is_palindrome</span><span class="hljs-params">(<span class="hljs-type">long</span> num)</span> &#123;<br>    <span class="hljs-keyword">return</span> num == reverse_num(num);<br>&#125;<br><br><span class="hljs-comment">//函数的调用</span><br><span class="hljs-keyword">while</span> (!is_palindrome(original))&#123;<br>    <br>    <br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p><code>return num == reverse_num(num)</code> 是什么意思？</p><p>这行代码的作用是<strong>判断一个数是否为回文数</strong>，并返回判断结果。</p><ul><li><code>==</code> 是 “等于” 运算符，用于比较左右两边的值是否相等，相等则返回 <code>1</code>（真），不相等则返回 <code>0</code>（假）。</li><li><code>reverse_num(num)</code> 会计算 <code>num</code> 的反转数（例如 <code>num=345</code> 时，反转数是 <code>543</code>）。</li></ul><p>因此：</p><ul><li>如果 <code>num</code> 和它的反转数相等（比如 <code>num=888</code>，反转数也是 <code>888</code>），则 <code>num == reverse_num(num)</code> 为 <code>1</code>，函数返回 <code>1</code>（表示是回文数）。</li><li>如果不相等（比如 <code>num=345</code>，反转数是 <code>543</code>），则返回 <code>0</code>（表示不是回文数）。</li></ul></li><li><p>这里的<code>!is_palindrome(original)</code>的感叹号！是什么意思？</p><p>由于这里循环继续进行的条件是original不是回文数，而<code>is_palindrome(original)</code>判断不是回文数会返回0从而终止循环</p><p>所以这里需要反转一下：</p><p>感叹号 <code>!</code> 是 “逻辑非” 运算符，作用是<strong>取相反的布尔值</strong>（真变假，假变真）。</p><p><code>is_palindrome(original)</code> 的返回值是：</p><ul><li>如果 <code>original</code> 是回文数，返回 <code>1</code>（真）；</li><li>如果不是回文数，返回 <code>0</code>（假）。</li></ul><p>因此 <code>!is_palindrome(original)</code> 的意思是：</p><ul><li>当 <code>original</code> <strong>不是</strong> 回文数时，条件为 <code>真</code>（1），循环继续执行（继续相加反转数）；</li><li>当 <code>original</code> <strong>是</strong> 回文数时，条件为 <code>假</code>（0），循环停止。</li></ul></li><li><p>简单明了地呈现循环条件，避免使用if中的条件判断和break使代码更复杂，同时也避免了非要使用if来打破循环时if语句不知道放哪的烧脑与尴尬</p></li></ul><h4 id="单独列出特殊情况"><a href="#单独列出特殊情况" class="headerlink" title="单独列出特殊情况"></a>单独列出特殊情况</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c">   <span class="hljs-comment">//如果初始值original通过函数is_palindrome()判断是回文数并返回1</span><br><span class="hljs-comment">//经过！反转布尔值后为假，则无法进入while循环并打印[%d]: %ld+%ld=%ld\n</span><br><span class="hljs-comment">//从而无法达到题目要求，又无法改变‘！‘语法，所以要单独说明</span><br><span class="hljs-keyword">while</span> (!is_palindrome(original)) &#123;<br>       <br>   &#125;<br><br><br>   <span class="hljs-keyword">if</span> (step == <span class="hljs-number">0</span>) &#123;<br>       step++;<span class="hljs-comment">//step = 2</span><br>       reversed = reverse_num(original);<br>       sum = original + reversed;<br>       <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;   [%d]: %ld+%ld=%ld\n&quot;</span>, step, original, reversed, sum);<br>   &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>泰勒展开式</title>
    <link href="/2025/11/16/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80%E5%BC%8F/"/>
    <url>/2025/11/16/%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="泰勒展开式"><a href="#泰勒展开式" class="headerlink" title="泰勒展开式"></a>泰勒展开式</h1><h3 id="一、题目："><a href="#一、题目：" class="headerlink" title="一、题目："></a>一、题目：</h3><p>利用泰勒级数sin(x) &#x3D; x - x^3&#x2F;3! + x^5&#x2F;5! - x^7&#x2F;7! + x^9&#x2F;9! …</p><p>计算sin(x) 的值。要求最后一项的绝对值小于10^(-5)，并统计出此时累加了多少项。</p><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-5</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> n = <span class="hljs-number">1</span>,count = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">float</span> x;<br>    <span class="hljs-type">double</span> sum , term;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input x: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f&quot;</span>, &amp;x);<br><br>    sum = x;<br>    term = x;<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>        term = (<span class="hljs-number">-1</span>)*term*x*x/((n+<span class="hljs-number">1</span>)*(n+<span class="hljs-number">2</span>));<br>        <span class="hljs-comment">//printf(&quot;wbs&quot;);                            //代码调试</span><br>        <span class="hljs-comment">//printf(&quot;%lf&quot;,term);//代码调试</span><br>        sum = sum + term;<br>        n=n+<span class="hljs-number">2</span>;<br>        count++;<br>    &#125;<span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(term) &gt;= EPS);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sin(x) = %lf, count = %d\n&quot;</span>, sum, count);<br>&#125;<br></code></pre></td></tr></table></figure><p>觉得这个代码很优美，很好地运用了递推，再加上高中时候对泰勒展开式（比较大小题中）不是很熟，故记了一篇markdown</p><hr><hr><h1 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h1><ul><li>C语言中，我想表示： a&#x3D;-a+1的递推，直接这么写在代码中是不是对的？</li></ul><p>​还是非要要写成这个吗？： </p><p>​<code>a=(-1)*a+1</code></p><p>在 C 语言中，<code>a = -a + 1</code> 这样的写法是完全正确的，和 <code>a = (-1) * a + 1</code> 是等价的，两者在逻辑和运算结果上没有任何区别。</p><p>C 语言的运算符优先级中，负号（<code>-</code>，单目运算符）的优先级高于加法（<code>+</code>）和乘法（<code>*</code>），因此 <code>a = -a + 1</code> 会被编译器自动解析为 <code>a = (-a) + 1</code>，即先计算 <code>-a</code>，再加上 1，这正是你需要的递推逻辑。</p><p>两种写法都可以正常工作，实际开发中更推荐 <code>a = -a + 1</code>，因为它更简洁直观，符合常规的数学表达习惯。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>函数的调用与指针初探</title>
    <link href="/2025/11/16/%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%88%9D%E6%8E%A2/"/>
    <url>/2025/11/16/%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="函数的调用与指针初探"><a href="#函数的调用与指针初探" class="headerlink" title="函数的调用与指针初探"></a>函数的调用与指针初探</h1><h3 id="一、背景"><a href="#一、背景" class="headerlink" title="一、背景"></a>一、背景</h3><p>利用二分法求函数的根</p><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;                      <span class="hljs-comment">//函数的声明</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">double</span> x1, x2, x0;<br><span class="hljs-type">double</span> fx1, fx2, fx0;<br><span class="hljs-type">double</span> left, right;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>left = x1;<br>right = x2;<br><span class="hljs-keyword">do</span> &#123;<br>fx1 = f(x1);<span class="hljs-comment">//函数的调用</span><br>fx2 = f(x2);<br>x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>fx0 = f(x0);<br><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>x1 = x0;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>x2 = x0;<br>&#125;<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0) &gt;= EPS);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<span class="hljs-comment">//函数的定义</span><br><span class="hljs-type">double</span> value;<br>value = x * x - x - <span class="hljs-number">2</span>;<br><span class="hljs-keyword">return</span> value;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>函数的声明</p><p>提前告诉编译器 “存在这样一个函数”，并说明函数的返回值类型、名称和参数类型</p><p>编译器先看到<code>f()</code>的声明，知道它是一个接收两个<code>double</code>、返回<code>double</code>的函数</p></li><li><p>函数的定义</p><p>完整描述函数的功能逻辑，包括参数的具体处理步骤和返回结果</p></li><li><p>函数的调用</p><p>在需要的地方（如<code>main</code>函数中）通过函数名和实际参数，触发函数定义中的逻辑执行，完成特定任务（如计算、打印、数据处理等）</p></li></ul><h3 id="三、科学计数法"><a href="#三、科学计数法" class="headerlink" title="三、科学计数法"></a>三、科学计数法</h3><p>在 C 语言（以及多数编程语言）中，科学计数法的写法略有简化，用 <strong><code>e</code> 或 <code>E</code></strong> 代替 “×10ⁿ”，格式为：<code>数字e指数</code> 或 <code>数字E指数</code></p><h4 id="举例说明："><a href="#举例说明：" class="headerlink" title="举例说明："></a>举例说明：</h4><ol><li>**<code>1e-2</code>**对应数学中的 <strong>1 × 10⁻²</strong>，即 (1 \div 10^2 &#x3D; 1 \div 100 &#x3D; 0.01)。</li><li>**<code>2.5e3</code>**对应 <strong>2.5 × 10³</strong>，即 (2.5 \times 1000 &#x3D; 2500)。</li><li>**<code>3e-5</code>**对应 <strong>3 × 10⁻⁵</strong>，即 (3 \div 100000 &#x3D; 0.00003)。</li><li>**<code>6.02E23</code>**（科学常数阿伏伽德罗常数）对应 <strong>6.02 × 10²³</strong>，是一个极大的数。</li></ol><h4 id="核心规则："><a href="#核心规则：" class="headerlink" title="核心规则："></a>核心规则：</h4><ul><li>指数为 <strong>正数</strong> 时，表示乘以 10 的幂（数值变大）；</li><li>指数为 <strong>负数</strong> 时，表示除以 10 的幂（数值变小）；</li><li>尾数可以是整数（如 <code>1e3</code>）或小数（如 <code>2.5e-2</code>）。</li></ul><h3 id="四、备注"><a href="#四、备注" class="headerlink" title="四、备注"></a>四、备注</h3><h5 id="1-可以没有函数的声明，直接把函数的定义放到主函数的前面吗？"><a href="#1-可以没有函数的声明，直接把函数的定义放到主函数的前面吗？" class="headerlink" title="1.可以没有函数的声明，直接把函数的定义放到主函数的前面吗？"></a>1.可以没有函数的声明，直接把函数的定义放到主函数的前面吗？</h5><p>可以。如果将函数的定义放在主函数（<code>main</code>函数）之前，此时函数定义本身就兼具了 “声明” 的作用，因此可以省略单独的函数声明。</p><p>只适合函数代码比较简单的程序，否则如果头重脚轻，程序就显得不好看</p><h5 id="2-可以将函数返回值类型改为void吗？"><a href="#2-可以将函数返回值类型改为void吗？" class="headerlink" title="2.可以将函数返回值类型改为void吗？"></a>2.可以将函数返回值类型改为<code>void</code>吗？</h5><p>可以，但需要注意：<code>void</code>表示函数<strong>没有返回值</strong>，因此函数体内不能有return 表达式，如果改为<code>void f()</code>，函数的功能需要调整 —— 比如直接在函数内部打印结果，而不是通过<code>return</code>返回给调用者</p><p>​例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-comment">// 1. 函数声明（返回值类型改为void）</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span>;  <span class="hljs-comment">// 无返回值，仅执行操作</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num1 = <span class="hljs-number">5</span>, num2 = <span class="hljs-number">3</span>;<br>    <br>    <span class="hljs-comment">// 3. 函数调用：无需接收返回值，直接调用即可</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;计算%d和%d的乘积：\n&quot;</span>, num1, num2);<br>    multiply(num1, num2);  <span class="hljs-comment">// 调用后直接在函数内打印结果</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 2. 函数定义（返回值类型为void，无return语句）</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-type">int</span> result = a * b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;乘积是：%d\n&quot;</span>, result);  <span class="hljs-comment">// 直接在函数内输出结果</span><br>    <span class="hljs-comment">// 无需return（或可写 return; 但无实际意义）</span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="3、函数定义的括号里面参数名称可以省略吗？"><a href="#3、函数定义的括号里面参数名称可以省略吗？" class="headerlink" title="3、函数定义的括号里面参数名称可以省略吗？"></a>3、函数定义的括号里面参数名称可以省略吗？</h5><p>在函数定义中，<strong>参数名称不能省略</strong>。</p><p>函数定义的核心是实现函数的具体逻辑，而参数名称是函数体内操作输入数据的 “标识”。如果省略参数名称，函数体中将无法引用这些参数，导致逻辑无法实现，编译器会直接报错。</p><h1 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h1><p>可以将中间的<code>if</code>判断逻辑封装到独立函数中吗</p><p>可以，代码实现：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> fx0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> x1, x2, x0;<br>    <span class="hljs-type">double</span> fx1, fx2, fx0;<br>    <span class="hljs-type">double</span> left, right;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>    left = x1;<br>    right = x2;<br>    <span class="hljs-keyword">do</span> &#123;<br>        fx1 = f(x1);<br>        fx2 = f(x2);<br>        x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>        fx0 = f(x0);<br>        <span class="hljs-comment">// 调用独立函数处理区间更新逻辑</span><br>        judge(fx0, fx1, &amp;x1, &amp;x2, x0);<br>    &#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0) &gt;= EPS);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-comment">// 封装区间更新的逻辑</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> fx0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0)</span> &#123;<br>    <span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>        *x1 = x0;  <span class="hljs-comment">// 通过指针修改外部变量x1</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        *x2 = x0;  <span class="hljs-comment">// 通过指针修改外部变量x2</span><br>    &#125;<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<br>    <span class="hljs-keyword">return</span> x * x - x - <span class="hljs-number">2</span>;  <span class="hljs-comment">// 原函数保持不变</span><br>&#125;<br></code></pre></td></tr></table></figure><p>我自己写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> EPS 1e-2</span><br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span>)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>, <span class="hljs-type">double</span>)</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">double</span> x1, x2, x0;<br><span class="hljs-type">double</span> fx1, fx2, fx0;<br><span class="hljs-type">double</span> left, right;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入两个端点值x1,x2:\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%lf,%lf&quot;</span>, &amp;x1, &amp;x2);<br>left = x1;<br>right = x2;<br><span class="hljs-keyword">do</span> &#123;<br>fx1 = f(x1);<br>fx2 = f(x2);<br>x0 = (x1 + x2) / <span class="hljs-number">2</span>;<br>fx0 = f(x0);<br>judge(x1, x2, x0, fx1, fx0);<br>&#125; <span class="hljs-keyword">while</span> (<span class="hljs-built_in">fabs</span>(fx0)&gt;=EPS);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;在范围[%lf,%lf]中的根大约为%.3lf&quot;</span>, left, right, x0);<br>&#125;<br><br><span class="hljs-type">double</span> <span class="hljs-title function_">f</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> &#123;<br><span class="hljs-type">double</span> value;<br>value = x * x - x - <span class="hljs-number">2</span>;<br><span class="hljs-keyword">return</span> value;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> x1, <span class="hljs-type">double</span> x2, <span class="hljs-type">double</span> x0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> fx0)</span> &#123;<br><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>x1 = x0;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>x2 = x0;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>密码的，竟然报错了! </p><p>问了一下豆包：</p><p>你的代码中存在一个典型的 “值传递” 导致的逻辑错误，具体问题出在 <code>judge</code> 函数对 <code>x1</code> 和 <code>x2</code> 的修改无法作用到 <code>main</code> 函数中。</p><h3 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h3><p>C 语言函数参数传递默认是 <strong>值传递</strong>—— 函数接收的是实参的 “副本”（复制了一份值），而非变量本身。在你的代码中：</p><ul><li><code>main</code> 函数中的 <code>x1</code> 和 <code>x2</code> 是原始变量。</li><li>调用 <code>judge(x1, x2, x0, fx1, fx0)</code> 时，<code>judge</code> 函数接收的是 <code>x1</code> 和 <code>x2</code> 的 “副本”（函数内部的局部变量 <code>x1</code> 和 <code>x2</code>）。</li><li>在 <code>judge</code> 函数中修改 <code>x1 = x0</code> 或 <code>x2 = x0</code>，只能改变这个 “副本” 的值，无法影响 <code>main</code> 函数中原始的 <code>x1</code> 和 <code>x2</code>。</li></ul><p>因此，循环中 <code>x1</code> 和 <code>x2</code> &#x3D;&#x3D;始终保持初始值不变&#x3D;&#x3D;，导致二分法无法正常缩小区间，可能陷入死循环或计算错误。</p><h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><p>需要通过 <strong>指针</strong> 传递 <code>x1</code> 和 <code>x2</code> 的地址，让 <code>judge</code> 函数能直接修改 <code>main</code> 函数中的原始变量。</p><h3 id="问题解决："><a href="#问题解决：" class="headerlink" title="问题解决："></a>问题解决：</h3><p>AI在这里解释的很清楚，”仔细翻翻，看看有什么好东西”：</p><p>在 C 语言中，指针是一个非常核心的概念，它的本质是<strong>存储变量的内存地址</strong>。理解指针的作用和实现方式，能帮你搞清楚为什么之前的代码需要用指针才能正确修改<code>main</code>函数中的<code>x1</code>和<code>x2</code>。</p><h4 id="一、指针的核心作用：间接访问和修改变量"><a href="#一、指针的核心作用：间接访问和修改变量" class="headerlink" title="一、指针的核心作用：间接访问和修改变量"></a>一、指针的核心作用：间接访问和修改变量</h4><p>C 语言函数参数默认是 “值传递”—— 函数内部的参数只是外部变量的<strong>副本</strong>（复制了一份值）。如果想让函数内部修改外部变量的值，就必须通过指针 “绕个弯”，直接操作变量的内存地址。</p><p>举个生活例子：</p><ul><li>假设<code>main</code>函数中的<code>x1</code>是一个放在 “房间 A” 里的变量（内存地址是<code>0x1000</code>，值为<code>1.0</code>）。</li><li>如果不用指针，<code>judge</code>函数拿到的<code>x1</code>是 “房间 A” 里值的副本（放在 “房间 B”，地址<code>0x2000</code>，值也是<code>1.0</code>）。此时在<code>judge</code>里改<code>x1</code>，只是改了 “房间 B” 的值，“房间 A” 的<code>x1</code>完全不变。</li><li>如果用指针，<code>judge</code>函数拿到的是 “房间 A” 的地址（<code>0x1000</code>）。通过这个地址，<code>judge</code>可以直接去 “房间 A” 里修改<code>x1</code>的值，<code>main</code>函数自然能看到变化。</li></ul><h4 id="二、指针的实现方式（结合你的代码）"><a href="#二、指针的实现方式（结合你的代码）" class="headerlink" title="二、指针的实现方式（结合你的代码）"></a>二、指针的实现方式（结合你的代码）</h4><p>我们通过修改后的<code>judge</code>函数，一步步看指针是如何工作的：</p><h5 id="1-指针变量的定义"><a href="#1-指针变量的定义" class="headerlink" title="1. 指针变量的定义"></a>1. 指针变量的定义</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">judge</span><span class="hljs-params">(<span class="hljs-type">double</span> *x1, <span class="hljs-type">double</span> *x2, <span class="hljs-type">double</span> x0, <span class="hljs-type">double</span> fx1, <span class="hljs-type">double</span> fx0)</span><br></code></pre></td></tr></table></figure><ul><li><code>double *x1</code> 表示：<code>x1</code>是一个<strong>指针变量</strong>，它专门用来存储<code>double</code>类型变量的内存地址。</li><li><code>*</code> 在这里是 “指针声明符”，告诉编译器 “<code>x1</code>不是普通的<code>double</code>变量，而是指向<code>double</code>变量的指针”。</li></ul><h5 id="2-传递变量的地址（调用函数时）"><a href="#2-传递变量的地址（调用函数时）" class="headerlink" title="2. 传递变量的地址（调用函数时）"></a>2. 传递变量的地址（调用函数时）</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">judge(&amp;x1, &amp;x2, x0, fx1, fx0);<br></code></pre></td></tr></table></figure><ul><li><code>&amp;x1</code> 中的 <code>&amp;</code> 是 “取地址符”，作用是获取<code>main</code>函数中<code>x1</code>变量的内存地址（比如<code>0x1000</code>）。</li><li>此时，<code>judge</code>函数的参数<code>x1</code>（指针变量）会接收到这个地址（<code>0x1000</code>），即<code>x1</code>指向了<code>main</code>中的<code>x1</code>变量。</li></ul><h5 id="3-通过指针修改外部变量（函数内部）"><a href="#3-通过指针修改外部变量（函数内部）" class="headerlink" title="3. 通过指针修改外部变量（函数内部）"></a>3. 通过指针修改外部变量（函数内部）</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (fx0 * fx1 &gt; <span class="hljs-number">0</span>) &#123;<br>    *x1 = x0;  <span class="hljs-comment">// 修改指针指向的变量</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    *x2 = x0;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>*x1</code> 中的 <code>*</code> 是 “解引用符”，作用是 “通过指针<code>x1</code>存储的地址，找到它指向的变量”（即<code>main</code>中的<code>x1</code>）。</li><li><code>*x1 = x0</code> 等价于 “把<code>x0</code>的值放到指针<code>x1</code>指向的内存地址中”，也就是直接修改了<code>main</code>函数中的<code>x1</code>变量。</li></ul><h4 id="三、总结：指针如何解决你的问题"><a href="#三、总结：指针如何解决你的问题" class="headerlink" title="三、总结：指针如何解决你的问题"></a>三、总结：指针如何解决你的问题</h4><p>在你最初的代码中，<code>judge</code>函数接收的是<code>x1</code>和<code>x2</code>的副本，修改副本不会影响原始变量，导致二分法无法缩小区间。</p><p>通过指针：</p><ol><li><code>judge</code>函数拿到了<code>main</code>中<code>x1</code>和<code>x2</code>的内存地址（通过<code>&amp;x1</code>、<code>&amp;x2</code>传递）；</li><li>用<code>*x1</code>、<code>*x2</code>直接操作这个地址对应的变量，实现了 “在函数内部修改外部变量” 的效果；</li><li>最终<code>main</code>函数中的<code>x1</code>和<code>x2</code>能正确更新，二分法正常工作。</li></ol><p>简单说，指针就像一个 “遥控器”，拿着它（指针变量），你可以远程操作它指向的变量（不管这个变量在哪个函数里）。这也是 C 语言中实现函数间数据共享和修改的核心方式。</p><h2 id="我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒"><a href="#我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒" class="headerlink" title="我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒"></a>我说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了说白了我白说了：指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒指针就相当于一个末影盒</h2>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>排序逻辑与赋值运算符</title>
    <link href="/2025/11/16/%E6%8E%92%E5%BA%8F%E9%80%BB%E8%BE%91%E4%B8%8E%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/16/%E6%8E%92%E5%BA%8F%E9%80%BB%E8%BE%91%E4%B8%8E%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="排序逻辑与赋值运算符"><a href="#排序逻辑与赋值运算符" class="headerlink" title="排序逻辑与赋值运算符"></a>排序逻辑与赋值运算符</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天上课做题的时候碰见一个有趣的题目，关于怎么排序</p><p>这是题干：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex">请进行程序设计，从键盘上输入三个字符，根据其在计算机内的存储方式按照从小到大的顺序输出这三个字符。<br>字符输入方式可以使用scanf()或者getchar()<br>输入格式：&quot;<span class="hljs-comment">%c%c%c&quot;</span><br>输出格式：&quot;<span class="hljs-comment">%c %c %c\n&quot;</span><br></code></pre></td></tr></table></figure><p>根本不会写，后来问了豆包，我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">char</span> k,f,c,pron;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c%c%c&quot;</span>,&amp;k,&amp;f,&amp;c);<br>    <span class="hljs-keyword">if</span>(k&gt;f)&#123;<br>        pron=k;<br>        k=f;<br>        f=pron;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(k&gt;c)&#123;<br>        pron=k;<br>        k=c;<br>        c=pron;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(f&gt;c)&#123;<br>        pron=f;<br>        f=c;<br>        c=pron;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c %c %c\n&quot;</span>,k,f,c);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="排序逻辑"><a href="#排序逻辑" class="headerlink" title="排序逻辑"></a>排序逻辑</h3><p>核心是通过“两两比较、交换位置”的方式，把最小的放到最前面，中间的放中间，最大的放最后。</p><p>以输入的三个字符  a、b、c  为例，我们的目标是让  a ≤ b ≤ c （这里的“≤”是按字符的ASCII码比较）。</p><p>第一步：确保  a  是  a  和  b  中较小的</p><p>比如输入的  a&#x3D;’r’ 、 b&#x3D;’d’ ：</p><ul><li>因为  ‘r’ &gt; ‘d’ ，所以交换  a  和  b ，交换后  a&#x3D;’d’ 、 b&#x3D;’r’ 。</li><li>这一步完成后， a  一定是  a、b  里更小的那个。</li></ul><p>第二步：确保  a  是三个字符中最小的</p><p>经过第一步， a  已经是  a、b  里最小的了，但还要和  c  比：<br>比如现在  a&#x3D;’d’ 、 c&#x3D;’k’ ：</p><ul><li>因为  ‘d’ &lt; ‘k’ ，不需要交换；<br>如果  c  更小（比如  c&#x3D;’a’ ），就交换  a  和  c ，让  a  变成最小的。</li><li>这一步完成后， a  一定是三个字符中最小的那个。</li></ul><p>第三步：确保  b  是剩下两个里较小的</p><p>经过前两步， a  已经是最小的了，现在只需要比较  b  和  c ：<br>比如现在  b&#x3D;’r’ 、 c&#x3D;’k’ ：</p><ul><li>因为  ‘r’ &gt; ‘k’ ，交换  b  和  c ，交换后  b&#x3D;’k’ 、 c&#x3D;’r’ 。</li><li>这一步完成后， b  一定是  b、c  里更小的，而  a  已经是最小的，所以最终  a ≤ b ≤ c 。</li></ul><p>举个具体例子（对应题目输入  dnk ）</p><p>输入的三个字符是  a&#x3D;’d’ 、 b&#x3D;’n’ 、 c&#x3D;’k’ ：</p><ol><li>第一步：比较  a  和  b （ ‘d’ &lt; ‘n’ ）→ 不用交换， a&#x3D;’d’ 、 b&#x3D;’n’ ；</li><li>第二步：比较  a  和  c （ ‘d’ &lt; ‘k’ ）→ 不用交换， a  还是最小的；</li><li>第三步：比较  b  和  c （ ‘n’ &gt; ‘k’ ）→ 交换  b  和  c ，交换后  b&#x3D;’k’ 、 c&#x3D;’n’ ；</li></ol><p>最终结果就是  a&#x3D;’d’ 、 b&#x3D;’k’ 、 c&#x3D;’n’ ，输出  d k n （和题目示例一致）。</p><p>总结</p><p>这个逻辑的本质是：</p><ul><li>先把最小的字符“挑出来”放到  a  的位置；</li><li>再把剩下两个里较小的放到  b  的位置；</li><li>最后剩下的  c  自然是最大的。</li></ul><p>相当于“先定最小的，再定中间的，最后定最大的”，是不是更清楚啦~</p><h4 id="定义temp变量在这里的作用"><a href="#定义temp变量在这里的作用" class="headerlink" title="定义temp变量在这里的作用"></a>定义temp变量在这里的作用</h4><p>要理解 temp 的作用，首先得明确“交换两个变量的值”的逻辑——<strong>需要一个“临时容器”来暂存数据，避免交换时数据被覆盖丢失</strong>。</p><ol><li>temp 的含义</li></ol><p> temp 是一个临时变量（ temp 是“temporary（临时）”的缩写），用来临时存储字符的值，辅助完成两个字符变量的交换。</p><ol start="2"><li>交换的实现过程（以 if (a &gt; b) 的交换为例）</li></ol><p>假设输入的 a&#x3D;’d’ 、 b&#x3D;’n’ （实际是字符对应的ASCII码值比较， ‘d’ 的ASCII是100， ‘n’ 是110，所以 a &gt; b 不成立；这里举个反例，比如 a&#x3D;’n’ 、 b&#x3D;’d’ ，此时 a &gt; b 成立）：</p><ul><li>初始状态： a&#x3D;’n’ ， b&#x3D;’d’ </li><li>第一步： temp &#x3D; a;  → 把 a 的值（ ‘n’ ）暂存到 temp 里，此时 temp&#x3D;’n’ </li><li>第二步： a &#x3D; b;  → 把 b 的值（ ‘d’ ）赋值给 a ，此时 a&#x3D;’d’ </li><li>第三步： b &#x3D; temp;  → 把 temp 里暂存的 ‘n’ 赋值给 b ，此时 b&#x3D;’n’</li></ul><p>最终 a&#x3D;’d’ 、 b&#x3D;’n’ ，完成了 a 和 b 的交换，实现了 a ≤ b 。</p><ol start="3"><li>整个排序中 temp 的作用</li></ol><p>代码里的3次 if 判断，都是通过 temp 做“临时容器”，依次保证：</p><ul><li>第一次 if ： a  ≤  b </li><li>第二次 if ： a  ≤  c （此时 a 已经是前两个里最小的，再和 c 比较，确保 a 是三个里最小的）</li><li>第三次 if ： b  ≤  c （此时 a 是最小的，再调整 b 和 c 的顺序，最终 a ≤ b ≤ c ）</li></ul><p>简单说： temp 就像一个“中转站”，在交换两个变量时，先把其中一个值存起来，避免交换过程中数据被覆盖，从而完成两个变量的数值互换。</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>在C语言中，赋值运算符 &#x3D; 的逻辑是“把右边的值，赋给左边的变量”，核心是“右值给左变量”，所以等号两边的位置绝对不能交换，交换后逻辑会完全改变（甚至报错）。</p><p>具体逻辑关系：</p><ul><li>等号左边：必须是一个<strong>“可被赋值的变量”</strong>（也叫“左值”，是内存中有明确存储地址的容器）。</li><li>等号右边：可以是“变量、常量、表达式”（也叫“右值”，是一个具体的数值&#x2F;结果）。</li></ul><p>C语言的 <code>=</code> 是<strong>“右→左”的赋值方向</strong>，右边是“数据源”，左边是“数据的存储目标”，位置一旦颠倒，逻辑就会错误。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>fabs函数与abs函数</title>
    <link href="/2025/11/16/fabs%E5%87%BD%E6%95%B0%E4%B8%8Eabs%E5%87%BD%E6%95%B0/"/>
    <url>/2025/11/16/fabs%E5%87%BD%E6%95%B0%E4%B8%8Eabs%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="fabs函数与abs函数"><a href="#fabs函数与abs函数" class="headerlink" title="fabs函数与abs函数"></a>fabs函数与abs函数</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天在回顾我写的md时，注意到了我曾经写的一篇”震惊：fabs函数的使用注意”中对fabs函数返回值问题</p><p>瞬间，我联想到了舍友装逼写程序使用的abs函数</p><p>于是，我想看看abs函数和fabs函数有什么区别</p><p>于是我问了问AI（不要质疑我老是用AI，感觉老师也不教啊）</p><h3 id="二者的区别"><a href="#二者的区别" class="headerlink" title="二者的区别"></a>二者的区别</h3><p>在 C 语言中，<code>fabs</code> 和 <code>abs</code> 都是用于计算绝对值的函数，但它们在<strong>处理的数据类型</strong>和<strong>所属头文件</strong>上有明显区别，具体如下：</p><h4 id="1-处理的数据类型不同"><a href="#1-处理的数据类型不同" class="headerlink" title="1. 处理的数据类型不同"></a>1. 处理的数据类型不同</h4><ul><li><strong><code>abs</code> 函数</strong>：仅用于计算<strong>整数（<code>int</code> 类型）</strong> 的绝对值。例如：<code>abs(-5)</code> 的结果是 <code>5</code>（整数）。</li><li><strong><code>fabs</code> 函数</strong>：用于计算<strong>浮点数（<code>double</code> 类型）</strong> 的绝对值。例如：<code>fabs(-3.14)</code> 的结果是 <code>3.14</code>（双精度浮点数）。</li></ul><h4 id="2-所属头文件不同"><a href="#2-所属头文件不同" class="headerlink" title="2. 所属头文件不同"></a>2. 所属头文件不同</h4><ul><li><strong><code>abs</code> 函数</strong>：定义在 <code>&lt;stdlib.h&gt;</code> 头文件中，使用前需包含：<code>#include &lt;stdlib.h&gt;</code></li><li><strong><code>fabs</code> 函数</strong>：定义在 <code>&lt;math.h&gt;</code> 头文件中，使用前需包含：<code>#include &lt;math.h&gt;</code>（注意：部分编译器可能需要链接数学库，如 GCC 需加 <code>-lm</code> 选项）</li></ul><h4 id="3-扩展函数（针对其他类型）"><a href="#3-扩展函数（针对其他类型）" class="headerlink" title="3. 扩展函数（针对其他类型）"></a>3. 扩展函数（针对其他类型）</h4><p>为了处理更多数据类型，C 语言还提供了以下扩展函数：</p><ul><li><code>labs</code>：计算长整数（<code>long int</code>）的绝对值（头文件 <code>&lt;stdlib.h&gt;</code>）。</li><li><code>llabs</code>：计算长长整数（<code>long long int</code>）的绝对值（头文件 <code>&lt;stdlib.h&gt;</code>）。</li><li><code>fabsf</code>：计算单精度浮点数（<code>float</code>）的绝对值（头文件 <code>&lt;math.h&gt;</code>）。</li><li><code>fabsl</code>：计算长双精度浮点数（<code>long double</code>）的绝对值（头文件 <code>&lt;math.h&gt;</code>）。</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><table><thead><tr><th>函数</th><th>处理类型</th><th>头文件</th><th>示例</th></tr></thead><tbody><tr><td><code>abs</code></td><td><code>int</code>（整数）</td><td><code>&lt;stdlib.h&gt;</code></td><td><code>abs(-10) → 10</code></td></tr><tr><td><code>fabs</code></td><td><code>double</code>（浮点数）</td><td><code>&lt;math.h&gt;</code></td><td><code>fabs(-3.14) → 3.14</code></td></tr></tbody></table><p>使用时需根据变量类型选择对应函数，避免因类型不匹配导致错误（例如用 <code>abs</code> 处理浮点数会截断小数部分）。</p><h2 id="星皓你搞错了，abs函数是头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！"><a href="#星皓你搞错了，abs函数是头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！" class="headerlink" title="星皓你搞错了，abs函数是&lt;stdlib.h&gt;头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！"></a>星皓你搞错了，abs函数是&lt;stdlib.h&gt;头文件中的，你把我害的好惨啊，我要在你勾吧上写一个惨字！！！</h2><p>同时也要谢谢你让我学习了新知识</p><p>​（不知道星皓会不会视奸我的blog，又会不会在视奸我的时候看到这篇不起眼的markdown）</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>输入合法性的校验与条件的真假</title>
    <link href="/2025/11/16/%E8%BE%93%E5%85%A5%E5%90%88%E6%B3%95%E6%80%A7%E6%A0%A1%E9%AA%8C%E4%B8%8E%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%9C%9F%E5%81%87/"/>
    <url>/2025/11/16/%E8%BE%93%E5%85%A5%E5%90%88%E6%B3%95%E6%80%A7%E6%A0%A1%E9%AA%8C%E4%B8%8E%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%9C%9F%E5%81%87/</url>
    
    <content type="html"><![CDATA[<h1 id="输入合法性校验"><a href="#输入合法性校验" class="headerlink" title="输入合法性校验"></a>输入合法性校验</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>在学习C语言过程中，输入并判断是否是闰年的题我已经做了很多了，但今天再次做这个题的时候，涉及到了输入合法性的校验<br>这个题目要求实现对输入合法性的校验，我直接傻眼了，不会写，</p><p>这是那一题的代码，看看AI怎么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year;<br>    <span class="hljs-comment">// 读取输入并判断是否为合法整数</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;year) != <span class="hljs-number">1</span> || year &lt; <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 闰年判断逻辑</span><br>    <span class="hljs-type">int</span> is_leap = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>        is_leap = <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 输出结果</span><br>    <span class="hljs-keyword">if</span> (is_leap) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="如何实现"><a href="#如何实现" class="headerlink" title="如何实现"></a>如何实现</h3><p>这里的<code>scanf(&quot;%d&quot;, &amp;year) != 1</code>判断的是输入是否成功读取为整数，原理是利用 <code>scanf</code> 的返回值是<strong>「成功读取的变量个数」</strong>。比如 <code>scanf(&quot;%d&quot;, &amp;year) </code>尝试读取1个整数变量：</p><ul><li>如果输入的是整数（比如 2015 ），<code>scanf</code>成功读取1个变量，返回 1 ；</li><li>如果输入的不是整数（比如 a ），<code>scanf</code>无法读取，返回 0 ；</li><li>如果输入失败（比如输入结束），返回 EOF （一个负数，通常是 -1 ）。</li></ul><p>所以<code>scanf(...) != 1</code>的含义是：<code> scanf</code> 没有成功读取1个整数” → 说明输入不是合法的整数。</p><p>举个例子：</p><ul><li>当你输入 a 时， <code>scanf(&quot;%d&quot;, &amp;year)</code> 无法把 a 解析成整数，返回 0 ，此时 0 !&#x3D; 1 成立，执行 <code>printf(&quot;Input error!&quot;)</code> ；</li><li>当你输入 2016 时， <code>scanf</code> 返回 1 ， 1 !&#x3D; 1 不成立，继续执行后续逻辑。</li></ul><h3 id="番外"><a href="#番外" class="headerlink" title="番外"></a>番外</h3><p>如果仔细观察代码</p><p>会发现代码实现了输入合法性检验后定义了一个变量’’is_leap’’</p><p>并且后面的if语法中的条件表达式好像和老师教的不一样！！！</p><ol><li>先看 int is_leap &#x3D; 0; 的作用</li></ol><p> is_leap 是一个标志变量（用来标记“是否是闰年”）：</p><ul><li>初始值设为 0 （在C语言中， 0 代表“假”），默认假设“不是闰年”；</li><li>如果满足闰年条件，就把 is_leap 设为 1 （ 1 代表“真”），表示“是闰年”。</li></ul><ol start="2"><li>再看 if (is_leap) 的逻辑</li></ol><p>在C语言的 if 判断中，条件表达式的结果会被当作“布尔值”处理：</p><ul><li>如果条件表达式的结果是 0 ，视为“假”，不执行 if 后的代码块；</li><li>如果条件表达式的结果非0（比如 1 、 -5 等），视为“真”，执行 if 后的代码块。</li></ul><p>所以 <strong>if (is_leap) 等价于 if (is_leap !&#x3D; 0)</strong> ——判断 is_leap 的值是否“非0”：</p><ul><li>当 is_leap&#x3D;1 （满足闰年条件）时， if (is_leap) 为“真”，执行 <code>printf(&quot;Yes\n&quot;);</code> ；</li><li>当 is_leap&#x3D;0 （不满足闰年条件）时， if (is_leap) 为“假”，执行 else 后的 <code>printf(&quot;No\n&quot;);</code> 。</li></ul><h5 id="为什么这么写？"><a href="#为什么这么写？" class="headerlink" title="为什么这么写？"></a>为什么这么写？</h5><p>这是C语言中很常见的“<strong>简化写法</strong>”——当变量本身就是“标志（0&#x2F;非0）”时，直接用变量作为条件，比写 if (is_leap &#x3D;&#x3D; 1) 更简洁（逻辑完全一致）。</p><p>举个类似的例子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (flag) &#123; <span class="hljs-comment">// 等价于 if(flag != 0)</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;真\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>同理，我想起老师讲if的时候</li></ul><p>如果括号中：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span> (<span class="hljs-number">0</span>)&#123;<br><span class="hljs-comment">//这个中括号逼用没有，0即为假，不会执行if代码块</span><br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>如果是非0数字，比如1，100，-10086则被视为真，会继续执行if代码块</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>getchar与循环</title>
    <link href="/2025/11/14/getchar%E4%B8%8E%E5%BE%AA%E7%8E%AF/"/>
    <url>/2025/11/14/getchar%E4%B8%8E%E5%BE%AA%E7%8E%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="getchar与循环"><a href="#getchar与循环" class="headerlink" title="getchar与循环"></a>getchar与循环</h1><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>统计用户输入<br>从键盘读取用户输入直到遇到#字符，编写程序统计读取的空格数目、读取的换行符数目以及读取的所有其他字符数目。(要求用getchar()输入字符)</p><p>程序运行结果示例1：<br>Please input a string end by #:<br>abc def↙<br>jklm op↙<br>zkm #↙<br>space: 3,newline: 2,others: 15</p><p>程序运行结果示例2：<br>Please input a string end by #:<br>hello friend!#↙<br>space: 1,newline: 0,others: 12</p><p>输入格式: getchar()<br>输出格式：<br>输入提示信息：”Please input a string end by #:\n”<br>输出格式：”space: %d,newline: %d,others: %d\n”</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> space=<span class="hljs-number">0</span>,newline=<span class="hljs-number">0</span>,other=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">char</span> content;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a string end by #:\n&quot;</span>);<br>    <span class="hljs-keyword">while</span>((content=getchar())!=<span class="hljs-string">&#x27;#&#x27;</span>)&#123;<br>        <span class="hljs-keyword">if</span>(content==<span class="hljs-string">&#x27; &#x27;</span>)&#123;<br>            space++;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(content==<span class="hljs-string">&#x27;\n&#x27;</span>)&#123;<br>            newline++;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            other++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;space: %d,newline: %d,others: %d\n&quot;</span>,space,newline,other);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><h4 id="1-为什么要把content-getchar-整个括起来"><a href="#1-为什么要把content-getchar-整个括起来" class="headerlink" title="1.为什么要把content&#x3D;getchar()整个括起来"></a>1.为什么要把content&#x3D;getchar()整个括起来</h4><p><code>=</code> 是赋值运算符，优先级低于 <code>!=</code></p><h4 id="2-为什么不能在while-条件中直接定义（如-while-char-content-getchar-）"><a href="#2-为什么不能在while-条件中直接定义（如-while-char-content-getchar-）" class="headerlink" title="2.为什么不能在while 条件中直接定义（如 while (char content = getchar() != &#39;#&#39;)）"></a>2.为什么不能在while 条件中直接定义（如 <code>while (char content = getchar() != &#39;#&#39;)</code>）</h4><p>不符合 C 语言语法规范</p><h4 id="3-getchar每次只读取一个字符？"><a href="#3-getchar每次只读取一个字符？" class="headerlink" title="3.getchar每次只读取一个字符？"></a>3.getchar每次只读取一个字符？</h4><p>是的，<code>getchar()</code> 函数每次<strong>仅读取一个字符</strong>。</p><p>它的工作机制是从标准输入（通常是键盘）中读取一个字符，包括空格、换行符等所有可输入的字符，每次调用只处理一个字符。这也是我们在统计空格、换行符和其他字符时，能通过循环多次调用 <code>getchar()</code> 来逐个字符判断的原因。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>辗转相除法</title>
    <link href="/2025/11/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95/"/>
    <url>/2025/11/14/%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="辗转相除法"><a href="#辗转相除法" class="headerlink" title="辗转相除法"></a>辗转相除法</h1><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>求最大公约数</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, b, r;<br>    a = <span class="hljs-number">27</span>, b = <span class="hljs-number">18</span>;<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>        r = a % b;  <br>        a = b;      <br>        b = r;    <br>    &#125; <span class="hljs-keyword">while</span> (r != <span class="hljs-number">0</span>);  <span class="hljs-comment">// 余数不为0时继续循环</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是：%d\n&quot;</span>, a);  <span class="hljs-comment">// 循环结束后，a就是最大公约数</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="代码分析："><a href="#代码分析：" class="headerlink" title="代码分析："></a>代码分析：</h3><ul><li>辗转相除法（欧几里得算法）</li></ul><p>核心逻辑：<br>两个数的最大公约数，等于「（较大数 ÷ 较小数）的余数」和「较小数」的最大公约数。<br>一直重复这个过程，直到余数为0，此时的“除数”就是最大公约数。</p><p>举个生活例子：<br>你有27个苹果、18个橘子，想分成一样多的份数（每份数量相同）<br>27-18&#x3D;9<br>如果能分27和18，肯定也能分剩下的9和18</p><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><p>其实我上课看到这一个题的时候第一反应使用while循环进行循环：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp, i;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>注意</strong></p><p>我第一次写这个代码的时候是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure><p>我在for循环中定义int i，运行的时候提示i是未定义的标识符！！！</p><ul><li>在 C 语言中，<strong>在<code>for</code>循环的初始化部分声明的变量（如<code>int i = b</code>），其作用域仅限于<code>for</code>循环内部</strong>。当循环结束后，变量<code>i</code>就会被销毁，外部的<code>printf</code>语句无法访问到它，因此会报错 “未声明的标识符<code>i</code>”。</li></ul><p>故修改后：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a, b, temp, i;<br>scanf_s(<span class="hljs-string">&quot;%d,%d&quot;</span>, &amp;a, &amp;b);<br><span class="hljs-keyword">if</span> (a &lt; b) &#123;<br>temp = a;<br>a = b;<br>b = temp;<br>&#125;<br><span class="hljs-keyword">for</span> (i = b;i &gt;= <span class="hljs-number">1</span>;i--) &#123;<br><span class="hljs-keyword">if</span> (a % i == <span class="hljs-number">0</span> &amp;&amp; b % i == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;最大公约数是%d&quot;</span>, i);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ascll码值</title>
    <link href="/2025/11/14/ascll%E7%A0%81%E5%80%BC/"/>
    <url>/2025/11/14/ascll%E7%A0%81%E5%80%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="ascll码值"><a href="#ascll码值" class="headerlink" title="ascll码值"></a>ascll码值</h1><p>ASCII 码（American Standard Code for Information Interchange，美国信息交换标准代码）是一套用于表示字符的编码系统，它规定了英文字母、数字、标点符号和控制字符与整数之间的对应关系，是计算机早期为解决字符存储和传输而制定的标准。</p><h3 id="基本特点："><a href="#基本特点：" class="headerlink" title="基本特点："></a>基本特点：</h3><ul><li>标准 ASCII 码使用 <strong>7 位二进制数</strong> 表示，因此共能表示 <code>2^7 = 128</code> 个不同的字符（取值范围 0~127）。</li><li>扩展 ASCII 码（非标准）使用 8 位二进制数，可表示 256 个字符，但不同系统可能有差异，因此通常以标准 ASCII 码为基础。</li></ul><h3 id="标准-ASCII-码的分类及常用值："><a href="#标准-ASCII-码的分类及常用值：" class="headerlink" title="标准 ASCII 码的分类及常用值："></a>标准 ASCII 码的分类及常用值：</h3><p>ASCII 码的 128 个字符可分为两大类：<strong>控制字符</strong>（不可见）和 <strong>可打印字符</strong>（可见）。</p><h4 id="1-控制字符（0-31-和-127）"><a href="#1-控制字符（0-31-和-127）" class="headerlink" title="1. 控制字符（0~31 和 127）"></a>1. 控制字符（0~31 和 127）</h4><p>这类字符不对应可见符号，主要用于控制设备（如打印机、终端）的操作，例如：</p><ul><li><code>0</code>（NUL）：空字符，用于表示字符串结束（C 语言中<code>\0</code>）。</li><li><code>10</code>（LF，<code>\n</code>）：换行符，使光标移到下一行。</li><li><code>13</code>（CR，<code>\r</code>）：回车符，使光标回到行首。</li><li><code>9</code>（HT，<code>\t</code>）：水平制表符（Tab 键），通常等价于 4 或 8 个空格。</li><li><code>127</code>（DEL）：删除字符，早期用于删除光标前的字符。</li></ul><h4 id="2-可打印字符（32-126）"><a href="#2-可打印字符（32-126）" class="headerlink" title="2. 可打印字符（32~126）"></a>2. 可打印字符（32~126）</h4><p>这类字符是可见的，包括空格、数字、字母、标点符号等，常用范围及值如下：</p><ul><li><strong>空格</strong>：<code>32</code>（唯一的空白可打印字符）。</li><li><strong>数字 0~9</strong>：<code>48~57</code>（连续排列，<code>&#39;0&#39;=48</code>，<code>&#39;1&#39;=49</code>，…，<code>&#39;9&#39;=57</code>）。</li><li><strong>大写字母 A~Z</strong>：<code>65~90</code>（连续排列，<code>&#39;A&#39;=65</code>，<code>&#39;B&#39;=66</code>，…，<code>&#39;Z&#39;=90</code>）。</li><li><strong>小写字母 a~z</strong>：<code>97~122</code>（连续排列，<code>&#39;a&#39;=97</code>，<code>&#39;b&#39;=98</code>，…，<code>&#39;z&#39;=122</code>）。</li><li><strong>标点符号</strong>：例如 <code>&#39;!&#39;=33</code>、<code>&#39;+&#39;=43</code>、<code>&#39;,&#39;=44</code>、<code>&#39;=&#39;=61</code>、<code>&#39;?&#39;=63</code> 等。</li></ul><h3 id="重要规律："><a href="#重要规律：" class="headerlink" title="重要规律："></a>重要规律：</h3><ul><li>数字、大写字母、小写字母的 ASCII 码值都是 <strong>连续递增</strong> 的，这一特性在编程中非常实用。例如：<ul><li>可通过 <code>字符 - &#39;0&#39;</code> 将数字字符（如 <code>&#39;5&#39;</code>）转换为整数（如 <code>5</code>），因为 <code>&#39;5&#39; - &#39;0&#39; = 53 - 48 = 5</code>。</li><li>大写字母转小写字母可直接 <code>+32</code>（如 <code>&#39;A&#39; + 32 = &#39;a&#39;</code>），反之 <code>-32</code>。</li></ul></li></ul><h3 id="在编程中的作用："><a href="#在编程中的作用：" class="headerlink" title="在编程中的作用："></a>在编程中的作用：</h3><p>在 C、Python 等语言中，字符本质上以 ASCII 码值（整数）存储，因此可以直接对字符进行整数运算。例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 判断字符是否为大写字母</span><br><span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123; ... &#125;<br><br><span class="hljs-comment">// 数字字符转整数</span><br><span class="hljs-type">int</span> num = <span class="hljs-string">&#x27;7&#x27;</span> - <span class="hljs-string">&#x27;0&#x27;</span>;  <span class="hljs-comment">// num = 7</span><br></code></pre></td></tr></table></figure><h3 id="常见题目："><a href="#常见题目：" class="headerlink" title="常见题目："></a>常见题目：</h3><p>将输入的大写字母转换为小写字母，并输出小写字母 ASCII 码值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> upper_char, lower_char;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个大写字母：&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c&quot;</span>, &amp;upper_char);<br><br>    <span class="hljs-comment">// 检查输入是否为大写字母</span><br>    <span class="hljs-keyword">if</span> (upper_char &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; upper_char &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123;<br>        <span class="hljs-comment">// 大写转小写（ASCII码值 + 32）</span><br>        lower_char = upper_char + <span class="hljs-number">32</span>;<br>        <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;对应的小写字母是：%c\n&quot;</span>, lower_char);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;该小写字母的ASCII码值是：%d\n&quot;</span>, lower_char);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入错误，请输入大写字母（A-Z）！\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>当使用 <code>%d</code> 格式输出时，会自动将其转换为对应的整数值（ASCII码），而使用 <code>%c</code> 格式时则显示为字符本身。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环中的递推</title>
    <link href="/2025/11/14/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E9%80%92%E6%8E%A8/"/>
    <url>/2025/11/14/%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E9%80%92%E6%8E%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="循环中的递推"><a href="#循环中的递推" class="headerlink" title="循环中的递推"></a>循环中的递推</h1><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>输入一正整数 k，求出它是几位数，并按逆序输出该数。</p><p>例如，<br>原数是 321，应输出 123</p><h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> k, count = <span class="hljs-number">0</span>, reverse_num = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个正整数：&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>    <span class="hljs-keyword">while</span> (k &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-type">int</span> digit = k % <span class="hljs-number">10</span>;  <span class="hljs-comment">// 取最后一位数字</span><br>        reverse_num = reverse_num * <span class="hljs-number">10</span> + digit;  <span class="hljs-comment">// 拼接逆序数字</span><br>        k = k / <span class="hljs-number">10</span>;  <span class="hljs-comment">// 去掉最后一位</span><br>        count++;  <span class="hljs-comment">// 位数加1</span><br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;该数是%d位数，逆序输出为%d\n&quot;</span>, count, reverse_num);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h3><p>这里运用了递推的方法</p><ol><li>取最后一位数字</li><li>将已经得到的数字*10，空出个位，再加上取得的最后一位数字</li><li>去掉取得的最后一位数字，以此往复</li></ol><p>因为我上课时想半天没有想出来递推，一直在想我那几把数组，故特此记笔记！！！</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>计算天数（progress）</title>
    <link href="/2025/11/11/%E8%AE%A1%E7%AE%97%E5%A4%A9%E6%95%B0%EF%BC%88progress%EF%BC%89/"/>
    <url>/2025/11/11/%E8%AE%A1%E7%AE%97%E5%A4%A9%E6%95%B0%EF%BC%88progress%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="计算天数（progress）"><a href="#计算天数（progress）" class="headerlink" title="计算天数（progress）"></a>计算天数（progress）</h1><h2 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h2><p>请用循环语句进行程序设计(也可能用到if或switch语句)，实现从键盘上输入一个日期，日期格式为：2018-7-9，判断这一天是这一年中的第几天。</p><p>注：本题涉及到闰年、平年的判断，已知符合下列条件之一者是润年：<br>   （1）能被4整除，但不能被100整除；<br>   （2）能被400整除。</p><p>输入提示信息：”Please Input the Date:\n”<br>输入格式：”%d-%d-%d”<br>输出格式：”Result&#x3D;%d\n”<br>如果输入月份不在1到12月份之间输出错误提示信息”Input error!\n”<br>(注：为了便于实现，本题暂不考虑日的合法性)<br>输入输出用例1：<br>Please Input the Date:<br>2010-10-2<br>Result&#x3D;275</p><p>输入输出用例2：<br>Please Input the Date:<br>2000-4-5<br>Result&#x3D;96<br>输入输出用例3：<br>Please Input the date:<br>2017-17-2<br>Input error!</p><h3 id="我写的代码："><a href="#我写的代码：" class="headerlink" title="我写的代码："></a>我写的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> result = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> uncertian;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);<br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month&gt;<span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">do</span> &#123;<br>            <span class="hljs-keyword">if</span> (i &lt; month) &#123;<br>                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span> || i == <span class="hljs-number">3</span> || i == <span class="hljs-number">5</span> || i == <span class="hljs-number">7</span> || i == <span class="hljs-number">8</span> || i == <span class="hljs-number">10</span> || i == <span class="hljs-number">12</span>) &#123;<br>                    result = result + <span class="hljs-number">31</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span>) &#123;<br>                    uncertian = (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span> ? <span class="hljs-number">29</span> : <span class="hljs-number">28</span>;<br>                    result = result + uncertian;<br>                &#125;<br>                <span class="hljs-keyword">else</span> &#123;<br>                    result = result + <span class="hljs-number">30</span>;<br>                &#125;<br>            &#125;<br>            i++;<br>        &#125; <span class="hljs-keyword">while</span> (i &lt;= month);<br>        result = result + day;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, result);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>仅仅用了30多行，但是还是感觉很麻烦</p><h4 id="代码修改"><a href="#代码修改" class="headerlink" title="代码修改"></a>代码修改</h4><p>于是我让豆包进行修改：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> day_of_year = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 存储一年中的第几天</span><br>    <span class="hljs-type">int</span> i;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);  <span class="hljs-comment">// 标准编译器使用scanf即可</span><br><br>    <span class="hljs-comment">// 检查月份合法性</span><br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month &gt; <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 累加前几个月的天数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; month; i++) &#123;<br>        <span class="hljs-keyword">switch</span> (i) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                day_of_year += <span class="hljs-number">31</span>;  <span class="hljs-comment">// 大月</span><br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                day_of_year += <span class="hljs-number">30</span>;  <span class="hljs-comment">// 小月</span><br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:  <span class="hljs-comment">// 二月，判断闰年</span><br>                <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>                    day_of_year += <span class="hljs-number">29</span>;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    day_of_year += <span class="hljs-number">28</span>;<br>                &#125;<br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 加上当月的天数</span><br>    day_of_year += day;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, day_of_year);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用for循环；使用switch替代多个if和if else</p><p>增加了代码的可读性，对比起来我写的已经很不错了</p><h4 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h4><p>我没有按照题目中的swich要求写代码，是因为不知道case还能并列</p><ul><li>在 C 语言的 <code>switch</code> 语句中，多个 <code>case</code> 可以并列使用，这是一种常见的语法特性，用于表示 “多个条件执行相同的操作”</li></ul><p>例如代码中的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>    total_days += <span class="hljs-number">31</span>;<br>    <span class="hljs-keyword">break</span>;<br></code></pre></td></tr></table></figure><p>表示当 <code>i</code> 的值是 1、3、5、7、8、10、12 中的任意一个时，都会执行 <code>total_days += 31;</code> 这条语句。</p><p>原理是：<code>case</code> 标签本身只是一个 “入口点”，如果没有 <code>break</code> 语句，程序会从匹配的 <code>case</code> 开始往下执行所有后续代码。因此，将多个 <code>case</code> 并列且不写中间的 <code>break</code>，就能实现 “多个值对应同一操作” 的效果，这样写比每个 <code>case</code> 单独写一遍相同的代码更简洁。</p><p>这种写法完全符合 C 语言语法规范，且在处理 “多个条件对应同一逻辑” 的场景时非常实用（比如这里的 “大月都有 31 天”）。</p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol><li>以后遇到月份的问题可以使用switch语法</li><li>case可以并列使用，作用可以替代if条件判断句中的condition1 || condition2 || condition3 ||…….</li></ol><hr><hr><h3 id="AI写的代码"><a href="#AI写的代码" class="headerlink" title="AI写的代码"></a>AI写的代码</h3><p>我直接把题目喂给AI：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> days_in_month[] = &#123;<span class="hljs-number">31</span>, <span class="hljs-number">28</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>&#125;;<br>    <span class="hljs-type">int</span> total_days = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> i;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:\n&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d-%d&quot;</span>, &amp;year, &amp;month, &amp;day);<br><br>    <span class="hljs-comment">// 检查月份是否合法</span><br>    <span class="hljs-keyword">if</span> (month &lt; <span class="hljs-number">1</span> || month &gt; <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 判断是否为闰年，调整2月天数</span><br>    <span class="hljs-keyword">if</span> ((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) &#123;<br>        days_in_month[<span class="hljs-number">1</span>] = <span class="hljs-number">29</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// 使用循环计算前几个月的总天数</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; month - <span class="hljs-number">1</span>; i++) &#123;<br>        total_days += days_in_month[i];<br>    &#125;<br><br>    <span class="hljs-comment">// 加上当月的天数</span><br>    total_days += day;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Result=%d\n&quot;</span>, total_days);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>密码的，竟然使用了禁忌的力量—数组！</p><p>看来数组是真好用</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>计算数字位数</title>
    <link href="/2025/11/11/%E8%AE%A1%E7%AE%97%E4%BD%8D%E6%95%B0/"/>
    <url>/2025/11/11/%E8%AE%A1%E7%AE%97%E4%BD%8D%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="计算数字位数"><a href="#计算数字位数" class="headerlink" title="计算数字位数"></a>计算数字位数</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>早就想知道怎么实现了，今天恰好碰到了这个题：</p><blockquote><p>判断一个整型数据有几位v2.0<br>从键盘输入一个整型数据(int型)，用switch语句和循环语句编写程序判断该整数共有几位，并输出包含各个数字的个数。例如，从键盘输入整数16644,该整数共有5位，其中有1个1,2个6,2个4。</p><p>程序运行结果示例1：<br>Please enter the number:<br>12226↙<br>12226: 5 bits<br>1: 1<br>2: 3<br>6: 1</p><p>程序运行结果示例2：<br>Please enter the number:<br>-12243↙<br>-12243: 5 bits<br>1: 1<br>2: 2<br>3: 1<br>4: 1</p><p>输入格式: “%d”<br>输出格式：<br>输入提示信息：”Please enter the number:\n”<br>判断该整数共有几位：”%d: %d bits\n”<br>包含数字0的个数：”0: %d\n”<br>包含数字1的个数：”1: %d\n”<br>包含数字2的个数：”2: %d\n”<br>包含数字3的个数：”3: %d\n”<br>包含数字4的个数：”4: %d\n”<br>包含数字5的个数：”5: %d\n”<br>包含数字6的个数：”6: %d\n”<br>包含数字7的个数：”7: %d\n”<br>包含数字8的个数：”8: %d\n”<br>包含数字9的个数：”9: %d\n”</p></blockquote><h3 id="我写的代码"><a href="#我写的代码" class="headerlink" title="我写的代码"></a>我写的代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num, current;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> zero = <span class="hljs-number">0</span>, one = <span class="hljs-number">0</span>, two = <span class="hljs-number">0</span>, three = <span class="hljs-number">0</span>, four = <span class="hljs-number">0</span>, five = <span class="hljs-number">0</span>, six = <span class="hljs-number">0</span>, seven = <span class="hljs-number">0</span>, eight = <span class="hljs-number">0</span>, nine = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please enter the number:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>    current = <span class="hljs-built_in">fabs</span>(num);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;;i++) &#123;<br>        <span class="hljs-keyword">switch</span> (current % <span class="hljs-number">10</span>) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>            zero++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>            one++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>            two++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>            three++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>            four++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>            five++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>            six++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>            seven++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>            eight++;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>            nine++;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        current = current / <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d bits\n&quot;</span>, num, i);<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (zero != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0: %d\n&quot;</span>, zero);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (one != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;1: %d\n&quot;</span>, one);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (two != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;2: %d\n&quot;</span>, two);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (three != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;3: %d\n&quot;</span>, three);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (four != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;4: %d\n&quot;</span>, four);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (five != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;5: %d\n&quot;</span>, five);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (six != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;6: %d\n&quot;</span>, six);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (seven != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;7: %d\n&quot;</span>, seven);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (eight != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;8: %d\n&quot;</span>, eight);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (nine != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;9: %d\n&quot;</span>, nine);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>还是屎山代码~~，我怎么只会这么写！</p><h3 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> num, current;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> count[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please enter the number:\n&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>    current = <span class="hljs-built_in">fabs</span>(num);<br><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;; i++) &#123;<br>        count[current % <span class="hljs-number">10</span>]++;<br>current = current / <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d bits\n&quot;</span>, num, i);<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (count[i] != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d: %d\n&quot;</span>, i, count[i]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>看看我自己写的80行，AI写的才30行</p><p>利用<strong>数组</strong>代替10个单独变量，大幅简化代码</p><p>我们可以把数组想象成一排 “小盒子”，每个盒子都有一个编号（就是<code>[]</code>里的数字，叫 “下标”），盒子里可以放一个值。</p><p>以代码里的<code>count[10]</code>为例：</p><ul><li>它有 10 个小盒子，编号是<code>0</code>到<code>9</code>（<strong>注意</strong>：数组下标从 0 开始，不是 1）。</li><li>每个盒子专门用来记一个数字出现的次数：<code>count[0]</code>记数字 0 出现几次，<code>count[1]</code>记数字 1 出现几次……<code>count[9]</code>记数字 9 出现几次。</li></ul><p>举个生活例子：假设你在统计班级同学的生日月份，1 月到 12 月。你可以准备 12 个盒子，编号 1 到 12。</p><ul><li>有人说 “我 1 月生日”，就往编号 1 的盒子里放 1 个小球。</li><li>又有人说 “我 1 月生日”，再往编号 1 的盒子里放 1 个小球（现在里面有 2 个）。</li><li>有人说 “3 月生日”，往编号 3 的盒子里放 1 个小球……</li></ul><p>这里的 “盒子编号” 就相当于数组的<code>[]</code>里的下标，“盒子里的小球数量” 就是数组元素的值。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>计算输入的数字有几位时写的代码很好</li><li>但因为不会数组，导致自己写的计算数字出现的次数的代码的时候极为复杂</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数组</title>
    <link href="/2025/11/11/%E6%95%B0%E7%BB%84/"/>
    <url>/2025/11/11/%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="初窥门径"><a href="#初窥门径" class="headerlink" title="初窥门径"></a>初窥门径</h2><p>我在计算天数，和计算位数的md中都接触了数组</p><p>包括可汗大点兵中的数组</p><p>所记下来的笔记：</p><h4 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h4><p>​int days_in_month[] &#x3D; {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};</p><p>​和 </p><p>​int count[10] &#x3D; { 0 }; </p><p>​这两个数组用法有什么不同，这个[]里面和{}的区别与联系</p><h4 id="回答："><a href="#回答：" class="headerlink" title="回答："></a>回答：</h4><h6 id="1-本质区别"><a href="#1-本质区别" class="headerlink" title="1. 本质区别"></a>1. 本质区别</h6><ol><li><strong><code>days_in_month[]</code> 的特点</strong><ul><li>数组初始化时明确指定了每个元素的值 <code>&#123;31, 28, ..., 31&#125;</code>，共 12 个元素。</li><li>数组声明时 <code>[]</code> 内未写长度，编译器会根据初始化列表中元素的数量（12 个）自动推断数组长度为 12。</li><li>用途是存储每个月的天数（非闰年），元素值是预先确定的固定值。</li></ul></li><li><strong><code>count[10] = &#123;0&#125;</code> 的特点</strong><ul><li>数组声明时 <code>[]</code> 内明确指定了长度为 10，即数组有 10 个元素。</li><li>初始化列表只给了一个值 <code>0</code>，根据 C 语言规则：<strong>未明确初始化的元素会被自动赋为 0</strong>（对于全局 &#x2F; 静态数组）或默认值（局部数组未初始化时是随机值，但这里显式初始化了第一个元素，其余会被补 0）。</li><li>用途通常是作为计数器，初始化为全 0 方便后续累加。</li></ul></li></ol><h6 id="2-联系"><a href="#2-联系" class="headerlink" title="2. 联系"></a>2. 联系</h6><ul><li>两者配合使用完成数组的声明与初始化：<code>类型 数组名[长度] = &#123;初始化值&#125;;</code>。</li><li>当 <code>[]</code> 省略长度时，<code>&#123;&#125;</code> 中元素的数量直接决定数组的长度（如 <code>days_in_month</code> 因 <code>&#123;&#125;</code> 中有 12 个值，故长度为 12）。</li><li>当 <code>[]</code> 指定长度时，<code>&#123;&#125;</code> 中值的数量可以少于该长度，未指定的元素会被自动初始化（数值型数组补 0，字符数组补 <code>&#39;\0&#39;</code> 等）。</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li><code>[]</code> 负责定义数组的长度（容量），<code>&#123;&#125;</code> 负责给数组元素赋初始值。</li><li><code>days_in_month[]</code> 依赖 <code>&#123;&#125;</code> 中的元素数量确定长度，且所有元素都显式初始化；<code>count[10] = &#123;0&#125;</code> 明确指定了长度，仅显式初始化第一个元素，其余自动补 0。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环嵌套</title>
    <link href="/2025/11/10/%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/"/>
    <url>/2025/11/10/%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/</url>
    
    <content type="html"><![CDATA[<h1 id="循环嵌套"><a href="#循环嵌套" class="headerlink" title="循环嵌套"></a>循环嵌套</h1><h2 id="一、题目"><a href="#一、题目" class="headerlink" title="一、题目"></a>一、题目</h2><p>求 s &#x3D; a+aa+aaa+… …+aaa…a的值，其中a是一个数字，如2+22+222+2222,a的值和加数个数n，均从键盘获取。要求a属于[1,9],n小于10（如果不满足此条件，就重新输入）。<br>输入：输入a值和n值<br>输入提示信息：”Please input a:”<br>输入格式：”%d”<br>输入提示信息：”Please input n:”<br>输入格式：”%d”</p><p>输出：算式及和<br>输出提示信息：<br>“Sum&#x3D;算式”，输出格式提示：采用 “Sum&#x3D;”,  “%ld”, “+%ld”<br>“Sum&#x3D;和”，输出格式”\nSum&#x3D;%ld\n”</p><p>程序运行示例：<br>Please input a:8<br>Please input n:9<br>Sum&#x3D;8+88+888+8888+88888+888888+8888888+88888888+888888888<br>Sum&#x3D;987654312</p><h2 id="二、我写的代码"><a href="#二、我写的代码" class="headerlink" title="二、我写的代码"></a>二、我写的代码</h2><p>这是我的写的第一个双循环，总共花了我一个小时，中途没有借助豆包等大语言模型，仅仅使用了visual studio实现了代码的逐句执行</p><p>以下是我写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">2</span>, j = <span class="hljs-number">1</span>, k, p = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> solo = <span class="hljs-number">0</span>, each = <span class="hljs-number">0</span>, Sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=%d&quot;</span>, a);<br>    <span class="hljs-keyword">while</span> (i &lt;= n) &#123;<span class="hljs-comment">//打印的循环</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%d&quot;</span>, a);<br>        <span class="hljs-keyword">while</span> (j &lt;= i - <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br>            j++;<br>        &#125;<br>        j = <span class="hljs-number">1</span>;<br>        i++;<br>    &#125;<span class="hljs-comment">//计算的循环</span><br>    <span class="hljs-keyword">for</span> (k = <span class="hljs-number">1</span>;k &lt;= n;k++) &#123;<br>        <span class="hljs-keyword">while</span> (p &lt;= k) &#123;<br>            solo = a * <span class="hljs-built_in">pow</span>(<span class="hljs-number">10</span>, p - <span class="hljs-number">1</span>);              <span class="hljs-comment">//solo为每一项的每一位！</span><br>            each += solo; <span class="hljs-comment">//each为每一项</span><br>            p++;<br>        &#125;<br>        Sum += each;<span class="hljs-comment">//sum把每一项加起来</span><br>        p = <span class="hljs-number">1</span>;<span class="hljs-comment">//必要的归位，不然每一次循环后p都不是从1开始自加到k</span><br>        each = <span class="hljs-number">0</span>;<span class="hljs-comment">//同理避免计算下一项的时候下一项已经有初始值了</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nSum=%ld\n&quot;</span>, Sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>虽然很复杂，但总归是实现了题目中的要求。</p><h2 id="三、自我反思"><a href="#三、自我反思" class="headerlink" title="三、自我反思"></a>三、自我反思</h2><p>我所反思出来的：</p><ul><li><p><strong>优点</strong></p><ul><li>“Sum&#x3D;算式”这部分代码应该是最简，可读性也高</li></ul></li><li><p><strong>缺点</strong></p><ul><li>“Sum&#x3D;和” 这部分代码可读性低</li><li>被迫使用了pow函数，有没有更好的解决方法？</li><li>p和each需要归位，我觉得有更好的解决方法</li><li>变量太多，可读性差</li></ul></li></ul><p></p><h2 id="四、自我优化"><a href="#四、自我优化" class="headerlink" title="四、自我优化"></a>四、自我优化</h2><p>优化个蛋，我什么都不懂，感觉改不了，直接甩给豆包吧！</p><h2 id="五、求助豆包"><a href="#五、求助豆包" class="headerlink" title="五、求助豆包"></a>五、求助豆包</h2><p>你的代码存在几个问题，以下是具体分析和修改后的代码：</p><h3 id="问题分析："><a href="#问题分析：" class="headerlink" title="问题分析："></a>问题分析：</h3><ol><li><strong>输入合法性校验缺失</strong>：没有对输入的<code>a</code>（需在 [1,9]）和<code>n</code>（需小于 10）进行校验，不符合题目要求。</li><li><strong>算式输出逻辑复杂且低效</strong>：使用嵌套循环打印每一项，实际上可以通过迭代计算每一项的值并直接打印。</li><li><strong>计算精度问题</strong>：使用<code>pow(10, p-1)</code>可能因浮点数精度误差导致计算错误，建议用整数迭代计算。</li><li><strong>变量类型问题</strong>：当<code>a=9</code>且<code>n=9</code>时，和为 987654312，超过<code>int</code>类型的最大范围（2147483647 在某些环境下可能刚好，但为保险起见应使用<code>long</code>类型）。</li></ol><h3 id="修改后的代码："><a href="#修改后的代码：" class="headerlink" title="修改后的代码："></a>修改后的代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-comment">// 输入a并校验</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    &#125; <span class="hljs-keyword">while</span> (a &lt; <span class="hljs-number">1</span> || a &gt; <span class="hljs-number">9</span>); <span class="hljs-comment">// 确保a在[1,9]</span><br><br>    <span class="hljs-comment">// 输入n并校验</span><br>    <span class="hljs-keyword">do</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    &#125; <span class="hljs-keyword">while</span> (n &gt;= <span class="hljs-number">10</span>); <span class="hljs-comment">// 确保n小于10</span><br><br>    <span class="hljs-type">long</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">long</span> current = <span class="hljs-number">0</span>; <span class="hljs-comment">// 存储当前项（如8,88,888等）</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        current = current * <span class="hljs-number">10</span> + a; <span class="hljs-comment">// 迭代计算当前项，避免浮点数误差</span><br>        sum += current;<br><br>        <span class="hljs-comment">// 打印算式，第一项不打印&quot;+&quot;，后续项前加&quot;+&quot;</span><br>        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%ld&quot;</span>, current);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%ld&quot;</span>, current);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 打印总和</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nSum=%ld\n&quot;</span>, sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="关键改进："><a href="#关键改进：" class="headerlink" title="关键改进："></a>关键改进：</h3><ol><li><strong>增加输入校验</strong>：使用<code>do-while</code>循环确保<code>a</code>和<code>n</code>满足题目要求的范围。</li><li><strong>简化算式输出</strong>：通过<code>current = current * 10 + a</code>迭代计算每一项（如 8→88→888），直接打印该值，避免嵌套循环。</li><li><strong>避免精度问题</strong>：用整数迭代替代<code>pow</code>函数，确保计算准确。</li><li><strong>使用长整数类型</strong>：<code>long</code>类型能容纳更大的计算结果，避免溢出。</li></ol><p>程序运行示例与题目要求一致，且输入不合法时会重新提示输入。</p><h2 id="六、自我改正"><a href="#六、自我改正" class="headerlink" title="六、自我改正"></a>六、自我改正</h2><p>重新自己写了一份：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a, n;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> each=<span class="hljs-number">0</span>,sum=<span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input a:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please input n:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Sum=&quot;</span>);<br><br>    <span class="hljs-keyword">while</span> (i &lt;= n) &#123;<br>        each = each * <span class="hljs-number">10</span> + a;<br>        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+%d&quot;</span>, each);<br>        &#125;<br>        i++;<br>        sum += each;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum=%d&quot;</span>, sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>只是没有用豆包给的for循环，我用的while，确实简单很多了！！！</p><ol><li>实现了每一项的叠加，这种每一项既可用于打印，也可用于求和</li><li>在循环中使用了if，将第一项的打印特殊化，避免另外说明</li></ol><h2 id="七、总结"><a href="#七、总结" class="headerlink" title="七、总结"></a>七、总结</h2><ul><li>先分析每一项与前一项的关系，是否可以通过方程迭代</li><li>尽量把每一项表示出来，会方便很多</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>水仙花数</title>
    <link href="/2025/11/10/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/"/>
    <url>/2025/11/10/%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="水仙花数"><a href="#水仙花数" class="headerlink" title="水仙花数"></a>水仙花数</h1><h3 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h3><ul><li>水仙花数（narcissistic number）也叫“自恋数”，指一个n位数，各位数字的n次幂之和恰好等于它本身。</li></ul><h3 id="二、代码实现"><a href="#二、代码实现" class="headerlink" title="二、代码实现"></a>二、代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> gw, sw, bw;<br><span class="hljs-keyword">do</span>&#123;<br>gw = a % <span class="hljs-number">10</span>;<br>sw = a / <span class="hljs-number">10</span> % <span class="hljs-number">10</span>;<br>bw = a / <span class="hljs-number">100</span> % <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">pow</span>(gw, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(sw, <span class="hljs-number">3</span>) + <span class="hljs-built_in">pow</span>(bw, <span class="hljs-number">3</span>) == a) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d是水仙花数\n&quot;</span>,a);<br>a++;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>a++;<br>&#125;<br>&#125; <span class="hljs-keyword">while</span> (a &lt;= <span class="hljs-number">999</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>输入月份判断天数</title>
    <link href="/2025/11/10/%E8%BE%93%E5%85%A5%E6%9C%88%E4%BB%BD%E5%88%A4%E6%96%AD%E5%A4%A9%E6%95%B0/"/>
    <url>/2025/11/10/%E8%BE%93%E5%85%A5%E6%9C%88%E4%BB%BD%E5%88%A4%E6%96%AD%E5%A4%A9%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="输入月份判断天数"><a href="#输入月份判断天数" class="headerlink" title="输入月份判断天数"></a>输入月份判断天数</h1><h3 id="代码要求"><a href="#代码要求" class="headerlink" title="代码要求"></a>代码要求</h3><ul><li>判断闰年</li><li>判断大小月</li><li>使用switch（我觉得没必要）</li></ul><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> big=<span class="hljs-number">31</span>, small=<span class="hljs-number">30</span>, two29=<span class="hljs-number">29</span>, two28=<span class="hljs-number">28</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d-%d&quot;</span>, &amp;year, &amp;month);<br>    <span class="hljs-keyword">switch</span> (month) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, (year%<span class="hljs-number">4</span>==<span class="hljs-number">0</span>&amp;&amp;year%<span class="hljs-number">100</span>!=<span class="hljs-number">0</span>) || year%<span class="hljs-number">400</span>==<span class="hljs-number">0</span> ? two29 : two28);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">default</span>:<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="亮点！！！"><a href="#亮点！！！" class="headerlink" title="亮点！！！"></a>亮点！！！</h4><p>我第一次使用了三目运算符！！！</p><p>见第14行代码：</p><blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, (year%<span class="hljs-number">4</span>==<span class="hljs-number">0</span>&amp;&amp;year%<span class="hljs-number">100</span>!=<span class="hljs-number">0</span>) || year%<span class="hljs-number">400</span>==<span class="hljs-number">0</span> ? two29 : two28);<br></code></pre></td></tr></table></figure></blockquote><p>实现判断闰年并同时输出2月的天数</p><h4 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h4><p>这是我第一反应想写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> year, month, day;<br>    <span class="hljs-type">int</span> big = <span class="hljs-number">31</span>, small = <span class="hljs-number">30</span>, two29 = <span class="hljs-number">29</span>, two28 = <span class="hljs-number">28</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Please Input the Date:&quot;</span>);<br>    scanf_s(<span class="hljs-string">&quot;%d-%d&quot;</span>, &amp;year, &amp;month);<br>    <span class="hljs-keyword">if</span> (month == <span class="hljs-number">1</span> || month == <span class="hljs-number">3</span> || month == <span class="hljs-number">5</span> || month == <span class="hljs-number">7</span> || month == <span class="hljs-number">8</span> || month == <span class="hljs-number">10</span> || month == <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, big);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (month == <span class="hljs-number">4</span> || month == <span class="hljs-number">6</span> || month == <span class="hljs-number">9</span> || month == <span class="hljs-number">11</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, small);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (month == <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">if</span> (year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span> &amp;&amp; year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, two29);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d days&quot;</span>, two28);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input error!\n&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>确实。可读性没有用switch那么高.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>日历calender</title>
    <link href="/2025/11/10/%E6%97%A5%E5%8E%86calender/"/>
    <url>/2025/11/10/%E6%97%A5%E5%8E%86calender/</url>
    
    <content type="html"><![CDATA[<h1 id="日历calender"><a href="#日历calender" class="headerlink" title="日历calender"></a>日历calender</h1><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天做火车回武汉，在车上无聊，想起来老师教的，用C语言写日历，我便试了试。</p><p>但是考虑到每月有30天，也有31天的，年还有闰年的，我只写了2025年一月和二月的日历</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> year;<br><span class="hljs-type">int</span> i,j=<span class="hljs-number">1</span>,g=<span class="hljs-number">1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;seven one   two   three four  five  six\n                  &quot;</span>);<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;i &lt;= <span class="hljs-number">31</span>;i++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%2.d    &quot;</span>, j);<br>j++;<br><span class="hljs-keyword">if</span> ((i + <span class="hljs-number">7</span>) % <span class="hljs-number">7</span> == <span class="hljs-number">4</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n    &quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">1</span>;k &lt;= <span class="hljs-number">28</span>;k++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%2.d    &quot;</span>, g);<br>g++;<br><span class="hljs-keyword">if</span> ((k + <span class="hljs-number">7</span>) % <span class="hljs-number">7</span> == <span class="hljs-number">1</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>金字塔</title>
    <link href="/2025/11/10/%E7%94%9F%E6%88%90%E9%87%91%E5%AD%97%E5%A1%94Pyramid/"/>
    <url>/2025/11/10/%E7%94%9F%E6%88%90%E9%87%91%E5%AD%97%E5%A1%94Pyramid/</url>
    
    <content type="html"><![CDATA[<h1 id="让电脑生成金字塔Pyramid"><a href="#让电脑生成金字塔Pyramid" class="headerlink" title="让电脑生成金字塔Pyramid"></a>让电脑生成金字塔Pyramid</h1><h4 id="老师上课讲过这个代码"><a href="#老师上课讲过这个代码" class="headerlink" title="- 老师上课讲过这个代码"></a>- 老师上课讲过这个代码</h4><p>现在在回武汉的火车上，于是复刻了一下，听课的时候感觉很难，但其实理清楚</p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="- 代码实现"></a>- 代码实现</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> n,i,j,k;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>;i &lt;= n;i++) &#123;<br><span class="hljs-keyword">for</span> (j = <span class="hljs-number">1</span>;j &lt;= n - i;j++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br><span class="hljs-keyword">for</span> (k = <span class="hljs-number">1</span>;k &lt;= <span class="hljs-number">2</span> * i - <span class="hljs-number">1</span>;k++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*&quot;</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这不最近老是用scanf输入吗，突发奇想试一试用getchar输入，结果好像发现我学的知识只能让我输入0-9的数字，以后再学吧。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>可汗大点兵</title>
    <link href="/2025/11/10/%E5%8F%AF%E6%B1%97%E5%A4%A7%E7%82%B9%E5%85%B5/"/>
    <url>/2025/11/10/%E5%8F%AF%E6%B1%97%E5%A4%A7%E7%82%B9%E5%85%B5/</url>
    
    <content type="html"><![CDATA[<h1 id="可汗大点兵"><a href="#可汗大点兵" class="headerlink" title="可汗大点兵"></a>可汗大点兵</h1><p>妈的，都不想做早操是吧，现在挑出宿舍里面两个人去做操!</p><h4 id="代码1"><a href="#代码1" class="headerlink" title="代码1"></a>代码1</h4><p>这个是王柏森写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>num = rand()%<span class="hljs-number">6</span>+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">switch</span> (num) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;去做早操&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这个代码很简单，用了我的毕生所学，但代码具有局限性，每次只能选出一个人。</p><p>我觉得还行吧~</p><p>后面针对问题修改了一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num1,num2;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>num1 = rand() % <span class="hljs-number">6</span> + <span class="hljs-number">1</span>;<br>num2 = rand() % <span class="hljs-number">6</span> + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">switch</span> (num1) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">switch</span> (num2) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,王柏森&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,王星皓&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,肖鑫灿&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,莫奈&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,石安锐&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,姚祉恒&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;去做早操&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>我勒个豆，什么<strong>屎山代码</strong></p><p>虽然实现了一次选两个人出来，但是无法避免所选的两个人一样的情况，看看别人写的：</p><h4 id="代码2"><a href="#代码2" class="headerlink" title="代码2"></a>代码2</h4><p>这是我舍友 王星皓 写的代码，他真是一个IT天才</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">char</span> name[<span class="hljs-number">6</span>][<span class="hljs-number">20</span>]=&#123;<span class="hljs-string">&quot;莫奈&quot;</span>,<span class="hljs-string">&quot;石安锐&quot;</span>,<span class="hljs-string">&quot;肖鑫灿&quot;</span>,<span class="hljs-string">&quot;姚祉恒&quot;</span>,<span class="hljs-string">&quot;王星皓&quot;</span>,<span class="hljs-string">&quot;王柏森&quot;</span>&#125;;<span class="hljs-comment">//6个元素，每个元素20个字符              </span><br><span class="hljs-type">int</span> idx1,idx2;<br>srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>)); <span class="hljs-comment">//以当前时间生成随机数</span><br>idx1 = rand() % <span class="hljs-number">6</span>; <span class="hljs-comment">//得出一个0-5的数</span><br><span class="hljs-keyword">do</span>&#123;<br>idx2 = rand() % <span class="hljs-number">6</span>; <br>&#125; <span class="hljs-keyword">while</span>(idx1==idx2); <span class="hljs-comment">//确保不重复</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;人见人爱的早操究竟花落谁家呢\n&quot;</span>);<br>sleep(<span class="hljs-number">3</span>); <span class="hljs-comment">//暂停3秒钟</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;今日幸运儿：%s,%s\n&quot;</span>,name[idx1],name[idx2]);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>生成一个随机数</title>
    <link href="/2025/11/05/%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E6%95%B0/"/>
    <url>/2025/11/05/%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%9A%8F%E6%9C%BA%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="利用time-h函数生成一个随机数"><a href="#利用time-h函数生成一个随机数" class="headerlink" title="利用time.h函数生成一个随机数"></a>利用<code>time.h</code>函数生成一个随机数</h1><h3 id="生成一个”随机数”："><a href="#生成一个”随机数”：" class="headerlink" title="生成一个”随机数”："></a>生成一个”随机数”：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 包含rand()、srand()的头文件</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> num;<br>num = rand();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, num);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//直接运行，得到41</span><br><span class="hljs-comment">//再次运行，得到41</span><br><span class="hljs-comment">//再再再次运行，还是得到41</span><br></code></pre></td></tr></table></figure><p>会发现这个随机数有个蛋用！！！</p><h3 id="问题根源"><a href="#问题根源" class="headerlink" title="问题根源"></a>问题根源</h3><p> rand() 函数本身是伪随机数生成器，它的输出是基于一个“种子（seed）”的固定序列：</p><ul><li>默认情况下， rand() 的种子是固定值（通常是 1 ），所以每次运行程序，都会生成相同的随机数序列。</li></ul><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>需要通过 <code>srand()</code> 函数设置随机种子，通常用“当前时间”作为种子（因为时间是持续变化的），步骤如下：</p><ol><li>包含头文件<code> &lt;stdlib.h&gt;</code> 和<code>&lt;time.h&gt;</code>（获取当前时间的函数）；</li><li>在调用 rand() 之前，用 time(NULL) 作为参数调用<code>srand() </code>，<strong>设置动态种子</strong>。</li></ol><h4 id="修正后的代码"><a href="#修正后的代码" class="headerlink" title="修正后的代码"></a>修正后的代码</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span> <span class="hljs-comment">// 包含rand()、srand()的头文件</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;time.h&gt;</span>   <span class="hljs-comment">// 包含time()的头文件</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num;     <span class="hljs-comment">// 设置随机种子（用当前时间，确保每次运行种子不同）</span><br>    srand((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)time(<span class="hljs-literal">NULL</span>));<br>    num = rand();<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, num);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol><li>unsigned int 的基本含义</li></ol><ul><li>unsigned 表示“无符号”，即该类型的变量只能存储非负整数（取值范围是 0 到 2^位数 - 1 ，例如 unsigned int 通常占4字节，范围是 0 ~ 4294967295 ）；</li><li>与之相对的，是普通的 int （有符号整型），可以存储正、负整数和0。</li></ul><ol start="2"><li>这里用 unsigned int 的原因</li></ol><p>​代码中 <code>srand((unsigned int)time(NULL))</code> 是将 time(NULL) 的返回值（ <strong>time_t 类型</strong>，通常是有符号整数）强制转换为 <code>srand() </code>要求的<strong>unsigned int 类型</strong></p><ul><li>time(NULL) 返回当前系统时间的“时间戳”（从1970年1月1日至今的秒数），是一个整数</li><li>强制转换为 unsigned int 是为了匹配 <code>srand() </code>的参数类型，避免类型不匹配的警告&#x2F;错误。</li></ul><p>简单说： unsigned int 是“无符号的整数类型”，这里用来适配 <code>srand() </code>的参数要求。</p><h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><ul><li>rand() 生成的是0到 RAND_MAX （通常是 32767 ）之间的整数；</li><li>若需要指定范围的随机数（比如 [a, b] ），可以用公式： rand() % (b - a + 1) + a 。</li></ul><h6 id="生成一个范围在【0，100】的随机数："><a href="#生成一个范围在【0，100】的随机数：" class="headerlink" title="生成一个范围在【0，100】的随机数："></a>生成一个范围在【0，100】的随机数：</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//简化</span><br>srand(time(<span class="hljs-literal">NULL</span>));<br>a = rand()%<span class="hljs-number">100</span> + <span class="hljs-number">1</span> ;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>循环中RETRY的用法</title>
    <link href="/2025/11/05/%E5%BE%AA%E7%8E%AF%E4%B8%ADRETRY%E7%9A%84%E7%94%A8%E6%B3%95/"/>
    <url>/2025/11/05/%E5%BE%AA%E7%8E%AF%E4%B8%ADRETRY%E7%9A%84%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="循环中RETRY的用法"><a href="#循环中RETRY的用法" class="headerlink" title="循环中RETRY的用法"></a>循环中RETRY的用法</h1><p>需求：要求用户输入正整数，若输入不合法则重试。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> num;<br>RETRY: <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入一个正整数：&quot;</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num) != <span class="hljs-number">1</span> || num &lt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// 清空输入缓冲区的无效内容</span><br>        <span class="hljs-keyword">while</span> (getchar() != <span class="hljs-string">&#x27;\n&#x27;</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入不合法！请重新输入\n&quot;</span>);<br>        <span class="hljs-keyword">goto</span> RETRY; <span class="hljs-comment">// 跳转到RETRY标记处，重新执行输入逻辑</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;你输入的正整数是：%d\n&quot;</span>, num);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>说明</p><ul><li>RETRY:  是一个标签（Label），用于标记代码中的位置；</li><li>goto RETRY;  表示跳转到 RETRY 标签对应的代码行，实现“重试”的循环逻辑；</li><li>这种方式常用于循环内的局部重试（但需谨慎使用 goto ，避免代码逻辑混乱）。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>数字字符</title>
    <link href="/2025/11/05/%E6%95%B0%E5%AD%97%E5%92%8C%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6/"/>
    <url>/2025/11/05/%E6%95%B0%E5%AD%97%E5%92%8C%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="数字和数字字符"><a href="#数字和数字字符" class="headerlink" title="数字和数字字符"></a>数字和数字字符</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>今天遇到一个C语言编程题：</p><p>要求实现”输入字符并判断是否为数字字符，是则转换为整数，否则输出错误”的功能</p><p>我第一次写的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">char</span> a;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please input an digit character:&quot;</span>);<br>    a = getchar();<br>    <span class="hljs-keyword">if</span> (a &lt;= <span class="hljs-number">9</span> &amp;&amp; a &gt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;character &#x27;%c&#x27; is changed to integer %d&quot;</span>, a, a );<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;INPUT ERROR!&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>可以说写了个几把<br>无论我输入什么，结果都是INPUT ERROR!</p><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><ol><li>判断条件错误</li></ol><p>代码中 if (a &lt;&#x3D; 9 &amp;&amp; a &gt;&#x3D; 0) 的含义是：判断字符 a 对应的ASCII码值是否在0<del>9之间。<br>但数字字符（ ‘0’</del>‘9’ ）的ASCII码值是48~57，因此这个条件永远无法匹配数字字符，导致：</p><ul><li>输入数字字符（比如 ‘2’ ，ASCII码是50）时，会进入 else 分支，输出 INPUT ERROR! ；</li><li>只有输入ASCII码为0~9的字符（比如空字符、控制字符）时，才会进入 if 分支，但这些不是数字字符。</li></ul><ol start="2"><li>数字转换错误，没有搞懂数字字符转整数的原理</li></ol><p>即使条件正确，代码中 <code>printf </code>里的 a （输出整数）也会直接输出字符的ASCII码值，而非对应的数字。<br>比如输入 ‘2’ ， a 的ASCII码是50，会输出 integer 50 ，而非期望的 2 。</p><h3 id="代码改正"><a href="#代码改正" class="headerlink" title="代码改正"></a>代码改正</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cx">#include &lt;stdio.h&gt;<br>int main()<br>&#123;<br>    char a;<br>    printf(&quot;please input an digit character:&quot;);<br>    a = getchar();<br>    if (a &lt;= &#x27;9&#x27; &amp;&amp; a &gt;= &#x27;0&#x27;) &#123;<br>        printf(&quot;character &#x27;%c&#x27; is changed to integer %d&quot;, a, a - &#x27;0&#x27;);<br>    &#125; else &#123;<br>        printf(&quot;INPUT ERROR!&quot;);<br>    &#125;<br>    return 0;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="改正分析"><a href="#改正分析" class="headerlink" title="改正分析"></a>改正分析</h3><ol><li>为什么  ‘9’   ‘0’  要打引号？</li></ol><p>在C语言中，单引号包裹的内容是“<strong>字符常量</strong>”，代表该字符对应的<strong>ASCII码值</strong>：</p><ul><li>字符  ‘0’  对应的ASCII码值是48， ‘9’  对应的ASCII码值是57；</li><li>代码中  a &lt;&#x3D; ‘9’ &amp;&amp; a &gt;&#x3D; ‘0’ ，实际是判断变量  a  存储的ASCII码值是否在48~57之间，以此确定  a  是否是数字字符。</li></ul><p>如果不打引号（直接写  9  或  0 ），表示的是整数9、0，其ASCII码对应的字符不是数字字符，会导致判断逻辑错误。</p><ol start="2"><li>为什么  a - ‘0’  中的  ‘0’  要打引号？</li></ol><p>&#x3D;&#x3D;数字字符转整数的原理&#x3D;&#x3D;，是利用数字字符的ASCII码是连续的：</p><ul><li>字符  ‘0’  的ASCII码是48， ‘1’  是49，…， ‘9’  是57；</li><li>当  a  是数字字符时， a - ‘0’  等价于“该字符的ASCII码值 - 48”，<strong>结果正好是对应的整数</strong>（比如  ‘2’ - ‘0’  等于  50 - 48 &#x3D; 2 ）。</li></ul><p>如果  0  不打引号（写成  a - 0 ），只是把字符  a  对应的ASCII码值作为整数输出（比如  ‘2’ - 0  会得到50），无法得到正确的数字。</p><hr><h2 id="数字字符"><a href="#数字字符" class="headerlink" title="数字字符"></a>数字字符</h2><h3 id="一、核心定义"><a href="#一、核心定义" class="headerlink" title="一、核心定义"></a>一、核心定义</h3><p>在 C 语言中，<strong>数字字符</strong> 指的是在源代码中用来构成 <strong>数字常量</strong> 的字符。这些字符告诉编译器：“这里是一个数字值”。</p><h3 id="二、具体分类与含义"><a href="#二、具体分类与含义" class="headerlink" title="二、具体分类与含义"></a>二、具体分类与含义</h3><p>C 语言中的数字字符主要分为以下几类：</p><h4 id="1-十进制数字字符"><a href="#1-十进制数字字符" class="headerlink" title="1. 十进制数字字符"></a>1. 十进制数字字符</h4><p>这是最常见的形式。</p><ul><li><p><strong>字符集</strong>： <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code></p></li><li><p><strong>用途</strong>： 用于构成十进制整数和浮点数常量。</p></li><li><p><strong>示例</strong>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> age = <span class="hljs-number">25</span>;          <span class="hljs-comment">// ‘2’和‘5’是数字字符</span><br><span class="hljs-type">float</span> price = <span class="hljs-number">9.99</span>;    <span class="hljs-comment">// ‘9’, ‘.’, ‘9’, ‘9’ 共同构成一个浮点数常量</span><br></code></pre></td></tr></table></figure></li></ul><blockquote><h4 id="2-八进制数字字符"><a href="#2-八进制数字字符" class="headerlink" title="2. 八进制数字字符"></a>2. 八进制数字字符</h4><p>当数字以 <code>0</code> 开头时，C 语言会将其解释为八进制数。</p><ul><li><p><strong>字符集</strong>： <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code></p></li><li><p><strong>注意</strong>： <code>8</code> 和 <code>9</code> <strong>不是</strong>有效的八进制数字字符。如果出现，编译器会报错。</p></li><li><p><strong>示例</strong>：</p></li></ul> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> perm = <span class="hljs-number">0644</span>;       <span class="hljs-comment">// 这是一个八进制数，对应十进制的420</span><br><span class="hljs-comment">// int error = 089;    // 错误！‘8’和‘9’不是八进制数字字符</span><br></code></pre></td></tr></table></figure><h4 id="3-十六进制数字字符"><a href="#3-十六进制数字字符" class="headerlink" title="3. 十六进制数字字符"></a>3. 十六进制数字字符</h4><p>当数字以 <code>0x</code> 或 <code>0X</code> 开头时，C 语言会将其解释为十六进制数。</p><ul><li><p><strong>字符集</strong>： <code>0</code>-<code>9</code>, <code>a</code>-<code>f</code>, <code>A</code>-<code>F</code></p></li><li><p>这里的字母 <code>a</code>-<code>f</code>（或 <code>A</code>-<code>F</code>）<strong>也是数字字符</strong>，它们分别代表十进制的 10 到 15。</p></li><li><p><strong>示例</strong>：</p></li></ul> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> mask = <span class="hljs-number">0xFF</span>;       <span class="hljs-comment">// ‘F’和‘F’是十六进制数字字符，代表十进制的255</span><br><span class="hljs-type">int</span> error_code = <span class="hljs-number">0x1A3F</span>; <span class="hljs-comment">// ‘1’, ‘A’, ‘3’, ‘F’ 都是数字字符</span><br></code></pre></td></tr></table></figure></blockquote><h4 id="4-浮点数特有的数字字符"><a href="#4-浮点数特有的数字字符" class="headerlink" title="4. 浮点数特有的数字字符"></a>4. 浮点数特有的数字字符</h4><p>除了 <code>0</code>-<code>9</code> 之外，还有两个特殊字符：</p><ul><li><strong>小数点</strong>： <code>.</code><ul><li>用于区分整数和浮点数，例如 <code>3.14</code>。</li></ul></li><li><strong>指数标记</strong>： <code>e</code> 或 <code>E</code><ul><li>用于科学计数法，例如 <code>1.23e4</code>（表示 1.23 × 10⁴）。这里的 <code>e</code> 或 <code>E</code> 也被视为构成数字常量的一部分。</li></ul></li></ul><hr><h3 id="三、重要区别：数字字符-vs-字符‘0’到‘9’"><a href="#三、重要区别：数字字符-vs-字符‘0’到‘9’" class="headerlink" title="三、重要区别：数字字符 vs. 字符‘0’到‘9’"></a>三、重要区别：数字字符 vs. 字符‘0’到‘9’</h3><p>这是 C 语言中一个至关重要的概念。</p><ul><li><p><strong>数字字符（作为值）</strong>： 是源代码中字面意义上的数字，直接参与构成一个数值。</p><ul><li><code>int x = 5;</code> &#x2F;&#x2F; 这里的 <code>5</code> 是一个<strong>整数值</strong>。</li></ul></li><li><p><strong>字符‘0’到‘9’</strong>： 当它们被放在<strong>单引号</strong>内时，表示一个字符常量。每个这样的字符都有一个对应的 ASCII 码值。</p><ul><li><code>char c = &#39;5&#39;;</code> &#x2F;&#x2F; 这里的 <code>‘5’</code> 是一个<strong>字符</strong>，它在内存中存储的是其 ASCII 码值 <code>53</code>（十进制）。</li></ul></li></ul><p>你不能直接对字符进行算术运算，而是对其 ASCII 码值进行运算。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> result1 = <span class="hljs-number">5</span> + <span class="hljs-number">3</span>;   <span class="hljs-comment">// 结果是 8 (整数加法)</span><br><span class="hljs-type">int</span> result2 = ‘<span class="hljs-number">5</span>’ + ‘<span class="hljs-number">3</span>’; <span class="hljs-comment">// 结果是 53 + 51 = 104 (ASCII码值相加)</span><br><span class="hljs-type">int</span> result3 = ‘<span class="hljs-number">5</span>’ + <span class="hljs-number">3</span>;  <span class="hljs-comment">// 结果是 53 + 3 = 56</span><br></code></pre></td></tr></table></figure><h4 id="如何将字符数字转换为整数值？"><a href="#如何将字符数字转换为整数值？" class="headerlink" title="如何将字符数字转换为整数值？"></a>如何将字符数字转换为整数值？</h4><p>因为字符 <code>‘0’</code> 到 <code>‘9’</code> 的 ASCII 码是连续的（48 到 57），所以可以通过减去 <code>‘0’</code> 的 ASCII 码来轻松转换。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> digit_char = ‘<span class="hljs-number">8</span>’;<br><span class="hljs-type">int</span> digit_value = digit_char - ‘<span class="hljs-number">0</span>’; <span class="hljs-comment">// 相当于 56 - 48 = 8</span><br><span class="hljs-comment">// 现在 digit_value 的值是整数 8，可以进行数学运算了。</span><br></code></pre></td></tr></table></figure><p>&#x3D;&#x3D;C 标准库函数 <code>isdigit()</code> 就是用来判断一个字符是否是 <code>‘0’</code> 到 <code>‘9’</code> 之间的数字字符。&#x3D;&#x3D;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;ctype.h&gt;</span></span><br><span class="hljs-type">char</span> c = getchar();<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(c)) &#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;&#x27;%c&#x27; 是一个数字字符，其值为 %d\n&quot;</span>, c, c - ‘<span class="hljs-number">0</span>’);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h3><p>在 C 语言中，“数字字符”的含义是上下文相关的：</p><ol><li><strong>在源代码中</strong>： 指构成数字常量（十进制、八进制、十六进制、浮点数）的字符 <code>0-9</code>, <code>a-f</code>, <code>A-F</code>, <code>.</code>, <code>e</code>, <code>E</code>。</li><li><strong>在数据处理中</strong>： 通常指单引号内的字符 <code>‘0’</code>-<code>‘9’</code>，它们在内存中以其 ASCII 码值存储。要进行数学运算，必须先将其转换为整数值（例如，通过 <code>c - ‘0’</code>）。</li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>putchar后面括号的用法</title>
    <link href="/2025/11/05/putchar%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8B%AC%E5%8F%B7/"/>
    <url>/2025/11/05/putchar%E5%90%8E%E9%9D%A2%E7%9A%84%E6%8B%AC%E5%8F%B7/</url>
    
    <content type="html"><![CDATA[<p><code>putchar</code> 括号里面的参数使用规则如下：</p><h2 id="1-使用单引号的情况"><a href="#1-使用单引号的情况" class="headerlink" title="1. 使用单引号的情况"></a>1. 使用单引号的情况</h2><p><strong>用于表示单个字符常量：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// 单个字符 - 必须用单引号</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;A&#x27;</span>);      <span class="hljs-comment">// 正确：输出字符 A</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;5&#x27;</span>);      <span class="hljs-comment">// 正确：输出数字字符 5</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27; &#x27;</span>);      <span class="hljs-comment">// 正确：输出空格</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);     <span class="hljs-comment">// 正确：输出换行符</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\t&#x27;</span>);     <span class="hljs-comment">// 正确：输出制表符</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-不使用引号的情况"><a href="#2-不使用引号的情况" class="headerlink" title="2. 不使用引号的情况"></a>2. 不使用引号的情况</h2><p><strong>使用字符变量或整数值：</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> ch = <span class="hljs-string">&#x27;B&#x27;</span>;<br>    <span class="hljs-type">int</span> num = <span class="hljs-number">67</span>;  <span class="hljs-comment">// 67 是 &#x27;C&#x27; 的ASCII码</span><br>    <br>    <span class="hljs-comment">// 使用变量 - 不加引号</span><br>    <span class="hljs-built_in">putchar</span>(ch);       <span class="hljs-comment">// 正确：输出 B</span><br>    <span class="hljs-built_in">putchar</span>(num);      <span class="hljs-comment">// 正确：输出 C</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-number">68</span>);       <span class="hljs-comment">// 正确：输出 D (ASCII 68)</span><br>    <br>    <span class="hljs-comment">// 使用函数返回值</span><br>    <span class="hljs-type">char</span> input = getchar();<br>    <span class="hljs-built_in">putchar</span>(input);    <span class="hljs-comment">// 正确：不加引号</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-错误的使用方法"><a href="#3-错误的使用方法" class="headerlink" title="3. 错误的使用方法"></a>3. 错误的使用方法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// 错误示例</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&quot;A&quot;</span>);      <span class="hljs-comment">// 错误：双引号表示字符串</span><br>    <span class="hljs-built_in">putchar</span>(AB);       <span class="hljs-comment">// 错误：AB 会被当作变量名</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;AB&#x27;</span>);     <span class="hljs-comment">// 错误：单引号内只能有一个字符</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-总结规则"><a href="#4-总结规则" class="headerlink" title="4. 总结规则"></a>4. 总结规则</h2><table><thead><tr><th>情况</th><th>示例</th><th>是否正确</th><th>说明</th></tr></thead><tbody><tr><td>字符常量</td><td><code>putchar(&#39;A&#39;)</code></td><td>✅ 正确</td><td>必须用单引号</td></tr><tr><td>字符变量</td><td><code>putchar(ch)</code></td><td>✅ 正确</td><td>不加引号</td></tr><tr><td>整数值</td><td><code>putchar(65)</code></td><td>✅ 正确</td><td>不加引号，输出ASCII字符</td></tr><tr><td>转义字符</td><td><code>putchar(&#39;\n&#39;)</code></td><td>✅ 正确</td><td>单引号</td></tr><tr><td>字符串</td><td><code>putchar(&quot;A&quot;)</code></td><td>❌ 错误</td><td>双引号表示字符串</td></tr><tr><td>多个字符</td><td><code>putchar(&#39;AB&#39;)</code></td><td>❌ 错误</td><td>单引号内只能一个字符</td></tr></tbody></table><h2 id="5-实际对比示例"><a href="#5-实际对比示例" class="headerlink" title="5. 实际对比示例"></a>5. 实际对比示例</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">char</span> letter = <span class="hljs-string">&#x27;X&#x27;</span>;<br>    <br>    <span class="hljs-comment">// 正确的用法</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;H&#x27;</span>);          <span class="hljs-comment">// 输出: H</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-number">101</span>);          <span class="hljs-comment">// 输出: e (ASCII 101)</span><br>    <span class="hljs-built_in">putchar</span>(letter);       <span class="hljs-comment">// 输出: X</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;\n&#x27;</span>);         <span class="hljs-comment">// 输出换行</span><br>    <br>    <span class="hljs-comment">// 与printf的对比</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, <span class="hljs-string">&#x27;H&#x27;</span>);     <span class="hljs-comment">// 同样输出 H，但更复杂</span><br>    <span class="hljs-built_in">putchar</span>(<span class="hljs-string">&#x27;H&#x27;</span>);          <span class="hljs-comment">// 更简单直接</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="6-记忆技巧"><a href="#6-记忆技巧" class="headerlink" title="6. 记忆技巧"></a>6. 记忆技巧</h2><ul><li><strong>单引号</strong>：用于直接的字符常量，如 <code>&#39;A&#39;</code>, <code>&#39;\n&#39;</code></li><li><strong>无引号</strong>：用于变量、数字、表达式</li><li><strong>永远不用双引号</strong>：双引号表示字符串，<code>putchar</code> 只能处理单个字符</li></ul><p>记住：<strong>putchar 的参数要么是单引号的单个字符，要么是不加引号的变量&#x2F;数字。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>fabs函数的使用注意</title>
    <link href="/2025/11/05/%E9%9C%87%E6%83%8A%EF%BC%9Afabs%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F/"/>
    <url>/2025/11/05/%E9%9C%87%E6%83%8A%EF%BC%9Afabs%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="震惊：fabs函数的使用注意"><a href="#震惊：fabs函数的使用注意" class="headerlink" title="震惊：fabs函数的使用注意"></a>震惊：fabs函数的使用注意</h1><p>那天我正在做一个很简单的题：</p><blockquote><p>求输入数字的绝对值</p></blockquote><p>我立马想到了调用<code>math.h</code>函数解决这个问题</p><p>这是我写的代码，并且我希望将取绝对值这个步骤整合到用于输出的代码中</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-built_in">fabs</span>(a));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//输入-123</span><br><span class="hljs-comment">//输出0</span><br></code></pre></td></tr></table></figure><p>apparently，我写的代码出错了</p><p>因为fabs函数的作用是计算<strong>浮点数</strong>的绝对值，返回值是<code>double</code>类型</p><p>显然，我的<code>a</code>是int类型</p><p>我是这么改的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> a;<br>scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a);<br>a = <span class="hljs-built_in">fabs</span>(a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>“十四五”规划下，推动钢铁循环利用</title>
    <link href="/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8/"/>
    <url>/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁"><a href="#“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁" class="headerlink" title="“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁"></a><strong>“十四五”规划下，推动钢铁循环利用：构筑绿色发展的钢铁脊梁</strong></h3><p>“十四五”时期是我国迈向高质量发展、落实“双碳”目标的关键五年。作为国民经济的重要基础产业，钢铁行业的绿色低碳转型至关重要。其中，大力促进钢铁的重复利用与循环经济，不仅是行业自身降本增效的内在需求，更是国家构建资源节约型、环境友好型社会的战略抉择。推动钢铁从“资源-产品-废物”的线性模式，向“资源-产品-再生资源-产品”的循环模式转变，将为我国工业体系的绿色现代化筑牢坚实基础。</p><h4 id="一、-循环利用：钢铁工业绿色转型的必然路径"><a href="#一、-循环利用：钢铁工业绿色转型的必然路径" class="headerlink" title="一、 循环利用：钢铁工业绿色转型的必然路径"></a><strong>一、 循环利用：钢铁工业绿色转型的必然路径</strong></h4><p>钢铁，作为可无限循环使用的金属材料，其回收再利用具备显著的经济和环境价值。与使用铁矿石进行传统长流程炼钢相比，利用废钢进行短流程电炉炼钢，可节能60%以上，减少二氧化碳排放超过70%，同时减少约40%的用水量，并大幅降低固体废物排放。</p><p>“十四五”规划纲要中明确提出“推动钢铁、石化、建材等原材料产业布局优化和结构调整”，并“全面提高资源利用效率”，构建“废旧物资循环利用体系”。这为钢铁重复利用赋予了前所未有的战略高度。在碳达峰、碳中和的宏观背景下，推动废钢资源的高效回收与绿色利用，无疑是钢铁行业实现碳减排最直接、最有效的抓手，是行业生存与发展的“生命线”。</p><h4 id="二、-面临的挑战与亟待突破的瓶颈"><a href="#二、-面临的挑战与亟待突破的瓶颈" class="headerlink" title="二、 面临的挑战与亟待突破的瓶颈"></a><strong>二、 面临的挑战与亟待突破的瓶颈</strong></h4><p>尽管前景广阔，但我国钢铁循环利用产业在“十四五”期间仍面临诸多挑战：</p><ol><li><p><strong>废钢资源供给与质量不稳定。</strong> 我国社会钢铁蓄积量虽已进入加速释放期，但废钢回收体系仍显分散、无序。回收渠道多以“拾荒大军”为主，缺乏规模化、规范化的回收企业，导致资源供应波动大，且分类混杂，杂质含量高，直接影响后续冶炼的稳定性和钢材质量。</p></li><li><p><strong>技术工艺与标准体系有待提升。</strong> 废钢中常含有铜、锡等残留元素，其在循环过程中会不断累积，影响高端钢材的性能。如何通过先进的分选、加工和冶炼技术“净化”废钢，是行业的技术难点。同时，关于废钢质量判定、再生钢材标准等体系尚不完善，制约了其在高附加值领域的应用。</p></li><li><p><strong>政策与市场环境需进一步优化。</strong> 短流程电炉炼钢在电价、环保等方面的成本优势尚未完全显现。增值税发票链条不畅、区域间资源竞争无序等问题，也影响了废钢资源的市场化高效配置。</p></li></ol><h4 id="三、-“十四五”期间的破局之道与战略举措"><a href="#三、-“十四五”期间的破局之道与战略举措" class="headerlink" title="三、 “十四五”期间的破局之道与战略举措"></a><strong>三、 “十四五”期间的破局之道与战略举措</strong></h4><p>为破解上述难题，真正将钢铁重复利用推向新高度，需从国家到行业、企业层面协同发力：</p><ol><li><p><strong>构建现代化废钢回收网络，保障资源“稳”与“净”。</strong> 应依托“城市矿产”示范基地、大型钢铁企业，培育一批区域性的废钢回收、加工、配送一体化示范企业。利用物联网、大数据等技术，建立废钢资源溯源与信息共享平台，实现回收渠道的规范化、网络化，从源头提升废钢质量。</p></li><li><p><strong>强化科技创新驱动，攻克“质”的难题。</strong> 鼓励企业研发和引进智能分选、高效打包、绿色除杂等先进预处理技术。支持电炉炼钢流程优化、节能降耗技术的攻关，如超高功率电炉、量子电弧炉等。同时，建立健全再生钢铁原料产品标准体系，引导下游用户消除对再生钢材的偏见，拓展其在汽车、家电、建筑等高端市场的应用。</p></li><li><p><strong>完善政策支持体系，优化市场“软环境”。</strong> 落实对短流程炼钢的扶持政策，如在电价上给予优惠，在碳排放交易中体现其减排价值。进一步简化、优化废钢增值税优惠政策，解决进项税抵扣难题，让合规企业“轻装上阵”。加强行业监管，打击“地条钢”死灰复燃，为合法合规的钢铁循环利用创造公平竞争的市场秩序。</p></li><li><p><strong>倡导全生命周期绿色设计，从源头为循环“赋能”。</strong> 推动“绿色制造”理念向上游延伸，鼓励钢材生产企业和装备制造商在产品设计阶段就考虑易拆解、易回收和再制造，推行“绿色设计”，减少有害残留元素的使用，为未来的循环利用扫清障碍。</p></li></ol><h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a><strong>结语</strong></h4><p>“十四五”规划为钢铁行业的未来描绘了清晰的绿色蓝图。大力促进钢铁的重复利用，已不再是一道“选择题”，而是一道关乎行业可持续发展和国家生态安全的“必答题”。它要求我们以系统思维，贯通回收、加工、制造、应用的全产业链，通过政策引导、技术创新和市场机制的三轮驱动，将废钢这一“城市矿产”真正转化为支撑高质量发展的“绿色富矿”。当每一块废旧钢铁都能物尽其用，我们不仅锻造了更加坚韧的工业脊梁，更是在铸造一个人与自然和谐共生的美好未来。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>逻辑运算符</title>
    <link href="/2025/11/01/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/01/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<p>逻辑运算符</p><p>关键特性：短路求值</p><p> &amp;&amp; 会遵循“短路”规则：</p><ul><li>若左侧表达式的结果为假，则右侧表达式不会被执行（因为此时整体结果已经可以确定为假）；</li><li>只有左侧表达式为真时，才会执行右侧表达式。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>常用 Markdown 语法速查表</title>
    <link href="/2025/11/01/%E5%B8%B8%E7%94%A8%20Markdown%20%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5%E8%A1%A8/"/>
    <url>/2025/11/01/%E5%B8%B8%E7%94%A8%20Markdown%20%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="常用-Markdown-语法速查表（可直接复制使用）"><a href="#常用-Markdown-语法速查表（可直接复制使用）" class="headerlink" title="常用 Markdown 语法速查表（可直接复制使用）"></a>常用 Markdown 语法速查表（可直接复制使用）</h1><h2 id="一、标题"><a href="#一、标题" class="headerlink" title="一、标题"></a>一、标题</h2><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><hr><h2 id="二、文本格式"><a href="#二、文本格式" class="headerlink" title="二、文本格式"></a>二、文本格式</h2><ul><li>加粗：<strong>加粗文本</strong></li><li>斜体：<em>斜体文本</em></li><li>加粗斜体：<em><strong>加粗斜体文本</strong></em></li><li>删除线：<del>删除线文本</del></li><li>下划线：下划线文本</li><li>高亮：&#x3D;&#x3D; 高亮文本 &#x3D;&#x3D;（部分编辑器支持）</li></ul><hr><h2 id="三、列表"><a href="#三、列表" class="headerlink" title="三、列表"></a>三、列表</h2><h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><ul><li>列表项 1</li><li>列表项 2<ul><li>子列表项 2-1</li><li>子列表项 2-2</li></ul></li></ul><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><ol><li>列表项 1</li><li>列表项 2<ol><li>子列表项 2-1</li><li>子列表项 2-2</li></ol></li></ol><h3 id="任务列表"><a href="#任务列表" class="headerlink" title="任务列表"></a>任务列表</h3><ul><li>已完成任务</li><li>未完成任务</li></ul><hr><h2 id="四、引用"><a href="#四、引用" class="headerlink" title="四、引用"></a>四、引用</h2><blockquote><p>一级引用</p><blockquote><p>二级引用</p><blockquote><p>三级引用</p></blockquote></blockquote></blockquote><hr><h2 id="五、代码块"><a href="#五、代码块" class="headerlink" title="五、代码块"></a>五、代码块</h2><hr><h2 id="六、链接与图片"><a href="#六、链接与图片" class="headerlink" title="六、链接与图片"></a>六、链接与图片</h2><h3 id="普通链接"><a href="#普通链接" class="headerlink" title="普通链接"></a>普通链接</h3><p><a href="https://www.example.com/">链接名称</a></p><h3 id="锚点链接（跳转到当前文档标题）"><a href="#锚点链接（跳转到当前文档标题）" class="headerlink" title="锚点链接（跳转到当前文档标题）"></a>锚点链接（跳转到当前文档标题）</h3><p><a href="https://www.doubao.com/chat/26502464248456706#%E4%B8%80%E7%BA%A7%E6%A0%87%E9%A2%98">跳转到一级标题</a></p><h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><h3 id="带链接的图片"><a href="#带链接的图片" class="headerlink" title="带链接的图片"></a>带链接的图片</h3><hr><h2 id="七、表格"><a href="#七、表格" class="headerlink" title="七、表格"></a>七、表格</h2><table><thead><tr><th>表头 1</th><th>表头 2</th><th>表头 3</th></tr></thead><tbody><tr><td>内容 1</td><td>内容 2</td><td>内容 3</td></tr><tr><td>内容 4</td><td>内容 5</td><td>内容 6</td></tr></tbody></table><h3 id="对齐方式"><a href="#对齐方式" class="headerlink" title="对齐方式"></a>对齐方式</h3><table><thead><tr><th>左对齐</th><th>居中对齐</th><th>右对齐</th></tr></thead><tbody><tr><td>内容 1</td><td>内容 2</td><td>内容 3</td></tr></tbody></table><hr><h2 id="八、分割线"><a href="#八、分割线" class="headerlink" title="八、分割线"></a>八、分割线</h2><hr><hr><hr><hr><h2 id="九、其他常用语法"><a href="#九、其他常用语法" class="headerlink" title="九、其他常用语法"></a>九、其他常用语法</h2><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>这是需要脚注的文本<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.doubao.com/chat/脚注内容">[1]</span></a></sup></p><h3 id="表情符号（部分编辑器支持）"><a href="#表情符号（部分编辑器支持）" class="headerlink" title="表情符号（部分编辑器支持）"></a>表情符号（部分编辑器支持）</h3><p>:smile: :heart: :star:</p><h3 id="数学公式（需支持-LaTeX）"><a href="#数学公式（需支持-LaTeX）" class="headerlink" title="数学公式（需支持 LaTeX）"></a>数学公式（需支持 LaTeX）</h3><p>(E&#x3D;mc^2)（行内公式）</p><p>$</p><p>(\sum_{i&#x3D;1}^n i &#x3D; \frac{n(n+1)}{2})</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.doubao.com/chat/%E8%84%9A%E6%B3%A8%E5%86%85%E5%AE%B9">https://www.doubao.com/chat/脚注内容</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>时间时钟</title>
    <link href="/2025/11/01/%E6%97%B6%E9%97%B4%E6%97%B6%E9%92%9F/"/>
    <url>/2025/11/01/%E6%97%B6%E9%97%B4%E6%97%B6%E9%92%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="时间时钟"><a href="#时间时钟" class="headerlink" title="时间时钟"></a>时间时钟</h1><p>碰见个题目：输入爱尔兰的当前时间，并显示其对应的华盛顿时间（减5个小时），莫斯科时间（加3个小时），北京时间（加7个小时）。输入的时间采用24小时制，如22：35（晚上10：35）。</p><p>很简单，但比较复杂，总之，就是这么写的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> min;<br>    <span class="hljs-type">int</span> ire, was, mos, bei;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:%d&quot;</span>, &amp;ire, &amp;min);<br>    was = ire - <span class="hljs-number">5</span>;<br>    mos = ire + <span class="hljs-number">3</span>;<br>    bei = ire + <span class="hljs-number">7</span>;<br><br>    <span class="hljs-keyword">if</span> (ire &gt;= <span class="hljs-number">12</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was, min);<br>        <span class="hljs-keyword">if</span> (mos &gt; <span class="hljs-number">24</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos - <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos, min);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (bei &gt; <span class="hljs-number">24</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei - <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei, min);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">if</span> (was &lt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was + <span class="hljs-number">24</span>, min);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Washington: %d:%d\n&quot;</span>, was, min);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Moscow: %d:%d\n&quot;</span>, mos, min);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Beijing: %d:%d\n&quot;</span>, bei, min);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>三目运算符</title>
    <link href="/2025/11/01/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2025/11/01/%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h1><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">condition ? expression1 : expression2<br></code></pre></td></tr></table></figure><h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><ul><li>首先计算 <code>condition</code> 的值</li><li>如果 <code>condition</code> 为真（非零），则计算并返回 <code>expression1</code> 的值</li><li>如果 <code>condition</code> 为假（零），则计算并返回 <code>expression2</code> 的值</li></ul><h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>, b = <span class="hljs-number">20</span>;<br>    <br>    <span class="hljs-comment">// 基本用法</span><br>    <span class="hljs-type">int</span> max = (a &gt; b) ? a : b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;较大的数是: %d\n&quot;</span>, max);  <span class="hljs-comment">// 输出: 20</span><br>    <br>    <span class="hljs-comment">// 判断奇偶</span><br>    <span class="hljs-type">int</span> num = <span class="hljs-number">15</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d 是%s\n&quot;</span>, num, (num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) ? <span class="hljs-string">&quot;偶数&quot;</span> : <span class="hljs-string">&quot;奇数&quot;</span>);<br>    <span class="hljs-comment">// 输出: 15 是奇数</span><br>    <br>    <span class="hljs-comment">// 赋值给不同变量类型</span><br>    <span class="hljs-type">double</span> result = (a &gt; b) ? <span class="hljs-number">3.14</span> : <span class="hljs-number">2.71</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;结果: %.2f\n&quot;</span>, result);  <span class="hljs-comment">// 输出: 2.71</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li><strong>优先级</strong>：三目运算符的优先级较低，建议使用括号明确运算顺序</li><li><strong>类型兼容</strong>：<code>expression1</code> 和 <code>expression2</code> 的类型应该兼容</li><li><strong>副作用</strong>：避免在表达式中使用有副作用的操作</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 不推荐的写法（有副作用）</span><br><span class="hljs-type">int</span> x = <span class="hljs-number">5</span>, y = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> z = (x++ &gt; <span class="hljs-number">3</span>) ? x : y;  <span class="hljs-comment">// 难以预测的行为</span><br><br><span class="hljs-comment">// 推荐的写法</span><br><span class="hljs-type">int</span> z = (x &gt; <span class="hljs-number">3</span>) ? (x + <span class="hljs-number">1</span>) : y;<br>x++;  <span class="hljs-comment">// 明确的自增操作</span><br></code></pre></td></tr></table></figure><h2 id="适用场景"><a href="#适用场景" class="headerlink" title="适用场景"></a>适用场景</h2><ul><li>简单的条件赋值</li><li>返回两个值中的一个</li><li>简化简单的 if-else 逻辑</li><li>在宏定义中使用</li></ul><p><strong>三目运算符可以使代码更简洁，但过度使用或嵌套过多会降低代码可读性。</strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>“十四五”规划下，推动钢铁循环利用（手搓版）</title>
    <link href="/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8(%E6%89%8B%E6%90%93%E7%89%88)/"/>
    <url>/2025/11/01/%E2%80%9C%E5%8D%81%E5%9B%9B%E4%BA%94%E2%80%9D%E8%A7%84%E5%88%92%E4%B8%8B%EF%BC%8C%E6%8E%A8%E5%8A%A8%E9%92%A2%E9%93%81%E5%BE%AA%E7%8E%AF%E5%88%A9%E7%94%A8(%E6%89%8B%E6%90%93%E7%89%88)/</url>
    
    <content type="html"><![CDATA[<p>​“十四五”规划下，推动钢铁循环利用</p><p>“十四五”时期是我国迈向高质量发展、落实“双碳”目标的关键五年，作为国民经济的重要基础产业，钢铁行业的绿色低碳转型至关重要。其中，大力促进钢铁的重复利用与循环经济，不仅是行业自身降低成本、增加效率的内在需求，更是国家构建资源节约型、环境友好型社会的战略抉择。推动我国钢铁行业转行，将为我国工业体系的绿色现代化夯实基础。</p><p>钢铁对于一个国家而言，是工业的“粮食”，是国防的“脊梁”。钢铁是几乎所有工业部门的基础材料，例如建筑用的钢筋，汽车用的板材，机械设备的零部件，数码产品的各种组件等等。此外，没有钢铁，就没有现代国防。坦克、军舰、飞机、导弹、枪支弹药等都以钢铁作为战略物资。可见，钢铁虽然是一种传统材料，但不可否认它至今仍是衡量国家实力的硬指标。</p><p>从清代中国到如今的综合国力第二大国，在中华这片大地上，随着钢铁行业的不断转型，钢铁的重要性也在不断提高。晚清时期，清政府为了“师夷长技以制夷”，发起洋务运动，建立了汉阳铁厂，引入了西方技术和设备，但因技术依赖与人才匮乏等因素，最终失败。直到建国后，由“大跃进”中“以钢为纲”的失败转型，到改革开放后，引入世界先进钢铁生产技术和管理理念后所进行的“规模化、现代化”转型，钢铁产量从建国初期的535万吨，到文革等经济震荡的3000万吨，再到1996年突破亿吨，超越日本成为世界第一。2020年，钢铁产量突破10亿大关，达到10.65亿，更是占全球总产量57%。可见，钢铁行业的转型至关重要。</p><p>那么，现如今的“十四五”规划下，钢铁行业是否需要继续转型？明显，由于绝对产能过剩，我国钢铁行业急需转型。在最严重时期（约2015年前后），中国粗钢产能高达12亿吨，而国内实际消费量仅在7-8亿吨左右，存在巨大供需缺口。近年来，钢铁过剩不仅导致国内钢铁企业亏损，金融风险激增，还导致环境污染和安全隐患突出。</p><p>关于如何转型，由什么型转向什么型，先要弄清钢铁从矿石中提取出来的过程，即冶金工程。传统冶金工程分为两大步骤：一是从矿石中提取金属或金属化合物；二是将其加工成具有良好使用性能的材料。2000年左右，为了提高这两个步骤的效率，进而提高钢铁产能，钢铁企业新建工厂，扩大生产线，降低污染标准，以“粗放规模型”“资源消耗型”盲目抢占市场份额。为了促进钢铁行业转向“集约高效型”“绿色低碳型”，2015年以来，中国政府将“去产能”作为钢铁行业供给侧的首要任务。如今看来，行业转型已取得显著成效，然而，面临绿色转型带来的成本压力，行业转型仍需引领以及一定的缓冲区来适应。</p><p>为此，在“十四五”期间，国家层面出台了一系列规划和政策，进一步解决钢铁过剩问题并促进钢铁回收。一方面，通过严格的产能与总量调控从源头做减法。全国范围内执行不低于1.5:1的钢铁产能置换比例，严禁在京津冀等重点区域新增产能，并持续压减粗钢产量。另一方面，通过大力促进废钢回收与利用为发展寻出路。国家设定了到2025年废钢铁利用量超过3亿吨的目标，并配套了“反向开票”、增值税即征即退等税收优惠，以及利用超长期特别国债资金支持高水平回收项目，显著提升了废钢回收产业的规范化水平和经济性。</p><p>站在“十四五”的关键节点上，钢铁循环利用的深入推进，既是行业破局的现实路径，更是国家绿色发展的长远布局。当“粗放规模”转向“集约循环”，当“资源消耗”升级为“高效再生”，钢铁行业的转型不仅将筑牢工业体系的绿色根基，更能为“双碳”目标的落地、高质量发展的迈进注入持久动力。未来，随着政策体系的持续完善，以及技术创新的不断突破，钢铁循环经济必将在构建资源节约、环境友好的现代化产业布局中，书写下更具分量的时代答卷。</p><p>字数统计：约890字</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>海伦公式</title>
    <link href="/2025/10/27/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F/"/>
    <url>/2025/10/27/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="海伦公式"><a href="#海伦公式" class="headerlink" title="海伦公式"></a>海伦公式</h1><p>已知三角形三边长度<strong>a</strong>,<strong>b</strong>,<strong>c</strong>，求三角形的面积 <strong>S</strong></p><blockquote><p>(p&#x3D;\frac{a+b+c}{2})</p><p> S&#x3D;$\sqrt{p(p-a)p-b)(p-c)}$</p></blockquote><p>以上在高中是不是算的头昏眼花? 现在可以雇佣计算机帮你算！</p><p>以下是代码:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">float</span> a,b,c,p;<br>    <span class="hljs-type">double</span> area;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter 3 floats:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%f,%f,%f&quot;</span>,&amp;a,&amp;b,&amp;c);<br>    p=(a+b+c)/<span class="hljs-number">2.0</span>;<br>    area=p*(p-a)*(p-b)*(p-c);<br>    area=<span class="hljs-built_in">sqrt</span>(area);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;area=%.2f\n&quot;</span>,area);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>测父母性别</title>
    <link href="/2025/10/25/%E6%B5%8B%E8%AF%95%E7%88%B6%E6%AF%8D%E6%80%A7%E5%88%AB/"/>
    <url>/2025/10/25/%E6%B5%8B%E8%AF%95%E7%88%B6%E6%AF%8D%E6%80%A7%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="一键测试父母性别"><a href="#一键测试父母性别" class="headerlink" title="一键测试父母性别"></a>一键测试父母性别</h1><p>不知道父母性别是啥，快来测测吧！</p><p>以下是程序代码(待改进):</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">char</span> parent[<span class="hljs-number">20</span>],a[<span class="hljs-number">20</span>],b[<span class="hljs-number">20</span>],c[<span class="hljs-number">20</span>],d[<span class="hljs-number">20</span>],e[<span class="hljs-number">20</span>],f[<span class="hljs-number">20</span>];<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;这是一个测试父母性别的程序\n******* made by王柏森 *******\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您想测父亲|母亲的性别?\n请输入father or mother： &quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;parent,(<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(parent, <span class="hljs-string">&quot;father&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃早饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;a, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃中饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;b, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃晚饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;c, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您父亲的性别是 男&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(parent, <span class="hljs-string">&quot;mother&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃早饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;d, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃中饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;e, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请问您吃晚饭了吗\n&quot;</span>);<br>scanf_s(<span class="hljs-string">&quot;%19s&quot;</span>, &amp;f, (<span class="hljs-type">unsigned</span>)<span class="hljs-keyword">sizeof</span>(parent));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您母亲的性别是 女&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;输入错误，请输入father或mother&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br><br><br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>解决scanf读取回车</title>
    <link href="/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/"/>
    <url>/2025/10/24/%E8%A7%A3%E5%86%B3scanf%E8%AF%BB%E5%8F%96%E5%9B%9E%E8%BD%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="解决scanf读取回车"><a href="#解决scanf读取回车" class="headerlink" title="解决scanf读取回车"></a>解决scanf读取回车</h1><h3 id="一、问题"><a href="#一、问题" class="headerlink" title="一、问题"></a>一、问题</h3><p>对于<strong>两个连续的scanf</strong>中，下一个scanf读取了上一个scanf输入的回车键</p><p>导致程序无法正常进行</p><p>eg:这是一个计算年利率的程序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>会得到</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">Enter money:<br>1000<br>Enter year:<br></code></pre></td></tr></table></figure><hr><h3 id="二、解决方法"><a href="#二、解决方法" class="headerlink" title="二、解决方法"></a>二、解决方法</h3><h4 id="1-添加一个空格"><a href="#1-添加一个空格" class="headerlink" title="1.添加一个空格"></a>1.添加一个空格</h4><p>利用空格创造一个缓冲区，将上一个的scanf的回车输入缓存区中，使下一个scanf不读取这个回车</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %d&quot;</span>,&amp;year);          <span class="hljs-comment">//注意%d前面的空格</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %lf&quot;</span>,&amp;rate);         <span class="hljs-comment">//注意%d前面的空格</span><br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);   <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-利用-fflush-stdin"><a href="#2-利用-fflush-stdin" class="headerlink" title="2.利用//fflush(stdin)"></a>2.利用<code>//fflush(stdin)</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;year);<br>    <span class="hljs-comment">//fflush(stdin);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-使用-1s"><a href="#3-使用-1s" class="headerlink" title="3.使用%1s"></a>3.使用%1s</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> money,year;<br>    <span class="hljs-type">double</span> rate,sum;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter money:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;money);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter year:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%1s&quot;</span>,&amp;year);       <span class="hljs-comment">//不知道是不是这样的，以后有空问老师</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Enter rate:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;rate);<br>    sum=money*<span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+rate,year);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %.2f\n&quot;</span>,sum);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>宏定义</title>
    <link href="/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/"/>
    <url>/2025/10/24/%E5%AE%8F%E5%AE%9A%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h1><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><blockquote><p>用更有意义的名称代替数字，<strong>便于统一修改和维护</strong><br>提高代码可读性，避免重复代码，没有函数调用的开销</p></blockquote><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br>&gt;<span class="hljs-comment">// 定义宏常量</span><br>&gt;<span class="hljs-meta">#<span class="hljs-keyword">define</span> TAX_RATE 0.1  <span class="hljs-comment">// 税率10%</span></span><br><br>&gt;<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>   <span class="hljs-type">int</span> money;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入金额: &quot;</span>);<br>   <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;money);<br>   <br>   <span class="hljs-comment">// 使用宏计算税费</span><br>   <span class="hljs-type">int</span> tax = money * TAX_RATE;<br>   <span class="hljs-type">int</span> total = money + tax;<br>   <br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;金额: %d元\n&quot;</span>, money);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;税费: %d元\n&quot;</span>, tax);<br>   <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;总计: %d元\n&quot;</span>, total);<br>   <br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&gt;&#125;<br><br>&gt;<span class="hljs-comment">/*输出</span><br><span class="hljs-comment">&gt;请输入金额: 100</span><br><span class="hljs-comment">&gt;金额: 100元</span><br><span class="hljs-comment">&gt;税费: 10元</span><br><span class="hljs-comment">&gt;总计: 110元</span><br><span class="hljs-comment">&gt;*/</span><br></code></pre></td></tr></table></figure></blockquote><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p><code>#define</code> 是编译预处理命令，不是C语句，结尾无分号</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>math.h中的函数</title>
    <link href="/2025/10/24/math.h/"/>
    <url>/2025/10/24/math.h/</url>
    
    <content type="html"><![CDATA[<h1 id="include-中的函数"><a href="#include-中的函数" class="headerlink" title="#include &lt;math.h&gt;中的函数"></a>#include &lt;math.h&gt;中的函数</h1><h2 id="一、幂函数"><a href="#一、幂函数" class="headerlink" title="一、幂函数"></a>一、幂函数</h2><blockquote><p>m^n^  及m的n次方，利用pow函数<br>即<code>pow(m,n)</code></p><p>eg：计算圆的面积</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">double</span> r,are;<br>    <span class="hljs-type">double</span> pi = <span class="hljs-number">3.1415926</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;请输入圆的半径: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>,&amp;r);<br>    are = pi * <span class="hljs-built_in">pow</span>(r,<span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;半径为 %.2f 的圆的面积是: %.2f\n&quot;</span>,r,are);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></blockquote><h2 id="二、浮点数绝对值"><a href="#二、浮点数绝对值" class="headerlink" title="二、浮点数绝对值"></a>二、浮点数绝对值</h2><blockquote><p>对一个负数取绝对值 |-123|&#x3D;123<br>即 <code>fabs(n)</code></p><p>eg 1:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> num1 = <span class="hljs-number">-5.7</span>;<br>    <span class="hljs-type">double</span> num2 = <span class="hljs-number">3.2</span>;<br>    <span class="hljs-type">double</span> num3 = <span class="hljs-number">-0.0</span>;<br>    <br>    <span class="hljs-comment">// 使用fabs计算绝对值</span><br>    <span class="hljs-type">double</span> result1 = <span class="hljs-built_in">fabs</span>(num1);<br>    <span class="hljs-type">double</span> result2 = <span class="hljs-built_in">fabs</span>(num2);<br>    <span class="hljs-type">double</span> result3 = <span class="hljs-built_in">fabs</span>(num3);<br>    <br>    <span class="hljs-comment">// 输出结果</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num1, result1);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num2, result2);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;fabs(%.1f) = %.1f\n&quot;</span>, num3, result3);<br>    <br>    <span class="hljs-comment">// 实际应用示例</span><br>    <span class="hljs-type">double</span> user_input;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n请输入一个数字: &quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>, &amp;user_input);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;您输入的数字的绝对值是: %.2f\n&quot;</span>, <span class="hljs-built_in">fabs</span>(user_input));<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">运行结果:</span><br><span class="hljs-comment">fabs(-5.7) = 5.7</span><br><span class="hljs-comment">fabs(3.2) = 3.2</span><br><span class="hljs-comment">fabs(-0.0) = 0.0</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">请输入一个数字: -8.5</span><br><span class="hljs-comment">您输入的数字的绝对值是: 8.50</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>eg 2:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> g,s,b;<br>    <span class="hljs-type">int</span> x,y;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Input x:&quot;</span>);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    x=<span class="hljs-built_in">fabs</span>(x);<br>    g=x%<span class="hljs-number">10</span>;<br>    s=x/<span class="hljs-number">10</span>%<span class="hljs-number">10</span>;<br>    b=x/<span class="hljs-number">100</span>%<span class="hljs-number">10</span>;<br>    y=g*<span class="hljs-number">100</span>+s*<span class="hljs-number">10</span>+b;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;y=%d\n&quot;</span>,y);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*输出</span><br><span class="hljs-comment">Input x:-123</span><br><span class="hljs-comment">y=321</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></blockquote><h2 id="三、平方根"><a href="#三、平方根" class="headerlink" title="三、平方根"></a>三、平方根</h2><p>​即<code>sqrt</code> <strong>(仅支持非负数)</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">16</span>;<br>x = <span class="hljs-built_in">sqrt</span>(x);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,x);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*输出</span><br><span class="hljs-comment">4</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="四、自然对数的幂次方"><a href="#四、自然对数的幂次方" class="headerlink" title="四、自然对数的幂次方"></a>四、自然对数的幂次方</h2><p>​计算 e^x^ 的值，即用函数<code>exp()</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">double</span> x = <span class="hljs-number">1.0</span>;<br>    <span class="hljs-type">double</span> result = <span class="hljs-built_in">exp</span>(x);<br>    <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;e^%.2f = %.6f\n&quot;</span>, x, result);  <span class="hljs-comment">// 输出: e^1.00 = 2.718282</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>​</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
